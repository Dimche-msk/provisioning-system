import{s as Fe,l as De,m as Ie,o as Xe,u as Ye,p as Ge,q as Ke,d as u,a as H,i as B,b as f,C as k,c as p,e as h,f as j,g as T,h as g,t as C,j as P,k as wt,H as kt,O as nt,D as ot,M as Ue,r as Et,P as Ae,E as st,x as Qe,w as Ne,Q as at,n as Le,F as rt}from"../chunks/DZPSQXeJ.js";import{S as ze,i as Be,d as L,t as E,a as v,m as M,c as F,b as z,f as qe,g as Re,e as ft}from"../chunks/Cz05UYua.js";import{I as We,t as Ve,e as Pe}from"../chunks/RmcInsOZ.js";import{g as Ze,a as ye,B as Te,f as Dt,$ as Tt}from"../chunks/BZbmePXt.js";import{C as it,a as bt}from"../chunks/DDLgvHlR.js";import{C as Pt,a as It}from"../chunks/uveNH-O7.js";import{I as Je}from"../chunks/CzDz-7-G.js";import{L as je}from"../chunks/C25yjnBM.js";import{a as Nt,P as St}from"../chunks/BbgtgXVf.js";import{X as Vt}from"../chunks/DGmHo2Hv.js";import{S as jt,T as Ct}from"../chunks/DUbvlKFl.js";function Ht(a){let e;const n=a[2].default,t=Xe(n,a,a[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ye(t,n,l,l[3],e?Ke(n,l[3],s,null):Ge(l[3]),null)},i(l){e||(v(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function Ot(a){let e,n;const t=[{name:"chevron-left"},a[1],{iconNode:a[0]}];let l={$$slots:{default:[Ht]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)l=De(l,t[s]);return e=new We({props:l}),{c(){z(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,o){M(e,s,o),n=!0},p(s,[o]){const r=o&3?Ze(t,[t[0],o&2&&ye(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){E(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function At(a,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m15 18-6-6 6-6"}]];return a.$$set=o=>{n(1,e=De(De({},e),Ie(o))),"$$scope"in o&&n(3,l=o.$$scope)},e=Ie(e),[s,e,t,l]}class Lt extends ze{constructor(e){super(),Be(this,e,At,Ot,Fe,{})}}function Mt(a){let e;const n=a[2].default,t=Xe(n,a,a[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ye(t,n,l,l[3],e?Ke(n,l[3],s,null):Ge(l[3]),null)},i(l){e||(v(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function Ft(a){let e,n;const t=[{name:"chevron-right"},a[1],{iconNode:a[0]}];let l={$$slots:{default:[Mt]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)l=De(l,t[s]);return e=new We({props:l}),{c(){z(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,o){M(e,s,o),n=!0},p(s,[o]){const r=o&3?Ze(t,[t[0],o&2&&ye(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){E(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function zt(a,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"m9 18 6-6-6-6"}]];return a.$$set=o=>{n(1,e=De(De({},e),Ie(o))),"$$scope"in o&&n(3,l=o.$$scope)},e=Ie(e),[s,e,t,l]}class Bt extends ze{constructor(e){super(),Be(this,e,zt,Ft,Fe,{})}}function qt(a){let e;const n=a[2].default,t=Xe(n,a,a[3],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,s){t&&t.m(l,s),e=!0},p(l,s){t&&t.p&&(!e||s&8)&&Ye(t,n,l,l[3],e?Ke(n,l[3],s,null):Ge(l[3]),null)},i(l){e||(v(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function Rt(a){let e,n;const t=[{name:"upload"},a[1],{iconNode:a[0]}];let l={$$slots:{default:[qt]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)l=De(l,t[s]);return e=new We({props:l}),{c(){z(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,o){M(e,s,o),n=!0},p(s,[o]){const r=o&3?Ze(t,[t[0],o&2&&ye(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(r.$$scope={dirty:o,ctx:s}),e.$set(r)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){E(e.$$.fragment,s),n=!1},d(s){L(e,s)}}}function Jt(a,e,n){let{$$slots:t={},$$scope:l}=e;const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];return a.$$set=o=>{n(1,e=De(De({},e),Ie(o))),"$$scope"in o&&n(3,l=o.$$scope)},e=Ie(e),[s,e,t,l]}class Ut extends ze{constructor(e){super(),Be(this,e,Jt,Rt,Fe,{})}}function ut(a,e,n){const t=a.slice();return t[28]=e[n],t}function ct(a,e,n){const t=a.slice();return t[31]=e[n],t}function dt(a,e,n){const t=a.slice();return t[34]=e[n],t}function Qt(a){let e=(a[9]("phone.search_title")||"Search Phones")+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&512&&e!==(e=(t[9]("phone.search_title")||"Search Phones")+"")&&H(n,e)},d(t){t&&u(n)}}}function Xt(a){let e,n;return e=new It({props:{$$slots:{default:[Qt]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){M(e,t,l),n=!0},p(t,l){const s={};l[0]&512|l[1]&64&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function Yt(a){let e=a[9]("phone.domain")+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("phone.domain")+"")&&H(n,e)},d(t){t&&u(n)}}}function _t(a){let e,n=a[34]+"",t,l;return{c(){e=g("option"),t=C(n),this.h()},l(s){e=p(s,"OPTION",{});var o=h(e);t=j(o,n),o.forEach(u),this.h()},h(){e.__value=l=a[34],Ne(e,e.__value)},m(s,o){B(s,e,o),f(e,t)},p(s,o){o[0]&1&&n!==(n=s[34]+"")&&H(t,n),o[0]&1&&l!==(l=s[34])&&(e.__value=l,Ne(e,e.__value))},d(s){s&&u(e)}}}function Gt(a){let e=a[9]("phone.vendor")+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("phone.vendor")+"")&&H(n,e)},d(t){t&&u(n)}}}function mt(a){let e,n=a[31].name+"",t,l;return{c(){e=g("option"),t=C(n),this.h()},l(s){e=p(s,"OPTION",{});var o=h(e);t=j(o,n),o.forEach(u),this.h()},h(){e.__value=l=a[31].id,Ne(e,e.__value)},m(s,o){B(s,e,o),f(e,t)},p(s,o){o[0]&2&&n!==(n=s[31].name+"")&&H(t,n),o[0]&2&&l!==(l=s[31].id)&&(e.__value=l,Ne(e,e.__value))},d(s){s&&u(e)}}}function Kt(a){let e=a[9]("phone.mac")+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("phone.mac")+"")&&H(n,e)},d(t){t&&u(n)}}}function Wt(a){let e=a[9]("phone.number")+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("phone.number")+"")&&H(n,e)},d(t){t&&u(n)}}}function Zt(a){let e=a[9]("phone.caller_id")+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&512&&e!==(e=t[9]("phone.caller_id")+"")&&H(n,e)},d(t){t&&u(n)}}}function yt(a){let e,n,t=(a[9]("common.search")||"Search")+"",l,s;return e=new jt({props:{class:"mr-2 h-4 w-4"}}),{c(){z(e.$$.fragment),n=P(),l=C(t)},l(o){F(e.$$.fragment,o),n=T(o),l=j(o,t)},m(o,r){M(e,o,r),B(o,n,r),B(o,l,r),s=!0},p(o,r){(!s||r[0]&512)&&t!==(t=(o[9]("common.search")||"Search")+"")&&H(l,t)},i(o){s||(v(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){o&&(u(n),u(l)),L(e,o)}}}function xt(a){let e,n,t,l,s,o,r=(a[9]("common.all")||"All")+"",c,m,J,G,ee,O,U,q=(a[9]("common.all")||"All")+"",ae,Q,Z,X,re,A,I,b,d,Y,K,W,ie,te,ue,$,N,fe,le,S,D,se,de,ve;t=new je({props:{for:"s_domain",$$slots:{default:[Yt]},$$scope:{ctx:a}}});let me=Pe(a[0]),ne=[];for(let i=0;i<me.length;i+=1)ne[i]=_t(dt(a,me,i));G=new je({props:{for:"s_vendor",$$slots:{default:[Gt]},$$scope:{ctx:a}}});let $e=Pe(a[1]),oe=[];for(let i=0;i<$e.length;i+=1)oe[i]=mt(ct(a,$e,i));X=new je({props:{for:"s_mac",$$slots:{default:[Kt]},$$scope:{ctx:a}}}),A=new Je({props:{id:"s_mac",value:a[2].mac,placeholder:"00:11:..."}}),A.$on("input",a[19]),d=new je({props:{for:"s_number",$$slots:{default:[Wt]},$$scope:{ctx:a}}});function we(i){a[20](i)}let pe={id:"s_number",placeholder:"101"};a[2].number!==void 0&&(pe.value=a[2].number),K=new Je({props:pe}),ot.push(()=>ft(K,"value",we)),ue=new je({props:{for:"s_callerid",$$slots:{default:[Zt]},$$scope:{ctx:a}}});function Se(i){a[21](i)}let he={id:"s_callerid",placeholder:"John..."};return a[2].caller_id!==void 0&&(he.value=a[2].caller_id),N=new Je({props:he}),ot.push(()=>ft(N,"value",Se)),D=new Te({props:{disabled:a[6],$$slots:{default:[yt]},$$scope:{ctx:a}}}),D.$on("click",a[22]),{c(){e=g("div"),n=g("div"),z(t.$$.fragment),l=P(),s=g("select"),o=g("option"),c=C(r);for(let i=0;i<ne.length;i+=1)ne[i].c();m=P(),J=g("div"),z(G.$$.fragment),ee=P(),O=g("select"),U=g("option"),ae=C(q);for(let i=0;i<oe.length;i+=1)oe[i].c();Q=P(),Z=g("div"),z(X.$$.fragment),re=P(),z(A.$$.fragment),I=P(),b=g("div"),z(d.$$.fragment),Y=P(),z(K.$$.fragment),ie=P(),te=g("div"),z(ue.$$.fragment),$=P(),z(N.$$.fragment),le=P(),S=g("div"),z(D.$$.fragment),this.h()},l(i){e=p(i,"DIV",{class:!0});var _=h(e);n=p(_,"DIV",{class:!0});var y=h(n);F(t.$$.fragment,y),l=T(y),s=p(y,"SELECT",{id:!0,class:!0});var Ee=h(s);o=p(Ee,"OPTION",{});var w=h(o);c=j(w,r),w.forEach(u);for(let ce=0;ce<ne.length;ce+=1)ne[ce].l(Ee);Ee.forEach(u),y.forEach(u),m=T(_),J=p(_,"DIV",{class:!0});var V=h(J);F(G.$$.fragment,V),ee=T(V),O=p(V,"SELECT",{id:!0,class:!0});var _e=h(O);U=p(_e,"OPTION",{});var ge=h(U);ae=j(ge,q),ge.forEach(u);for(let ce=0;ce<oe.length;ce+=1)oe[ce].l(_e);_e.forEach(u),V.forEach(u),Q=T(_),Z=p(_,"DIV",{class:!0});var x=h(Z);F(X.$$.fragment,x),re=T(x),F(A.$$.fragment,x),x.forEach(u),I=T(_),b=p(_,"DIV",{class:!0});var ke=h(b);F(d.$$.fragment,ke),Y=T(ke),F(K.$$.fragment,ke),ke.forEach(u),ie=T(_),te=p(_,"DIV",{class:!0});var be=h(te);F(ue.$$.fragment,be),$=T(be),F(N.$$.fragment,be),be.forEach(u),_.forEach(u),le=T(i),S=p(i,"DIV",{class:!0});var R=h(S);F(D.$$.fragment,R),R.forEach(u),this.h()},h(){o.__value="",Ne(o,o.__value),k(s,"id","s_domain"),k(s,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),a[2].domain===void 0&&at(()=>a[17].call(s)),k(n,"class","space-y-2"),U.__value="",Ne(U,U.__value),k(O,"id","s_vendor"),k(O,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),a[2].vendor===void 0&&at(()=>a[18].call(O)),k(J,"class","space-y-2"),k(Z,"class","space-y-2"),k(b,"class","space-y-2"),k(te,"class","space-y-2"),k(e,"class","grid grid-cols-1 md:grid-cols-5 gap-4"),k(S,"class","flex justify-end")},m(i,_){B(i,e,_),f(e,n),M(t,n,null),f(n,l),f(n,s),f(s,o),f(o,c);for(let y=0;y<ne.length;y+=1)ne[y]&&ne[y].m(s,null);Ae(s,a[2].domain,!0),f(e,m),f(e,J),M(G,J,null),f(J,ee),f(J,O),f(O,U),f(U,ae);for(let y=0;y<oe.length;y+=1)oe[y]&&oe[y].m(O,null);Ae(O,a[2].vendor,!0),f(e,Q),f(e,Z),M(X,Z,null),f(Z,re),M(A,Z,null),f(e,I),f(e,b),M(d,b,null),f(b,Y),M(K,b,null),f(e,ie),f(e,te),M(ue,te,null),f(te,$),M(N,te,null),B(i,le,_),B(i,S,_),M(D,S,null),se=!0,de||(ve=[Qe(s,"change",a[17]),Qe(O,"change",a[18])],de=!0)},p(i,_){const y={};if(_[0]&512|_[1]&64&&(y.$$scope={dirty:_,ctx:i}),t.$set(y),(!se||_[0]&512)&&r!==(r=(i[9]("common.all")||"All")+"")&&H(c,r),_[0]&1){me=Pe(i[0]);let R;for(R=0;R<me.length;R+=1){const ce=dt(i,me,R);ne[R]?ne[R].p(ce,_):(ne[R]=_t(ce),ne[R].c(),ne[R].m(s,null))}for(;R<ne.length;R+=1)ne[R].d(1);ne.length=me.length}_[0]&5&&Ae(s,i[2].domain);const Ee={};if(_[0]&512|_[1]&64&&(Ee.$$scope={dirty:_,ctx:i}),G.$set(Ee),(!se||_[0]&512)&&q!==(q=(i[9]("common.all")||"All")+"")&&H(ae,q),_[0]&2){$e=Pe(i[1]);let R;for(R=0;R<$e.length;R+=1){const ce=ct(i,$e,R);oe[R]?oe[R].p(ce,_):(oe[R]=mt(ce),oe[R].c(),oe[R].m(O,null))}for(;R<oe.length;R+=1)oe[R].d(1);oe.length=$e.length}_[0]&5&&Ae(O,i[2].vendor);const w={};_[0]&512|_[1]&64&&(w.$$scope={dirty:_,ctx:i}),X.$set(w);const V={};_[0]&4&&(V.value=i[2].mac),A.$set(V);const _e={};_[0]&512|_[1]&64&&(_e.$$scope={dirty:_,ctx:i}),d.$set(_e);const ge={};!W&&_[0]&4&&(W=!0,ge.value=i[2].number,st(()=>W=!1)),K.$set(ge);const x={};_[0]&512|_[1]&64&&(x.$$scope={dirty:_,ctx:i}),ue.$set(x);const ke={};!fe&&_[0]&4&&(fe=!0,ke.value=i[2].caller_id,st(()=>fe=!1)),N.$set(ke);const be={};_[0]&64&&(be.disabled=i[6]),_[0]&512|_[1]&64&&(be.$$scope={dirty:_,ctx:i}),D.$set(be)},i(i){se||(v(t.$$.fragment,i),v(G.$$.fragment,i),v(X.$$.fragment,i),v(A.$$.fragment,i),v(d.$$.fragment,i),v(K.$$.fragment,i),v(ue.$$.fragment,i),v(N.$$.fragment,i),v(D.$$.fragment,i),se=!0)},o(i){E(t.$$.fragment,i),E(G.$$.fragment,i),E(X.$$.fragment,i),E(A.$$.fragment,i),E(d.$$.fragment,i),E(K.$$.fragment,i),E(ue.$$.fragment,i),E(N.$$.fragment,i),E(D.$$.fragment,i),se=!1},d(i){i&&(u(e),u(le),u(S)),L(t),Ue(ne,i),L(G),Ue(oe,i),L(X),L(A),L(d),L(K),L(ue),L(N),L(D),de=!1,Et(ve)}}}function el(a){let e,n,t,l;return e=new Pt({props:{$$slots:{default:[Xt]},$$scope:{ctx:a}}}),t=new bt({props:{class:"space-y-4",$$slots:{default:[xt]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment),n=P(),z(t.$$.fragment)},l(s){F(e.$$.fragment,s),n=T(s),F(t.$$.fragment,s)},m(s,o){M(e,s,o),B(s,n,o),M(t,s,o),l=!0},p(s,o){const r={};o[0]&512|o[1]&64&&(r.$$scope={dirty:o,ctx:s}),e.$set(r);const c={};o[0]&583|o[1]&64&&(c.$$scope={dirty:o,ctx:s}),t.$set(c)},i(s){l||(v(e.$$.fragment,s),v(t.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),E(t.$$.fragment,s),l=!1},d(s){s&&u(n),L(e,s),L(t,s)}}}function tl(a){let e,n,t=(a[9]("phones.import")||"Import")+"",l,s;return e=new Ut({props:{class:"mr-2 h-4 w-4"}}),{c(){z(e.$$.fragment),n=P(),l=C(t)},l(o){F(e.$$.fragment,o),n=T(o),l=j(o,t)},m(o,r){M(e,o,r),B(o,n,r),B(o,l,r),s=!0},p(o,r){(!s||r[0]&512)&&t!==(t=(o[9]("phones.import")||"Import")+"")&&H(l,t)},i(o){s||(v(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){o&&(u(n),u(l)),L(e,o)}}}function ll(a){let e,n,t=(a[9]("phones.create")||"Create Phone")+"",l,s;return e=new Nt({props:{class:"mr-2 h-4 w-4"}}),{c(){z(e.$$.fragment),n=P(),l=C(t)},l(o){F(e.$$.fragment,o),n=T(o),l=j(o,t)},m(o,r){M(e,o,r),B(o,n,r),B(o,l,r),s=!0},p(o,r){(!s||r[0]&512)&&t!==(t=(o[9]("phones.create")||"Create Phone")+"")&&H(l,t)},i(o){s||(v(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){o&&(u(n),u(l)),L(e,o)}}}function nl(a){let e,n,t=Pe(a[3]),l=[];for(let o=0;o<t.length;o+=1)l[o]=$t(ut(a,t,o));const s=o=>E(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=rt()},l(o){for(let r=0;r<l.length;r+=1)l[r].l(o);e=rt()},m(o,r){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(o,r);B(o,e,r),n=!0},p(o,r){if(r[0]&73736){t=Pe(o[3]);let c;for(c=0;c<t.length;c+=1){const m=ut(o,t,c);l[c]?(l[c].p(m,r),v(l[c],1)):(l[c]=$t(m),l[c].c(),v(l[c],1),l[c].m(e.parentNode,e))}for(Re(),c=t.length;c<l.length;c+=1)s(c);qe()}},i(o){if(!n){for(let r=0;r<t.length;r+=1)v(l[r]);n=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)E(l[r]);n=!1},d(o){o&&u(e),Ue(l,o)}}}function ol(a){let e,n,t=(a[9]("common.no_results")||"No results found")+"",l;return{c(){e=g("tr"),n=g("td"),l=C(t),this.h()},l(s){e=p(s,"TR",{});var o=h(e);n=p(o,"TD",{colspan:!0,class:!0});var r=h(n);l=j(r,t),r.forEach(u),o.forEach(u),this.h()},h(){k(n,"colspan","7"),k(n,"class","p-4 text-center text-muted-foreground")},m(s,o){B(s,e,o),f(e,n),f(n,l)},p(s,o){o[0]&512&&t!==(t=(s[9]("common.no_results")||"No results found")+"")&&H(l,t)},i:Le,o:Le,d(s){s&&u(e)}}}function sl(a){let e=a[28].phone_number+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&8&&e!==(e=t[28].phone_number+"")&&H(n,e)},d(t){t&&u(n)}}}function al(a){let e=a[28].ip_address+"",n;return{c(){n=C(e)},l(t){n=j(t,e)},m(t,l){B(t,n,l)},p(t,l){l[0]&8&&e!==(e=t[28].ip_address+"")&&H(n,e)},d(t){t&&u(n)}}}function rl(a){let e,n;return e=new Ct({props:{class:"h-4 w-4"}}),{c(){z(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){M(e,t,l),n=!0},p:Le,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function $t(a){let e,n,t,l,s=vt(a[28])+"",o,r,c,m=gt(a[28].mac_address)+"",J,G,ee,O=a[28].model_id+"",U,q,ae,Q=a[28].vendor+"",Z,X,re,A=a[28].domain+"",I,b,d,Y,K,W,ie,te;function ue(S,D){return S[28].type==="gateway"?al:sl}let $=ue(a),N=$(a);function fe(...S){return a[23](a[28],...S)}Y=new Te({props:{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive hover:bg-destructive/10",$$slots:{default:[rl]},$$scope:{ctx:a}}}),Y.$on("click",fe);function le(){return a[24](a[28])}return{c(){e=g("tr"),n=g("td"),N.c(),t=P(),l=g("td"),o=C(s),r=P(),c=g("td"),J=C(m),G=P(),ee=g("td"),U=C(O),q=P(),ae=g("td"),Z=C(Q),X=P(),re=g("td"),I=C(A),b=P(),d=g("td"),z(Y.$$.fragment),K=P(),this.h()},l(S){e=p(S,"TR",{class:!0});var D=h(e);n=p(D,"TD",{class:!0});var se=h(n);N.l(se),se.forEach(u),t=T(D),l=p(D,"TD",{class:!0});var de=h(l);o=j(de,s),de.forEach(u),r=T(D),c=p(D,"TD",{class:!0});var ve=h(c);J=j(ve,m),ve.forEach(u),G=T(D),ee=p(D,"TD",{class:!0});var me=h(ee);U=j(me,O),me.forEach(u),q=T(D),ae=p(D,"TD",{class:!0});var ne=h(ae);Z=j(ne,Q),ne.forEach(u),X=T(D),re=p(D,"TD",{class:!0});var $e=h(re);I=j($e,A),$e.forEach(u),b=T(D),d=p(D,"TD",{class:!0});var oe=h(d);F(Y.$$.fragment,oe),oe.forEach(u),K=T(D),D.forEach(u),this.h()},h(){k(n,"class","p-4 align-middle"),k(l,"class","p-4 align-middle"),k(c,"class","p-4 align-middle"),k(ee,"class","p-4 align-middle"),k(ae,"class","p-4 align-middle"),k(re,"class","p-4 align-middle"),k(d,"class","p-2 align-middle text-right"),k(e,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted cursor-pointer")},m(S,D){B(S,e,D),f(e,n),N.m(n,null),f(e,t),f(e,l),f(l,o),f(e,r),f(e,c),f(c,J),f(e,G),f(e,ee),f(ee,U),f(e,q),f(e,ae),f(ae,Z),f(e,X),f(e,re),f(re,I),f(e,b),f(e,d),M(Y,d,null),f(e,K),W=!0,ie||(te=Qe(e,"click",le),ie=!0)},p(S,D){a=S,$===($=ue(a))&&N?N.p(a,D):(N.d(1),N=$(a),N&&(N.c(),N.m(n,null))),(!W||D[0]&8)&&s!==(s=vt(a[28])+"")&&H(o,s),(!W||D[0]&8)&&m!==(m=gt(a[28].mac_address)+"")&&H(J,m),(!W||D[0]&8)&&O!==(O=a[28].model_id+"")&&H(U,O),(!W||D[0]&8)&&Q!==(Q=a[28].vendor+"")&&H(Z,Q),(!W||D[0]&8)&&A!==(A=a[28].domain+"")&&H(I,A);const se={};D[1]&64&&(se.$$scope={dirty:D,ctx:a}),Y.$set(se)},i(S){W||(v(Y.$$.fragment,S),W=!0)},o(S){E(Y.$$.fragment,S),W=!1},d(S){S&&u(e),N.d(),L(Y),ie=!1,te()}}}function fl(a){let e,n,t=(a[9]("common.prev")||"Previous")+"",l,s;return e=new Lt({props:{class:"h-4 w-4"}}),{c(){z(e.$$.fragment),n=P(),l=C(t)},l(o){F(e.$$.fragment,o),n=T(o),l=j(o,t)},m(o,r){M(e,o,r),B(o,n,r),B(o,l,r),s=!0},p(o,r){(!s||r[0]&512)&&t!==(t=(o[9]("common.prev")||"Previous")+"")&&H(l,t)},i(o){s||(v(e.$$.fragment,o),s=!0)},o(o){E(e.$$.fragment,o),s=!1},d(o){o&&(u(n),u(l)),L(e,o)}}}function il(a){let e=(a[9]("common.next")||"Next")+"",n,t,l,s;return l=new Bt({props:{class:"h-4 w-4"}}),{c(){n=C(e),t=P(),z(l.$$.fragment)},l(o){n=j(o,e),t=T(o),F(l.$$.fragment,o)},m(o,r){B(o,n,r),B(o,t,r),M(l,o,r),s=!0},p(o,r){(!s||r[0]&512)&&e!==(e=(o[9]("common.next")||"Next")+"")&&H(n,e)},i(o){s||(v(l.$$.fragment,o),s=!0)},o(o){E(l.$$.fragment,o),s=!1},d(o){o&&(u(n),u(t)),L(l,o)}}}function ul(a){let e,n,t,l,s,o=a[9]("phone.number")+"",r,c,m,J=(a[9]("common.description")||"Description")+"",G,ee,O,U=a[9]("phone.mac")+"",q,ae,Q,Z=(a[9]("phone.model")||"Model")+"",X,re,A,I=a[9]("phone.vendor")+"",b,d,Y,K=a[9]("phone.domain")+"",W,ie,te,ue=(a[9]("common.actions")||"Actions")+"",$,N,fe,le,S,D,se,de,ve=(a[9]("common.total")||"Total")+"",me,ne,$e,oe,we,pe,Se,he,i;const _=[ol,nl],y=[];function Ee(w,V){return w[3].length===0?0:1}return le=Ee(a),S=y[le]=_[le](a),pe=new Te({props:{variant:"outline",size:"sm",disabled:a[5]<=1||a[6],$$slots:{default:[fl]},$$scope:{ctx:a}}}),pe.$on("click",a[12]),he=new Te({props:{variant:"outline",size:"sm",disabled:a[5]*Me>=a[4]||a[6],$$slots:{default:[il]},$$scope:{ctx:a}}}),he.$on("click",a[11]),{c(){e=g("div"),n=g("table"),t=g("thead"),l=g("tr"),s=g("th"),r=C(o),c=P(),m=g("th"),G=C(J),ee=P(),O=g("th"),q=C(U),ae=P(),Q=g("th"),X=C(Z),re=P(),A=g("th"),b=C(I),d=P(),Y=g("th"),W=C(K),ie=P(),te=g("th"),$=C(ue),N=P(),fe=g("tbody"),S.c(),D=P(),se=g("div"),de=g("div"),me=C(ve),ne=C(": "),$e=C(a[4]),oe=P(),we=g("div"),z(pe.$$.fragment),Se=P(),z(he.$$.fragment),this.h()},l(w){e=p(w,"DIV",{class:!0});var V=h(e);n=p(V,"TABLE",{class:!0});var _e=h(n);t=p(_e,"THEAD",{class:!0});var ge=h(t);l=p(ge,"TR",{class:!0});var x=h(l);s=p(x,"TH",{class:!0});var ke=h(s);r=j(ke,o),ke.forEach(u),c=T(x),m=p(x,"TH",{class:!0});var be=h(m);G=j(be,J),be.forEach(u),ee=T(x),O=p(x,"TH",{class:!0});var R=h(O);q=j(R,U),R.forEach(u),ae=T(x),Q=p(x,"TH",{class:!0});var ce=h(Q);X=j(ce,Z),ce.forEach(u),re=T(x),A=p(x,"TH",{class:!0});var xe=h(A);b=j(xe,I),xe.forEach(u),d=T(x),Y=p(x,"TH",{class:!0});var et=h(Y);W=j(et,K),et.forEach(u),ie=T(x),te=p(x,"TH",{class:!0});var tt=h(te);$=j(tt,ue),tt.forEach(u),x.forEach(u),ge.forEach(u),N=T(_e),fe=p(_e,"TBODY",{class:!0});var lt=h(fe);S.l(lt),lt.forEach(u),_e.forEach(u),V.forEach(u),D=T(w),se=p(w,"DIV",{class:!0});var Ce=h(se);de=p(Ce,"DIV",{class:!0});var He=h(de);me=j(He,ve),ne=j(He,": "),$e=j(He,a[4]),He.forEach(u),oe=T(Ce),we=p(Ce,"DIV",{class:!0});var Oe=h(we);F(pe.$$.fragment,Oe),Se=T(Oe),F(he.$$.fragment,Oe),Oe.forEach(u),Ce.forEach(u),this.h()},h(){k(s,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(m,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(O,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(Q,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(A,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(Y,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(te,"class","h-12 px-2 text-right align-middle font-medium text-muted-foreground w-[1%] whitespace-nowrap"),k(l,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"),k(t,"class","[&_tr]:border-b"),k(fe,"class","[&_tr:last-child]:border-0"),k(n,"class","w-full caption-bottom text-sm"),k(e,"class","relative w-full overflow-auto"),k(de,"class","flex-1 text-sm text-muted-foreground"),k(we,"class","space-x-2"),k(se,"class","flex items-center justify-end space-x-2 py-4 px-4")},m(w,V){B(w,e,V),f(e,n),f(n,t),f(t,l),f(l,s),f(s,r),f(l,c),f(l,m),f(m,G),f(l,ee),f(l,O),f(O,q),f(l,ae),f(l,Q),f(Q,X),f(l,re),f(l,A),f(A,b),f(l,d),f(l,Y),f(Y,W),f(l,ie),f(l,te),f(te,$),f(n,N),f(n,fe),y[le].m(fe,null),B(w,D,V),B(w,se,V),f(se,de),f(de,me),f(de,ne),f(de,$e),f(se,oe),f(se,we),M(pe,we,null),f(we,Se),M(he,we,null),i=!0},p(w,V){(!i||V[0]&512)&&o!==(o=w[9]("phone.number")+"")&&H(r,o),(!i||V[0]&512)&&J!==(J=(w[9]("common.description")||"Description")+"")&&H(G,J),(!i||V[0]&512)&&U!==(U=w[9]("phone.mac")+"")&&H(q,U),(!i||V[0]&512)&&Z!==(Z=(w[9]("phone.model")||"Model")+"")&&H(X,Z),(!i||V[0]&512)&&I!==(I=w[9]("phone.vendor")+"")&&H(b,I),(!i||V[0]&512)&&K!==(K=w[9]("phone.domain")+"")&&H(W,K),(!i||V[0]&512)&&ue!==(ue=(w[9]("common.actions")||"Actions")+"")&&H($,ue);let _e=le;le=Ee(w),le===_e?y[le].p(w,V):(Re(),E(y[_e],1,1,()=>{y[_e]=null}),qe(),S=y[le],S?S.p(w,V):(S=y[le]=_[le](w),S.c()),v(S,1),S.m(fe,null)),(!i||V[0]&512)&&ve!==(ve=(w[9]("common.total")||"Total")+"")&&H(me,ve),(!i||V[0]&16)&&H($e,w[4]);const ge={};V[0]&96&&(ge.disabled=w[5]<=1||w[6]),V[0]&512|V[1]&64&&(ge.$$scope={dirty:V,ctx:w}),pe.$set(ge);const x={};V[0]&112&&(x.disabled=w[5]*Me>=w[4]||w[6]),V[0]&512|V[1]&64&&(x.$$scope={dirty:V,ctx:w}),he.$set(x)},i(w){i||(v(S),v(pe.$$.fragment,w),v(he.$$.fragment,w),i=!0)},o(w){E(S),E(pe.$$.fragment,w),E(he.$$.fragment,w),i=!1},d(w){w&&(u(e),u(D),u(se)),y[le].d(),L(pe),L(he)}}}function cl(a){let e,n;return e=new bt({props:{class:"p-0",$$slots:{default:[ul]},$$scope:{ctx:a}}}),{c(){z(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){M(e,t,l),n=!0},p(t,l){const s={};l[0]&632|l[1]&64&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function pt(a){let e,n,t,l,s;t=new Te({props:{variant:"ghost",size:"icon",class:"absolute right-4 top-4",$$slots:{default:[dl]},$$scope:{ctx:a}}}),t.$on("click",a[25]);let o=a[7]&&ht(a);return{c(){e=g("div"),n=g("div"),z(t.$$.fragment),l=P(),o&&o.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var c=h(e);n=p(c,"DIV",{class:!0});var m=h(n);F(t.$$.fragment,m),l=T(m),o&&o.l(m),m.forEach(u),c.forEach(u),this.h()},h(){k(n,"class","bg-background dark:bg-slate-900 p-6 rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border dark:border-slate-700 relative"),k(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/50")},m(r,c){B(r,e,c),f(e,n),M(t,n,null),f(n,l),o&&o.m(n,null),s=!0},p(r,c){const m={};c[1]&64&&(m.$$scope={dirty:c,ctx:r}),t.$set(m),r[7]?o?(o.p(r,c),c[0]&128&&v(o,1)):(o=ht(r),o.c(),v(o,1),o.m(n,null)):o&&(Re(),E(o,1,1,()=>{o=null}),qe())},i(r){s||(v(t.$$.fragment,r),v(o),s=!0)},o(r){E(t.$$.fragment,r),E(o),s=!1},d(r){r&&u(e),L(t),o&&o.d()}}}function dl(a){let e,n;return e=new Vt({props:{class:"h-4 w-4"}}),{c(){z(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){M(e,t,l),n=!0},p:Le,i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function ht(a){let e,n;return e=new St({props:{mode:a[7].id?"edit":"create",phone:a[7]}}),e.$on("save",a[15]),{c(){z(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){M(e,t,l),n=!0},p(t,l){const s={};l[0]&128&&(s.mode=t[7].id?"edit":"create"),l[0]&128&&(s.phone=t[7]),e.$set(s)},i(t){n||(v(e.$$.fragment,t),n=!0)},o(t){E(e.$$.fragment,t),n=!1},d(t){L(e,t)}}}function _l(a){let e,n,t,l=(a[9]("menu.phones")||"Phones")+"",s,o,r,c,m,J,G=(a[9]("menu.phones")||"Phones")+"",ee,O,U,q,ae,Q,Z,X,re,A;r=new it({props:{$$slots:{default:[el]},$$scope:{ctx:a}}}),q=new Te({props:{variant:"outline",href:"/phones/import",$$slots:{default:[tl]},$$scope:{ctx:a}}}),Q=new Te({props:{$$slots:{default:[ll]},$$scope:{ctx:a}}}),Q.$on("click",a[14]),X=new it({props:{$$slots:{default:[cl]},$$scope:{ctx:a}}});let I=a[8]&&pt(a);return{c(){e=g("div"),n=g("div"),t=g("h1"),s=C(l),o=P(),z(r.$$.fragment),c=P(),m=g("div"),J=g("h1"),ee=C(G),O=P(),U=g("div"),z(q.$$.fragment),ae=P(),z(Q.$$.fragment),Z=P(),z(X.$$.fragment),re=P(),I&&I.c(),this.h()},l(b){e=p(b,"DIV",{class:!0});var d=h(e);n=p(d,"DIV",{class:!0});var Y=h(n);t=p(Y,"H1",{class:!0});var K=h(t);s=j(K,l),K.forEach(u),Y.forEach(u),o=T(d),F(r.$$.fragment,d),c=T(d),m=p(d,"DIV",{class:!0});var W=h(m);J=p(W,"H1",{class:!0});var ie=h(J);ee=j(ie,G),ie.forEach(u),O=T(W),U=p(W,"DIV",{class:!0});var te=h(U);F(q.$$.fragment,te),ae=T(te),F(Q.$$.fragment,te),te.forEach(u),W.forEach(u),Z=T(d),F(X.$$.fragment,d),re=T(d),I&&I.l(d),d.forEach(u),this.h()},h(){k(t,"class","text-3xl font-bold text-gray-900 dark:text-gray-100"),k(n,"class","flex justify-between items-center"),k(J,"class","text-3xl font-bold text-gray-900 dark:text-gray-100"),k(U,"class","flex gap-2"),k(m,"class","flex justify-between items-center"),k(e,"class","p-6 space-y-6")},m(b,d){B(b,e,d),f(e,n),f(n,t),f(t,s),f(e,o),M(r,e,null),f(e,c),f(e,m),f(m,J),f(J,ee),f(m,O),f(m,U),M(q,U,null),f(U,ae),M(Q,U,null),f(e,Z),M(X,e,null),f(e,re),I&&I.m(e,null),A=!0},p(b,d){(!A||d[0]&512)&&l!==(l=(b[9]("menu.phones")||"Phones")+"")&&H(s,l);const Y={};d[0]&583|d[1]&64&&(Y.$$scope={dirty:d,ctx:b}),r.$set(Y),(!A||d[0]&512)&&G!==(G=(b[9]("menu.phones")||"Phones")+"")&&H(ee,G);const K={};d[0]&512|d[1]&64&&(K.$$scope={dirty:d,ctx:b}),q.$set(K);const W={};d[0]&512|d[1]&64&&(W.$$scope={dirty:d,ctx:b}),Q.$set(W);const ie={};d[0]&632|d[1]&64&&(ie.$$scope={dirty:d,ctx:b}),X.$set(ie),b[8]?I?(I.p(b,d),d[0]&256&&v(I,1)):(I=pt(b),I.c(),v(I,1),I.m(e,null)):I&&(Re(),E(I,1,1,()=>{I=null}),qe())},i(b){A||(v(r.$$.fragment,b),v(q.$$.fragment,b),v(Q.$$.fragment,b),v(X.$$.fragment,b),v(I),A=!0)},o(b){E(r.$$.fragment,b),E(q.$$.fragment,b),E(Q.$$.fragment,b),E(X.$$.fragment,b),E(I),A=!1},d(b){b&&u(e),L(r),L(q),L(Q),L(X),I&&I.d()}}}let Me=20;function gt(a){var n;return a?((n=a.replace(/[^a-fA-F0-9]/g,"").match(/.{1,2}/g))==null?void 0:n.join(":"))||a:""}function vt(a){const e=[];if(a.description&&e.push(a.description),a.type==="phone"&&a.lines){const n=[];for(const t of a.lines){if(t.type!=="line")continue;let l={};if(typeof t.additional_info=="string")try{l=JSON.parse(t.additional_info)}catch{}else typeof t.additional_info=="object"&&(l=t.additional_info||{});let s=l.display_name||l.screen_name||l.user_name||l.auth_name||(t.number?t.number.toString():"");s&&(s.length>20&&(s=s.substring(0,20)+"..."),n.push(s))}n.length>0&&e.push(n.join(", "))}return e.join(": ")}function ml(a,e,n){let t;wt(a,Tt,$=>n(9,t=$));let l=[],s=[],o={domain:"",vendor:"",mac:"",number:"",caller_id:""},r=[],c=0,m=1,J=!1,G=null,ee=!1;kt(async()=>{await Promise.all([O(),U()]),await q()});async function O(){try{const $=await fetch("/api/domains");if($.ok){const N=await $.json();n(0,l=N.domains||[])}}catch($){console.error("Failed to load domains",$)}}async function U(){try{const $=await fetch("/api/vendors");if($.ok){const N=await $.json();n(1,s=N.vendors||[])}}catch($){console.error("Failed to load vendors",$)}}async function q($=1){n(6,J=!0),n(5,m=$);const N=new URLSearchParams({page:m.toString(),limit:Me.toString(),...o});for(const[fe,le]of Object.entries(o))le||N.delete(fe);try{const fe=await fetch(`/api/phones?${N.toString()}`);if(fe.ok){const le=await fe.json();n(3,r=le.phones||[]),n(4,c=le.total||0)}else Ve.error("Failed to load phones")}catch(fe){Ve.error("Error loading phones: "+fe.message)}finally{n(6,J=!1)}}function ae(){m*Me<c&&q(m+1)}function Q(){m>1&&q(m-1)}function Z($){console.debug("Start Phone Editor",$),n(7,G={...$}),n(8,ee=!0)}function X(){n(7,G={domain:l[0]||"",vendor:"",model_id:"",mac_address:"",phone_number:"",ip_address:"",description:"",lines:[],expansion_module_model:"",type:"phone"}),n(8,ee=!0)}function re($){n(8,ee=!1),q(m)}async function A($){if(confirm(t("phone.confirm_delete")||"Are you sure you want to delete this phone?"))try{(await fetch(`/api/phones/${$.id}`,{method:"DELETE"})).ok?(Ve.success(t("phone.deleted")||"Phone deleted"),q(m)):Ve.error(t("phone.delete_failed")||"Failed to delete phone")}catch(N){Ve.error("Error deleting phone: "+N.message)}}function I(){o.domain=nt(this),n(2,o),n(0,l)}function b(){o.vendor=nt(this),n(2,o),n(0,l)}const d=$=>{n(2,o.mac=Dt($.currentTarget.value),o),$.currentTarget.value=o.mac};function Y($){a.$$.not_equal(o.number,$)&&(o.number=$,n(2,o))}function K($){a.$$.not_equal(o.caller_id,$)&&(o.caller_id=$,n(2,o))}return[l,s,o,r,c,m,J,G,ee,t,q,ae,Q,Z,X,re,A,I,b,d,Y,K,()=>q(1),($,N)=>{N.stopPropagation(),A($)},$=>Z($),()=>n(8,ee=!1)]}class Pl extends ze{constructor(e){super(),Be(this,e,ml,_l,Fe,{},null,[-1,-1])}}export{Pl as component};
