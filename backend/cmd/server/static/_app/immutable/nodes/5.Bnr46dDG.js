import{s as Re,o as Ne,p as Ae,q as at,u as rt,r as ft,v as it,d as u,a as j,i as H,b as r,l as k,c as g,e as v,f as S,g as T,h as b,t as N,j as I,k as $t,I as ht,M as Ue,E as Le,N as Me,w as gt,O as Ce,F as Fe,z as Be,y as Ve,P as Xe,n as vt,G as Ye}from"../chunks/2Jl7x50n.js";import{S as Je,i as Ge,d as B,t as V,a as P,m as R,c as J,b as G,f as ut,g as ct,e as qe}from"../chunks/B5CDbBw6.js";import{I as _t,t as Ke,e as Se}from"../chunks/C6YbnEvc.js";import{g as dt,a as mt,B as Oe,$ as bt}from"../chunks/C0KXokiL.js";import{C as Qe,a as pt}from"../chunks/qiXXM-9Q.js";import{C as Et,a as kt}from"../chunks/uUGIWKhH.js";import{I as ze}from"../chunks/CV1r0rXr.js";import{L as je}from"../chunks/QfghSEIA.js";import{X as wt,P as Dt}from"../chunks/BbMAtAf2.js";import{S as Tt}from"../chunks/Cu2mKXjR.js";function It(a){let e;const l=a[2].default,t=at(l,a,a[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&rt(t,l,n,n[3],e?it(l,n[3],s,null):ft(n[3]),null)},i(n){e||(P(t,n),e=!0)},o(n){V(t,n),e=!1},d(n){t&&t.d(n)}}}function Pt(a){let e,l;const t=[{name:"chevron-left"},a[1],{iconNode:a[0]}];let n={$$slots:{default:[It]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)n=Ne(n,t[s]);return e=new _t({props:n}),{c(){G(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,o){R(e,s,o),l=!0},p(s,[o]){const i=o&3?dt(t,[t[0],o&2&&mt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){l||(P(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){B(e,s)}}}function St(a,e,l){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"m15 18-6-6 6-6"}]];return a.$$set=o=>{l(1,e=Ne(Ne({},e),Ae(o))),"$$scope"in o&&l(3,n=o.$$scope)},e=Ae(e),[s,e,t,n]}class Nt extends Je{constructor(e){super(),Ge(this,e,St,Pt,Re,{})}}function Vt(a){let e;const l=a[2].default,t=at(l,a,a[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&rt(t,l,n,n[3],e?it(l,n[3],s,null):ft(n[3]),null)},i(n){e||(P(t,n),e=!0)},o(n){V(t,n),e=!1},d(n){t&&t.d(n)}}}function jt(a){let e,l;const t=[{name:"chevron-right"},a[1],{iconNode:a[0]}];let n={$$slots:{default:[Vt]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)n=Ne(n,t[s]);return e=new _t({props:n}),{c(){G(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,o){R(e,s,o),l=!0},p(s,[o]){const i=o&3?dt(t,[t[0],o&2&&mt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){l||(P(e.$$.fragment,s),l=!0)},o(s){V(e.$$.fragment,s),l=!1},d(s){B(e,s)}}}function Ot(a,e,l){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"m9 18 6-6-6-6"}]];return a.$$set=o=>{l(1,e=Ne(Ne({},e),Ae(o))),"$$scope"in o&&l(3,n=o.$$scope)},e=Ae(e),[s,e,t,n]}class Ct extends Je{constructor(e){super(),Ge(this,e,Ot,jt,Re,{})}}function We(a,e,l){const t=a.slice();return t[26]=e[l],t}function Ze(a,e,l){const t=a.slice();return t[29]=e[l],t}function ye(a,e,l){const t=a.slice();return t[32]=e[l],t}function At(a){let e=(a[9]("phone.add")||"Add Phone")+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&512&&e!==(e=(t[9]("phone.add")||"Add Phone")+"")&&j(l,e)},d(t){t&&u(l)}}}function Ht(a){let e=(a[9]("phone.search_title")||"Search Phones")+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&512&&e!==(e=(t[9]("phone.search_title")||"Search Phones")+"")&&j(l,e)},d(t){t&&u(l)}}}function Lt(a){let e,l;return e=new kt({props:{$$slots:{default:[Ht]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n[0]&512|n[1]&16&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function Ft(a){let e=a[9]("phone.domain")+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.domain")+"")&&j(l,e)},d(t){t&&u(l)}}}function xe(a){let e,l=a[32]+"",t,n;return{c(){e=b("option"),t=N(l),this.h()},l(s){e=g(s,"OPTION",{});var o=v(e);t=S(o,l),o.forEach(u),this.h()},h(){e.__value=n=a[32],Ve(e,e.__value)},m(s,o){H(s,e,o),r(e,t)},p(s,o){o[0]&1&&l!==(l=s[32]+"")&&j(t,l),o[0]&1&&n!==(n=s[32])&&(e.__value=n,Ve(e,e.__value))},d(s){s&&u(e)}}}function qt(a){let e=a[9]("phone.vendor")+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.vendor")+"")&&j(l,e)},d(t){t&&u(l)}}}function et(a){let e,l=a[29].name+"",t,n;return{c(){e=b("option"),t=N(l),this.h()},l(s){e=g(s,"OPTION",{});var o=v(e);t=S(o,l),o.forEach(u),this.h()},h(){e.__value=n=a[29].id,Ve(e,e.__value)},m(s,o){H(s,e,o),r(e,t)},p(s,o){o[0]&2&&l!==(l=s[29].name+"")&&j(t,l),o[0]&2&&n!==(n=s[29].id)&&(e.__value=n,Ve(e,e.__value))},d(s){s&&u(e)}}}function zt(a){let e=a[9]("phone.mac")+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.mac")+"")&&j(l,e)},d(t){t&&u(l)}}}function Mt(a){let e=a[9]("phone.number")+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.number")+"")&&j(l,e)},d(t){t&&u(l)}}}function Bt(a){let e=a[9]("phone.caller_id")+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.caller_id")+"")&&j(l,e)},d(t){t&&u(l)}}}function Rt(a){let e,l,t=(a[9]("common.search")||"Search")+"",n,s;return e=new Tt({props:{class:"mr-2 h-4 w-4"}}),{c(){G(e.$$.fragment),l=I(),n=N(t)},l(o){J(e.$$.fragment,o),l=T(o),n=S(o,t)},m(o,i){R(e,o,i),H(o,l,i),H(o,n,i),s=!0},p(o,i){(!s||i[0]&512)&&t!==(t=(o[9]("common.search")||"Search")+"")&&j(n,t)},i(o){s||(P(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){o&&(u(l),u(n)),B(e,o)}}}function Jt(a){let e,l,t,n,s,o,i=(a[9]("common.all")||"All")+"",w,m,q,O,U,D,p,d=(a[9]("common.all")||"All")+"",h,M,L,Y,le,X,ne,ie,ee,Q,ue,W,Z,$,C,c,y,te,$e,he,ae,oe,re,ce,Pe;t=new je({props:{for:"s_domain",$$slots:{default:[Ft]},$$scope:{ctx:a}}});let se=Se(a[0]),A=[];for(let f=0;f<se.length;f+=1)A[f]=xe(ye(a,se,f));O=new je({props:{for:"s_vendor",$$slots:{default:[qt]},$$scope:{ctx:a}}});let Ee=Se(a[1]),K=[];for(let f=0;f<Ee.length;f+=1)K[f]=et(Ze(a,Ee,f));Y=new je({props:{for:"s_mac",$$slots:{default:[zt]},$$scope:{ctx:a}}});function _e(f){a[18](f)}let E={id:"s_mac",placeholder:"00:11:..."};a[2].mac!==void 0&&(E.value=a[2].mac),X=new ze({props:E}),Le.push(()=>qe(X,"value",_e)),Q=new je({props:{for:"s_number",$$slots:{default:[Mt]},$$scope:{ctx:a}}});function z(f){a[19](f)}let ge={id:"s_number",placeholder:"101"};a[2].number!==void 0&&(ge.value=a[2].number),W=new ze({props:ge}),Le.push(()=>qe(W,"value",z)),c=new je({props:{for:"s_callerid",$$slots:{default:[Bt]},$$scope:{ctx:a}}});function De(f){a[20](f)}let fe={id:"s_callerid",placeholder:"John..."};return a[2].caller_id!==void 0&&(fe.value=a[2].caller_id),te=new ze({props:fe}),Le.push(()=>qe(te,"value",De)),oe=new Oe({props:{disabled:a[6],$$slots:{default:[Rt]},$$scope:{ctx:a}}}),oe.$on("click",a[21]),{c(){e=b("div"),l=b("div"),G(t.$$.fragment),n=I(),s=b("select"),o=b("option"),w=N(i);for(let f=0;f<A.length;f+=1)A[f].c();m=I(),q=b("div"),G(O.$$.fragment),U=I(),D=b("select"),p=b("option"),h=N(d);for(let f=0;f<K.length;f+=1)K[f].c();M=I(),L=b("div"),G(Y.$$.fragment),le=I(),G(X.$$.fragment),ie=I(),ee=b("div"),G(Q.$$.fragment),ue=I(),G(W.$$.fragment),$=I(),C=b("div"),G(c.$$.fragment),y=I(),G(te.$$.fragment),he=I(),ae=b("div"),G(oe.$$.fragment),this.h()},l(f){e=g(f,"DIV",{class:!0});var _=v(e);l=g(_,"DIV",{class:!0});var x=v(l);J(t.$$.fragment,x),n=T(x),s=g(x,"SELECT",{id:!0,class:!0});var ke=v(s);o=g(ke,"OPTION",{});var Te=v(o);w=S(Te,i),Te.forEach(u);for(let de=0;de<A.length;de+=1)A[de].l(ke);ke.forEach(u),x.forEach(u),m=T(_),q=g(_,"DIV",{class:!0});var ve=v(q);J(O.$$.fragment,ve),U=T(ve),D=g(ve,"SELECT",{id:!0,class:!0});var we=v(D);p=g(we,"OPTION",{});var be=v(p);h=S(be,d),be.forEach(u);for(let de=0;de<K.length;de+=1)K[de].l(we);we.forEach(u),ve.forEach(u),M=T(_),L=g(_,"DIV",{class:!0});var me=v(L);J(Y.$$.fragment,me),le=T(me),J(X.$$.fragment,me),me.forEach(u),ie=T(_),ee=g(_,"DIV",{class:!0});var pe=v(ee);J(Q.$$.fragment,pe),ue=T(pe),J(W.$$.fragment,pe),pe.forEach(u),$=T(_),C=g(_,"DIV",{class:!0});var Ie=v(C);J(c.$$.fragment,Ie),y=T(Ie),J(te.$$.fragment,Ie),Ie.forEach(u),_.forEach(u),he=T(f),ae=g(f,"DIV",{class:!0});var F=v(ae);J(oe.$$.fragment,F),F.forEach(u),this.h()},h(){o.__value="",Ve(o,o.__value),k(s,"id","s_domain"),k(s,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),a[2].domain===void 0&&Xe(()=>a[16].call(s)),k(l,"class","space-y-2"),p.__value="",Ve(p,p.__value),k(D,"id","s_vendor"),k(D,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),a[2].vendor===void 0&&Xe(()=>a[17].call(D)),k(q,"class","space-y-2"),k(L,"class","space-y-2"),k(ee,"class","space-y-2"),k(C,"class","space-y-2"),k(e,"class","grid grid-cols-1 md:grid-cols-5 gap-4"),k(ae,"class","flex justify-end")},m(f,_){H(f,e,_),r(e,l),R(t,l,null),r(l,n),r(l,s),r(s,o),r(o,w);for(let x=0;x<A.length;x+=1)A[x]&&A[x].m(s,null);Ce(s,a[2].domain,!0),r(e,m),r(e,q),R(O,q,null),r(q,U),r(q,D),r(D,p),r(p,h);for(let x=0;x<K.length;x+=1)K[x]&&K[x].m(D,null);Ce(D,a[2].vendor,!0),r(e,M),r(e,L),R(Y,L,null),r(L,le),R(X,L,null),r(e,ie),r(e,ee),R(Q,ee,null),r(ee,ue),R(W,ee,null),r(e,$),r(e,C),R(c,C,null),r(C,y),R(te,C,null),H(f,he,_),H(f,ae,_),R(oe,ae,null),re=!0,ce||(Pe=[Be(s,"change",a[16]),Be(D,"change",a[17])],ce=!0)},p(f,_){const x={};if(_[0]&512|_[1]&16&&(x.$$scope={dirty:_,ctx:f}),t.$set(x),(!re||_[0]&512)&&i!==(i=(f[9]("common.all")||"All")+"")&&j(w,i),_[0]&1){se=Se(f[0]);let F;for(F=0;F<se.length;F+=1){const de=ye(f,se,F);A[F]?A[F].p(de,_):(A[F]=xe(de),A[F].c(),A[F].m(s,null))}for(;F<A.length;F+=1)A[F].d(1);A.length=se.length}_[0]&5&&Ce(s,f[2].domain);const ke={};if(_[0]&512|_[1]&16&&(ke.$$scope={dirty:_,ctx:f}),O.$set(ke),(!re||_[0]&512)&&d!==(d=(f[9]("common.all")||"All")+"")&&j(h,d),_[0]&2){Ee=Se(f[1]);let F;for(F=0;F<Ee.length;F+=1){const de=Ze(f,Ee,F);K[F]?K[F].p(de,_):(K[F]=et(de),K[F].c(),K[F].m(D,null))}for(;F<K.length;F+=1)K[F].d(1);K.length=Ee.length}_[0]&5&&Ce(D,f[2].vendor);const Te={};_[0]&512|_[1]&16&&(Te.$$scope={dirty:_,ctx:f}),Y.$set(Te);const ve={};!ne&&_[0]&4&&(ne=!0,ve.value=f[2].mac,Fe(()=>ne=!1)),X.$set(ve);const we={};_[0]&512|_[1]&16&&(we.$$scope={dirty:_,ctx:f}),Q.$set(we);const be={};!Z&&_[0]&4&&(Z=!0,be.value=f[2].number,Fe(()=>Z=!1)),W.$set(be);const me={};_[0]&512|_[1]&16&&(me.$$scope={dirty:_,ctx:f}),c.$set(me);const pe={};!$e&&_[0]&4&&($e=!0,pe.value=f[2].caller_id,Fe(()=>$e=!1)),te.$set(pe);const Ie={};_[0]&64&&(Ie.disabled=f[6]),_[0]&512|_[1]&16&&(Ie.$$scope={dirty:_,ctx:f}),oe.$set(Ie)},i(f){re||(P(t.$$.fragment,f),P(O.$$.fragment,f),P(Y.$$.fragment,f),P(X.$$.fragment,f),P(Q.$$.fragment,f),P(W.$$.fragment,f),P(c.$$.fragment,f),P(te.$$.fragment,f),P(oe.$$.fragment,f),re=!0)},o(f){V(t.$$.fragment,f),V(O.$$.fragment,f),V(Y.$$.fragment,f),V(X.$$.fragment,f),V(Q.$$.fragment,f),V(W.$$.fragment,f),V(c.$$.fragment,f),V(te.$$.fragment,f),V(oe.$$.fragment,f),re=!1},d(f){f&&(u(e),u(he),u(ae)),B(t),Me(A,f),B(O),Me(K,f),B(Y),B(X),B(Q),B(W),B(c),B(te),B(oe),ce=!1,gt(Pe)}}}function Gt(a){let e,l,t,n;return e=new Et({props:{$$slots:{default:[Lt]},$$scope:{ctx:a}}}),t=new pt({props:{class:"space-y-4",$$slots:{default:[Jt]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment),l=I(),G(t.$$.fragment)},l(s){J(e.$$.fragment,s),l=T(s),J(t.$$.fragment,s)},m(s,o){R(e,s,o),H(s,l,o),R(t,s,o),n=!0},p(s,o){const i={};o[0]&512|o[1]&16&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const w={};o[0]&583|o[1]&16&&(w.$$scope={dirty:o,ctx:s}),t.$set(w)},i(s){n||(P(e.$$.fragment,s),P(t.$$.fragment,s),n=!0)},o(s){V(e.$$.fragment,s),V(t.$$.fragment,s),n=!1},d(s){s&&u(l),B(e,s),B(t,s)}}}function Ut(a){let e,l=Se(a[3]),t=[];for(let n=0;n<l.length;n+=1)t[n]=tt(We(a,l,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=Ye()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=Ye()},m(n,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,s);H(n,e,s)},p(n,s){if(s[0]&8200){l=Se(n[3]);let o;for(o=0;o<l.length;o+=1){const i=We(n,l,o);t[o]?t[o].p(i,s):(t[o]=tt(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=l.length}},d(n){n&&u(e),Me(t,n)}}}function Xt(a){let e,l,t=(a[9]("common.no_results")||"No results found")+"",n;return{c(){e=b("tr"),l=b("td"),n=N(t),this.h()},l(s){e=g(s,"TR",{});var o=v(e);l=g(o,"TD",{colspan:!0,class:!0});var i=v(l);n=S(i,t),i.forEach(u),o.forEach(u),this.h()},h(){k(l,"colspan","6"),k(l,"class","p-4 text-center text-muted-foreground")},m(s,o){H(s,e,o),r(e,l),r(l,n)},p(s,o){o[0]&512&&t!==(t=(s[9]("common.no_results")||"No results found")+"")&&j(n,t)},d(s){s&&u(e)}}}function Yt(a){let e=a[26].phone_number+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[26].phone_number+"")&&j(l,e)},d(t){t&&u(l)}}}function Kt(a){let e=a[26].ip_address+"",l;return{c(){l=N(e)},l(t){l=S(t,e)},m(t,n){H(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[26].ip_address+"")&&j(l,e)},d(t){t&&u(l)}}}function tt(a){let e,l,t,n,s=st(a[26])+"",o,i,w,m=ot(a[26].mac_address)+"",q,O,U,D=a[26].model_id+"",p,d,h,M=a[26].vendor+"",L,Y,le,X=a[26].domain+"",ne,ie,ee,Q;function ue(C,c){return C[26].type==="gateway"?Kt:Yt}let W=ue(a),Z=W(a);function $(){return a[22](a[26])}return{c(){e=b("tr"),l=b("td"),Z.c(),t=I(),n=b("td"),o=N(s),i=I(),w=b("td"),q=N(m),O=I(),U=b("td"),p=N(D),d=I(),h=b("td"),L=N(M),Y=I(),le=b("td"),ne=N(X),ie=I(),this.h()},l(C){e=g(C,"TR",{class:!0});var c=v(e);l=g(c,"TD",{class:!0});var y=v(l);Z.l(y),y.forEach(u),t=T(c),n=g(c,"TD",{class:!0});var te=v(n);o=S(te,s),te.forEach(u),i=T(c),w=g(c,"TD",{class:!0});var $e=v(w);q=S($e,m),$e.forEach(u),O=T(c),U=g(c,"TD",{class:!0});var he=v(U);p=S(he,D),he.forEach(u),d=T(c),h=g(c,"TD",{class:!0});var ae=v(h);L=S(ae,M),ae.forEach(u),Y=T(c),le=g(c,"TD",{class:!0});var oe=v(le);ne=S(oe,X),oe.forEach(u),ie=T(c),c.forEach(u),this.h()},h(){k(l,"class","p-4 align-middle"),k(n,"class","p-4 align-middle"),k(w,"class","p-4 align-middle"),k(U,"class","p-4 align-middle"),k(h,"class","p-4 align-middle"),k(le,"class","p-4 align-middle"),k(e,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted cursor-pointer")},m(C,c){H(C,e,c),r(e,l),Z.m(l,null),r(e,t),r(e,n),r(n,o),r(e,i),r(e,w),r(w,q),r(e,O),r(e,U),r(U,p),r(e,d),r(e,h),r(h,L),r(e,Y),r(e,le),r(le,ne),r(e,ie),ee||(Q=Be(e,"click",$),ee=!0)},p(C,c){a=C,W===(W=ue(a))&&Z?Z.p(a,c):(Z.d(1),Z=W(a),Z&&(Z.c(),Z.m(l,null))),c[0]&8&&s!==(s=st(a[26])+"")&&j(o,s),c[0]&8&&m!==(m=ot(a[26].mac_address)+"")&&j(q,m),c[0]&8&&D!==(D=a[26].model_id+"")&&j(p,D),c[0]&8&&M!==(M=a[26].vendor+"")&&j(L,M),c[0]&8&&X!==(X=a[26].domain+"")&&j(ne,X)},d(C){C&&u(e),Z.d(),ee=!1,Q()}}}function Qt(a){let e,l,t=(a[9]("common.prev")||"Previous")+"",n,s;return e=new Nt({props:{class:"h-4 w-4"}}),{c(){G(e.$$.fragment),l=I(),n=N(t)},l(o){J(e.$$.fragment,o),l=T(o),n=S(o,t)},m(o,i){R(e,o,i),H(o,l,i),H(o,n,i),s=!0},p(o,i){(!s||i[0]&512)&&t!==(t=(o[9]("common.prev")||"Previous")+"")&&j(n,t)},i(o){s||(P(e.$$.fragment,o),s=!0)},o(o){V(e.$$.fragment,o),s=!1},d(o){o&&(u(l),u(n)),B(e,o)}}}function Wt(a){let e=(a[9]("common.next")||"Next")+"",l,t,n,s;return n=new Ct({props:{class:"h-4 w-4"}}),{c(){l=N(e),t=I(),G(n.$$.fragment)},l(o){l=S(o,e),t=T(o),J(n.$$.fragment,o)},m(o,i){H(o,l,i),H(o,t,i),R(n,o,i),s=!0},p(o,i){(!s||i[0]&512)&&e!==(e=(o[9]("common.next")||"Next")+"")&&j(l,e)},i(o){s||(P(n.$$.fragment,o),s=!0)},o(o){V(n.$$.fragment,o),s=!1},d(o){o&&(u(l),u(t)),B(n,o)}}}function Zt(a){let e,l,t,n,s,o=a[9]("phone.number")+"",i,w,m,q=(a[9]("common.description")||"Description")+"",O,U,D,p=a[9]("phone.mac")+"",d,h,M,L=(a[9]("phone.model")||"Model")+"",Y,le,X,ne=a[9]("phone.vendor")+"",ie,ee,Q,ue=a[9]("phone.domain")+"",W,Z,$,C,c,y,te=(a[9]("common.total")||"Total")+"",$e,he,ae,oe,re,ce,Pe,se,A;function Ee(E,z){return E[3].length===0?Xt:Ut}let K=Ee(a),_e=K(a);return ce=new Oe({props:{variant:"outline",size:"sm",disabled:a[5]<=1||a[6],$$slots:{default:[Qt]},$$scope:{ctx:a}}}),ce.$on("click",a[12]),se=new Oe({props:{variant:"outline",size:"sm",disabled:a[5]*He>=a[4]||a[6],$$slots:{default:[Wt]},$$scope:{ctx:a}}}),se.$on("click",a[11]),{c(){e=b("div"),l=b("table"),t=b("thead"),n=b("tr"),s=b("th"),i=N(o),w=I(),m=b("th"),O=N(q),U=I(),D=b("th"),d=N(p),h=I(),M=b("th"),Y=N(L),le=I(),X=b("th"),ie=N(ne),ee=I(),Q=b("th"),W=N(ue),Z=I(),$=b("tbody"),_e.c(),C=I(),c=b("div"),y=b("div"),$e=N(te),he=N(": "),ae=N(a[4]),oe=I(),re=b("div"),G(ce.$$.fragment),Pe=I(),G(se.$$.fragment),this.h()},l(E){e=g(E,"DIV",{class:!0});var z=v(e);l=g(z,"TABLE",{class:!0});var ge=v(l);t=g(ge,"THEAD",{class:!0});var De=v(t);n=g(De,"TR",{class:!0});var fe=v(n);s=g(fe,"TH",{class:!0});var f=v(s);i=S(f,o),f.forEach(u),w=T(fe),m=g(fe,"TH",{class:!0});var _=v(m);O=S(_,q),_.forEach(u),U=T(fe),D=g(fe,"TH",{class:!0});var x=v(D);d=S(x,p),x.forEach(u),h=T(fe),M=g(fe,"TH",{class:!0});var ke=v(M);Y=S(ke,L),ke.forEach(u),le=T(fe),X=g(fe,"TH",{class:!0});var Te=v(X);ie=S(Te,ne),Te.forEach(u),ee=T(fe),Q=g(fe,"TH",{class:!0});var ve=v(Q);W=S(ve,ue),ve.forEach(u),fe.forEach(u),De.forEach(u),Z=T(ge),$=g(ge,"TBODY",{class:!0});var we=v($);_e.l(we),we.forEach(u),ge.forEach(u),z.forEach(u),C=T(E),c=g(E,"DIV",{class:!0});var be=v(c);y=g(be,"DIV",{class:!0});var me=v(y);$e=S(me,te),he=S(me,": "),ae=S(me,a[4]),me.forEach(u),oe=T(be),re=g(be,"DIV",{class:!0});var pe=v(re);J(ce.$$.fragment,pe),Pe=T(pe),J(se.$$.fragment,pe),pe.forEach(u),be.forEach(u),this.h()},h(){k(s,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(m,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(D,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(M,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(X,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(Q,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),k(n,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"),k(t,"class","[&_tr]:border-b"),k($,"class","[&_tr:last-child]:border-0"),k(l,"class","w-full caption-bottom text-sm"),k(e,"class","relative w-full overflow-auto"),k(y,"class","flex-1 text-sm text-muted-foreground"),k(re,"class","space-x-2"),k(c,"class","flex items-center justify-end space-x-2 py-4 px-4")},m(E,z){H(E,e,z),r(e,l),r(l,t),r(t,n),r(n,s),r(s,i),r(n,w),r(n,m),r(m,O),r(n,U),r(n,D),r(D,d),r(n,h),r(n,M),r(M,Y),r(n,le),r(n,X),r(X,ie),r(n,ee),r(n,Q),r(Q,W),r(l,Z),r(l,$),_e.m($,null),H(E,C,z),H(E,c,z),r(c,y),r(y,$e),r(y,he),r(y,ae),r(c,oe),r(c,re),R(ce,re,null),r(re,Pe),R(se,re,null),A=!0},p(E,z){(!A||z[0]&512)&&o!==(o=E[9]("phone.number")+"")&&j(i,o),(!A||z[0]&512)&&q!==(q=(E[9]("common.description")||"Description")+"")&&j(O,q),(!A||z[0]&512)&&p!==(p=E[9]("phone.mac")+"")&&j(d,p),(!A||z[0]&512)&&L!==(L=(E[9]("phone.model")||"Model")+"")&&j(Y,L),(!A||z[0]&512)&&ne!==(ne=E[9]("phone.vendor")+"")&&j(ie,ne),(!A||z[0]&512)&&ue!==(ue=E[9]("phone.domain")+"")&&j(W,ue),K===(K=Ee(E))&&_e?_e.p(E,z):(_e.d(1),_e=K(E),_e&&(_e.c(),_e.m($,null))),(!A||z[0]&512)&&te!==(te=(E[9]("common.total")||"Total")+"")&&j($e,te),(!A||z[0]&16)&&j(ae,E[4]);const ge={};z[0]&96&&(ge.disabled=E[5]<=1||E[6]),z[0]&512|z[1]&16&&(ge.$$scope={dirty:z,ctx:E}),ce.$set(ge);const De={};z[0]&112&&(De.disabled=E[5]*He>=E[4]||E[6]),z[0]&512|z[1]&16&&(De.$$scope={dirty:z,ctx:E}),se.$set(De)},i(E){A||(P(ce.$$.fragment,E),P(se.$$.fragment,E),A=!0)},o(E){V(ce.$$.fragment,E),V(se.$$.fragment,E),A=!1},d(E){E&&(u(e),u(C),u(c)),_e.d(),B(ce),B(se)}}}function yt(a){let e,l;return e=new pt({props:{class:"p-0",$$slots:{default:[Zt]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n[0]&632|n[1]&16&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function lt(a){let e,l,t,n,s;t=new Oe({props:{variant:"ghost",size:"icon",class:"absolute right-4 top-4",$$slots:{default:[xt]},$$scope:{ctx:a}}}),t.$on("click",a[23]);let o=a[7]&&nt(a);return{c(){e=b("div"),l=b("div"),G(t.$$.fragment),n=I(),o&&o.c(),this.h()},l(i){e=g(i,"DIV",{class:!0});var w=v(e);l=g(w,"DIV",{class:!0});var m=v(l);J(t.$$.fragment,m),n=T(m),o&&o.l(m),m.forEach(u),w.forEach(u),this.h()},h(){k(l,"class","bg-background p-6 rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border relative"),k(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/50")},m(i,w){H(i,e,w),r(e,l),R(t,l,null),r(l,n),o&&o.m(l,null),s=!0},p(i,w){const m={};w[1]&16&&(m.$$scope={dirty:w,ctx:i}),t.$set(m),i[7]?o?(o.p(i,w),w[0]&128&&P(o,1)):(o=nt(i),o.c(),P(o,1),o.m(l,null)):o&&(ct(),V(o,1,1,()=>{o=null}),ut())},i(i){s||(P(t.$$.fragment,i),P(o),s=!0)},o(i){V(t.$$.fragment,i),V(o),s=!1},d(i){i&&u(e),B(t),o&&o.d()}}}function xt(a){let e,l;return e=new wt({props:{class:"h-4 w-4"}}),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p:vt,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function nt(a){let e,l;return e=new Dt({props:{mode:a[7].id?"edit":"create",phone:a[7]}}),e.$on("save",a[15]),{c(){G(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){R(e,t,n),l=!0},p(t,n){const s={};n[0]&128&&(s.mode=t[7].id?"edit":"create"),n[0]&128&&(s.phone=t[7]),e.$set(s)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function el(a){let e,l,t,n=(a[9]("menu.phones")||"Phones")+"",s,o,i,w,m,q,O,U,D;i=new Oe({props:{$$slots:{default:[At]},$$scope:{ctx:a}}}),i.$on("click",a[14]),m=new Qe({props:{$$slots:{default:[Gt]},$$scope:{ctx:a}}}),O=new Qe({props:{$$slots:{default:[yt]},$$scope:{ctx:a}}});let p=a[8]&&lt(a);return{c(){e=b("div"),l=b("div"),t=b("h1"),s=N(n),o=I(),G(i.$$.fragment),w=I(),G(m.$$.fragment),q=I(),G(O.$$.fragment),U=I(),p&&p.c(),this.h()},l(d){e=g(d,"DIV",{class:!0});var h=v(e);l=g(h,"DIV",{class:!0});var M=v(l);t=g(M,"H1",{class:!0});var L=v(t);s=S(L,n),L.forEach(u),o=T(M),J(i.$$.fragment,M),M.forEach(u),w=T(h),J(m.$$.fragment,h),q=T(h),J(O.$$.fragment,h),U=T(h),p&&p.l(h),h.forEach(u),this.h()},h(){k(t,"class","text-3xl font-bold text-gray-900 dark:text-gray-100"),k(l,"class","flex justify-between items-center"),k(e,"class","p-6 space-y-6")},m(d,h){H(d,e,h),r(e,l),r(l,t),r(t,s),r(l,o),R(i,l,null),r(e,w),R(m,e,null),r(e,q),R(O,e,null),r(e,U),p&&p.m(e,null),D=!0},p(d,h){(!D||h[0]&512)&&n!==(n=(d[9]("menu.phones")||"Phones")+"")&&j(s,n);const M={};h[0]&512|h[1]&16&&(M.$$scope={dirty:h,ctx:d}),i.$set(M);const L={};h[0]&583|h[1]&16&&(L.$$scope={dirty:h,ctx:d}),m.$set(L);const Y={};h[0]&632|h[1]&16&&(Y.$$scope={dirty:h,ctx:d}),O.$set(Y),d[8]?p?(p.p(d,h),h[0]&256&&P(p,1)):(p=lt(d),p.c(),P(p,1),p.m(e,null)):p&&(ct(),V(p,1,1,()=>{p=null}),ut())},i(d){D||(P(i.$$.fragment,d),P(m.$$.fragment,d),P(O.$$.fragment,d),P(p),D=!0)},o(d){V(i.$$.fragment,d),V(m.$$.fragment,d),V(O.$$.fragment,d),V(p),D=!1},d(d){d&&u(e),B(i),B(m),B(O),p&&p.d()}}}let He=20;function ot(a){var l;return a?((l=a.replace(/[^a-fA-F0-9]/g,"").match(/.{1,2}/g))==null?void 0:l.join(":"))||a:""}function st(a){const e=[];if(a.description&&e.push(a.description),a.type==="phone"&&a.lines){const l=[];for(const t of a.lines){if(t.type!=="line")continue;let n={};if(typeof t.additional_info=="string")try{n=JSON.parse(t.additional_info)}catch{}else typeof t.additional_info=="object"&&(n=t.additional_info||{});let s=n.display_name||n.screen_name||n.user_name||n.auth_name||(t.number?t.number.toString():"");s&&(s.length>20&&(s=s.substring(0,20)+"..."),l.push(s))}l.length>0&&e.push(l.join(", "))}return e.join(": ")}function tl(a,e,l){let t;$t(a,bt,$=>l(9,t=$));let n=[],s=[],o={domain:"",vendor:"",mac:"",number:"",caller_id:""},i=[],w=0,m=1,q=!1,O=null,U=!1;ht(async()=>{await Promise.all([D(),p()]),await d()});async function D(){try{const $=await fetch("/api/domains");if($.ok){const C=await $.json();l(0,n=C.domains||[])}}catch($){console.error("Failed to load domains",$)}}async function p(){try{const $=await fetch("/api/vendors");if($.ok){const C=await $.json();l(1,s=C.vendors||[])}}catch($){console.error("Failed to load vendors",$)}}async function d($=1){l(6,q=!0),l(5,m=$);const C=new URLSearchParams({page:m.toString(),limit:He.toString(),...o});for(const[c,y]of Object.entries(o))y||C.delete(c);try{const c=await fetch(`/api/phones?${C.toString()}`);if(c.ok){const y=await c.json();l(3,i=y.phones||[]),l(4,w=y.total||0)}else Ke.error("Failed to load phones")}catch(c){Ke.error("Error loading phones: "+c.message)}finally{l(6,q=!1)}}function h(){m*He<w&&d(m+1)}function M(){m>1&&d(m-1)}function L($){console.debug("Start Phone Editor",$),l(7,O={...$}),l(8,U=!0)}function Y(){l(7,O={domain:n[0]||"",vendor:"",model_id:"",mac_address:"",phone_number:"",ip_address:"",description:"",lines:[],expansion_module_model:"",type:"phone"}),l(8,U=!0)}function le($){l(8,U=!1),d(m)}function X(){o.domain=Ue(this),l(2,o),l(0,n)}function ne(){o.vendor=Ue(this),l(2,o),l(0,n)}function ie($){a.$$.not_equal(o.mac,$)&&(o.mac=$,l(2,o))}function ee($){a.$$.not_equal(o.number,$)&&(o.number=$,l(2,o))}function Q($){a.$$.not_equal(o.caller_id,$)&&(o.caller_id=$,l(2,o))}return[n,s,o,i,w,m,q,O,U,t,d,h,M,L,Y,le,X,ne,ie,ee,Q,()=>d(1),$=>L($),()=>l(8,U=!1)]}class _l extends Je{constructor(e){super(),Ge(this,e,tl,el,Re,{},null,[-1,-1])}}export{_l as component};
