import{s as Y,o as se,l as T,d as c,u as ae,p as ne,q as re,v as G,i as m,c as S,e as V,h as N,y as H,m as le,C as D,k as oe,g as E,j as I,D as K,E as M,b as B,a as P,f as j,t as L}from"../chunks/CUkxpT2c.js";import{S as Z,i as x,t as d,a as g,d as h,m as v,c as b,b as w,e as Q}from"../chunks/DqPwdKnZ.js";import{c as R,g as fe,B as ie,$ as ue}from"../chunks/wjMZg2eG.js";import{I as U}from"../chunks/Clvdv4ji.js";import{L as W}from"../chunks/CE9t1zSW.js";import{C as ce,a as $e}from"../chunks/YhqYbtJb.js";import{C as pe,a as _e,b as me}from"../chunks/HaCMjAII.js";import{g as de}from"../chunks/4zbusbvR.js";function ge(l){let t,s,e;const n=l[3].default,a=se(n,l,l[2],null);let i=[{class:s=R("flex items-center p-6 pt-0",l[0])},l[1]],o={};for(let r=0;r<i.length;r+=1)o=T(o,i[r]);return{c(){t=N("div"),a&&a.c(),this.h()},l(r){t=S(r,"DIV",{class:!0});var u=V(t);a&&a.l(u),u.forEach(c),this.h()},h(){G(t,o)},m(r,u){m(r,t,u),a&&a.m(t,null),e=!0},p(r,[u]){a&&a.p&&(!e||u&4)&&ae(a,n,r,r[2],e?re(n,r[2],u,null):ne(r[2]),null),G(t,o=fe(i,[(!e||u&1&&s!==(s=R("flex items-center p-6 pt-0",r[0])))&&{class:s},u&2&&r[1]]))},i(r){e||(g(a,r),e=!0)},o(r){d(a,r),e=!1},d(r){r&&c(t),a&&a.d(r)}}}function he(l,t,s){const e=["class"];let n=H(t,e),{$$slots:a={},$$scope:i}=t,{class:o=void 0}=t;return l.$$set=r=>{t=T(T({},t),le(r)),s(1,n=H(t,e)),"class"in r&&s(0,o=r.class),"$$scope"in r&&s(2,i=r.$$scope)},[o,n,i,a]}class ve extends Z{constructor(t){super(),x(this,t,he,ge,Y,{class:0})}}function be(l){let t=l[4]("app.title")+"",s;return{c(){s=L(t)},l(e){s=j(e,t)},m(e,n){m(e,s,n)},p(e,n){n&16&&t!==(t=e[4]("app.title")+"")&&P(s,t)},d(e){e&&c(s)}}}function we(l){let t=l[4]("login.description")+"",s;return{c(){s=L(t)},l(e){s=j(e,t)},m(e,n){m(e,s,n)},p(e,n){n&16&&t!==(t=e[4]("login.description")+"")&&P(s,t)},d(e){e&&c(s)}}}function ke(l){let t,s,e,n;return t=new _e({props:{class:"text-2xl font-bold text-center",$$slots:{default:[be]},$$scope:{ctx:l}}}),e=new me({props:{class:"text-center",$$slots:{default:[we]},$$scope:{ctx:l}}}),{c(){w(t.$$.fragment),s=I(),w(e.$$.fragment)},l(a){b(t.$$.fragment,a),s=E(a),b(e.$$.fragment,a)},m(a,i){v(t,a,i),m(a,s,i),v(e,a,i),n=!0},p(a,i){const o={};i&272&&(o.$$scope={dirty:i,ctx:a}),t.$set(o);const r={};i&272&&(r.$$scope={dirty:i,ctx:a}),e.$set(r)},i(a){n||(g(t.$$.fragment,a),g(e.$$.fragment,a),n=!0)},o(a){d(t.$$.fragment,a),d(e.$$.fragment,a),n=!1},d(a){a&&c(s),h(t,a),h(e,a)}}}function X(l){let t,s,e;return{c(){t=N("div"),s=N("span"),e=L(l[2]),this.h()},l(n){t=S(n,"DIV",{class:!0,role:!0});var a=V(t);s=S(a,"SPAN",{class:!0});var i=V(s);e=j(i,l[2]),i.forEach(c),a.forEach(c),this.h()},h(){D(s,"class","block sm:inline"),D(t,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative dark:bg-red-900 dark:border-red-700 dark:text-red-100"),D(t,"role","alert")},m(n,a){m(n,t,a),B(t,s),B(s,e)},p(n,a){a&4&&P(e,n[2])},d(n){n&&c(t)}}}function Ce(l){let t=l[4]("login.username")+"",s;return{c(){s=L(t)},l(e){s=j(e,t)},m(e,n){m(e,s,n)},p(e,n){n&16&&t!==(t=e[4]("login.username")+"")&&P(s,t)},d(e){e&&c(s)}}}function Ee(l){let t=l[4]("login.password")+"",s;return{c(){s=L(t)},l(e){s=j(e,t)},m(e,n){m(e,s,n)},p(e,n){n&16&&t!==(t=e[4]("login.password")+"")&&P(s,t)},d(e){e&&c(s)}}}function Ie(l){let t,s,e,n,a,i,o,r,u,k,$,O,q,_=l[2]&&X(l);e=new W({props:{for:"username",$$slots:{default:[Ce]},$$scope:{ctx:l}}});function ee(f){l[6](f)}let A={id:"username",type:"text",placeholder:"login"};l[0]!==void 0&&(A.value=l[0]),a=new U({props:A}),K.push(()=>Q(a,"value",ee)),u=new W({props:{for:"password",$$slots:{default:[Ee]},$$scope:{ctx:l}}});function te(f){l[7](f)}let J={id:"password",type:"password",placeholder:"••••••••"};return l[1]!==void 0&&(J.value=l[1]),$=new U({props:J}),K.push(()=>Q($,"value",te)),{c(){_&&_.c(),t=I(),s=N("div"),w(e.$$.fragment),n=I(),w(a.$$.fragment),o=I(),r=N("div"),w(u.$$.fragment),k=I(),w($.$$.fragment),this.h()},l(f){_&&_.l(f),t=E(f),s=S(f,"DIV",{class:!0});var p=V(s);b(e.$$.fragment,p),n=E(p),b(a.$$.fragment,p),p.forEach(c),o=E(f),r=S(f,"DIV",{class:!0});var C=V(r);b(u.$$.fragment,C),k=E(C),b($.$$.fragment,C),C.forEach(c),this.h()},h(){D(s,"class","space-y-2"),D(r,"class","space-y-2")},m(f,p){_&&_.m(f,p),m(f,t,p),m(f,s,p),v(e,s,null),B(s,n),v(a,s,null),m(f,o,p),m(f,r,p),v(u,r,null),B(r,k),v($,r,null),q=!0},p(f,p){f[2]?_?_.p(f,p):(_=X(f),_.c(),_.m(t.parentNode,t)):_&&(_.d(1),_=null);const C={};p&272&&(C.$$scope={dirty:p,ctx:f}),e.$set(C);const y={};!i&&p&1&&(i=!0,y.value=f[0],M(()=>i=!1)),a.$set(y);const z={};p&272&&(z.$$scope={dirty:p,ctx:f}),u.$set(z);const F={};!O&&p&2&&(O=!0,F.value=f[1],M(()=>O=!1)),$.$set(F)},i(f){q||(g(e.$$.fragment,f),g(a.$$.fragment,f),g(u.$$.fragment,f),g($.$$.fragment,f),q=!0)},o(f){d(e.$$.fragment,f),d(a.$$.fragment,f),d(u.$$.fragment,f),d($.$$.fragment,f),q=!1},d(f){f&&(c(t),c(s),c(o),c(r)),_&&_.d(f),h(e),h(a),h(u),h($)}}}function De(l){let t=(l[3]?l[4]("login.loading"):l[4]("login.button"))+"",s;return{c(){s=L(t)},l(e){s=j(e,t)},m(e,n){m(e,s,n)},p(e,n){n&24&&t!==(t=(e[3]?e[4]("login.loading"):e[4]("login.button"))+"")&&P(s,t)},d(e){e&&c(s)}}}function Se(l){let t,s;return t=new ie({props:{class:"w-full",disabled:l[3],$$slots:{default:[De]},$$scope:{ctx:l}}}),t.$on("click",l[5]),{c(){w(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,n){v(t,e,n),s=!0},p(e,n){const a={};n&8&&(a.disabled=e[3]),n&280&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){s||(g(t.$$.fragment,e),s=!0)},o(e){d(t.$$.fragment,e),s=!1},d(e){h(t,e)}}}function Ve(l){let t,s,e,n,a,i;return t=new pe({props:{$$slots:{default:[ke]},$$scope:{ctx:l}}}),e=new $e({props:{class:"space-y-4",$$slots:{default:[Ie]},$$scope:{ctx:l}}}),a=new ve({props:{$$slots:{default:[Se]},$$scope:{ctx:l}}}),{c(){w(t.$$.fragment),s=I(),w(e.$$.fragment),n=I(),w(a.$$.fragment)},l(o){b(t.$$.fragment,o),s=E(o),b(e.$$.fragment,o),n=E(o),b(a.$$.fragment,o)},m(o,r){v(t,o,r),m(o,s,r),v(e,o,r),m(o,n,r),v(a,o,r),i=!0},p(o,r){const u={};r&272&&(u.$$scope={dirty:r,ctx:o}),t.$set(u);const k={};r&279&&(k.$$scope={dirty:r,ctx:o}),e.$set(k);const $={};r&280&&($.$$scope={dirty:r,ctx:o}),a.$set($)},i(o){i||(g(t.$$.fragment,o),g(e.$$.fragment,o),g(a.$$.fragment,o),i=!0)},o(o){d(t.$$.fragment,o),d(e.$$.fragment,o),d(a.$$.fragment,o),i=!1},d(o){o&&(c(s),c(n)),h(t,o),h(e,o),h(a,o)}}}function Ne(l){let t,s,e;return s=new ce({props:{class:"w-full max-w-md",$$slots:{default:[Ve]},$$scope:{ctx:l}}}),{c(){t=N("div"),w(s.$$.fragment),this.h()},l(n){t=S(n,"DIV",{class:!0});var a=V(t);b(s.$$.fragment,a),a.forEach(c),this.h()},h(){D(t,"class","min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900 p-4 transition-colors")},m(n,a){m(n,t,a),v(s,t,null),e=!0},p(n,[a]){const i={};a&287&&(i.$$scope={dirty:a,ctx:n}),s.$set(i)},i(n){e||(g(s.$$.fragment,n),e=!0)},o(n){d(s.$$.fragment,n),e=!1},d(n){n&&c(t),h(s)}}}function Pe(l,t,s){let e;oe(l,ue,$=>s(4,e=$));let n="",a="",i="",o=!1;async function r(){s(3,o=!0),s(2,i="");try{(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:a})})).ok?de("/"):s(2,i=e("login.error"))}catch{s(2,i=e("login.error"))}finally{s(3,o=!1)}}function u($){n=$,s(0,n)}function k($){a=$,s(1,a)}return[n,a,i,o,e,r,u,k]}class ye extends Z{constructor(t){super(),x(this,t,Pe,Ne,Y,{})}}export{ye as component};
