import{s as qe,l as De,m as Se,o as Ke,u as We,p as Ze,q as ye,d as u,a as j,i as M,b as f,C as E,c as g,e as v,f as V,g as P,h as b,t as C,j as I,k as kt,H as Et,O as nt,D as ot,M as Ye,r as Dt,P as Me,E as st,x as Ge,w as Ve,Q as at,n as ze,F as rt}from"../chunks/CUkxpT2c.js";import{S as Re,i as Je,d as O,t as k,a as p,m as A,c as F,b as L,f as Ue,g as Qe,e as ft}from"../chunks/DqPwdKnZ.js";import{I as xe,t as He,e as Ne}from"../chunks/BtYH2GXc.js";import{g as et,a as tt,B as Ie,f as Tt,$ as Pt}from"../chunks/wjMZg2eG.js";import{C as it,a as bt}from"../chunks/YhqYbtJb.js";import{C as It,a as Nt}from"../chunks/HaCMjAII.js";import{I as Xe}from"../chunks/Clvdv4ji.js";import{L as Oe}from"../chunks/CE9t1zSW.js";import{a as St,P as Vt}from"../chunks/ByseRcaO.js";import{X as wt}from"../chunks/BqBe62oF.js";import{S as Ct,T as jt}from"../chunks/Cg1vJB5H.js";function Ht(a){let e;const o=a[2].default,t=Ke(o,a,a[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&We(t,o,n,n[3],e?ye(o,n[3],s,null):Ze(n[3]),null)},i(n){e||(p(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function Ot(a){let e,o;const t=[{name:"chevron-left"},a[1],{iconNode:a[0]}];let n={$$slots:{default:[Ht]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)n=De(n,t[s]);return e=new xe({props:n}),{c(){L(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,l){A(e,s,l),o=!0},p(s,[l]){const r=l&3?et(t,[t[0],l&2&&tt(s[1]),l&1&&{iconNode:s[0]}]):{};l&8&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){o||(p(e.$$.fragment,s),o=!0)},o(s){k(e.$$.fragment,s),o=!1},d(s){O(e,s)}}}function At(a,e,o){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"m15 18-6-6 6-6"}]];return a.$$set=l=>{o(1,e=De(De({},e),Se(l))),"$$scope"in l&&o(3,n=l.$$scope)},e=Se(e),[s,e,t,n]}class Ft extends Re{constructor(e){super(),Je(this,e,At,Ot,qe,{})}}function Lt(a){let e;const o=a[2].default,t=Ke(o,a,a[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&We(t,o,n,n[3],e?ye(o,n[3],s,null):Ze(n[3]),null)},i(n){e||(p(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function Mt(a){let e,o;const t=[{name:"chevron-right"},a[1],{iconNode:a[0]}];let n={$$slots:{default:[Lt]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)n=De(n,t[s]);return e=new xe({props:n}),{c(){L(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,l){A(e,s,l),o=!0},p(s,[l]){const r=l&3?et(t,[t[0],l&2&&tt(s[1]),l&1&&{iconNode:s[0]}]):{};l&8&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){o||(p(e.$$.fragment,s),o=!0)},o(s){k(e.$$.fragment,s),o=!1},d(s){O(e,s)}}}function zt(a,e,o){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"m9 18 6-6-6-6"}]];return a.$$set=l=>{o(1,e=De(De({},e),Se(l))),"$$scope"in l&&o(3,n=l.$$scope)},e=Se(e),[s,e,t,n]}class Bt extends Re{constructor(e){super(),Je(this,e,zt,Mt,qe,{})}}function qt(a){let e;const o=a[2].default,t=Ke(o,a,a[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&We(t,o,n,n[3],e?ye(o,n[3],s,null):Ze(n[3]),null)},i(n){e||(p(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function Rt(a){let e,o;const t=[{name:"upload"},a[1],{iconNode:a[0]}];let n={$$slots:{default:[qt]},$$scope:{ctx:a}};for(let s=0;s<t.length;s+=1)n=De(n,t[s]);return e=new xe({props:n}),{c(){L(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,l){A(e,s,l),o=!0},p(s,[l]){const r=l&3?et(t,[t[0],l&2&&tt(s[1]),l&1&&{iconNode:s[0]}]):{};l&8&&(r.$$scope={dirty:l,ctx:s}),e.$set(r)},i(s){o||(p(e.$$.fragment,s),o=!0)},o(s){k(e.$$.fragment,s),o=!1},d(s){O(e,s)}}}function Jt(a,e,o){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];return a.$$set=l=>{o(1,e=De(De({},e),Se(l))),"$$scope"in l&&o(3,n=l.$$scope)},e=Se(e),[s,e,t,n]}class Ut extends Re{constructor(e){super(),Je(this,e,Jt,Rt,qe,{})}}function ut(a,e,o){const t=a.slice();return t[29]=e[o],t}function ct(a,e,o){const t=a.slice();return t[32]=e[o],t}function _t(a,e,o){const t=a.slice();return t[35]=e[o],t}function Qt(a){let e=(a[9]("phone.search_title")||"Search Phones")+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&512&&e!==(e=(t[9]("phone.search_title")||"Search Phones")+"")&&j(o,e)},d(t){t&&u(o)}}}function Xt(a){let e,o;return e=new Nt({props:{$$slots:{default:[Qt]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){A(e,t,n),o=!0},p(t,n){const s={};n[0]&512|n[1]&128&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){k(e.$$.fragment,t),o=!1},d(t){O(e,t)}}}function Yt(a){let e=a[9]("phone.domain")+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.domain")+"")&&j(o,e)},d(t){t&&u(o)}}}function dt(a){let e,o=a[35]+"",t,n;return{c(){e=b("option"),t=C(o),this.h()},l(s){e=g(s,"OPTION",{});var l=v(e);t=V(l,o),l.forEach(u),this.h()},h(){e.__value=n=a[35],Ve(e,e.__value)},m(s,l){M(s,e,l),f(e,t)},p(s,l){l[0]&1&&o!==(o=s[35]+"")&&j(t,o),l[0]&1&&n!==(n=s[35])&&(e.__value=n,Ve(e,e.__value))},d(s){s&&u(e)}}}function Gt(a){let e=a[9]("phone.vendor")+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.vendor")+"")&&j(o,e)},d(t){t&&u(o)}}}function mt(a){let e,o=a[32].name+"",t,n;return{c(){e=b("option"),t=C(o),this.h()},l(s){e=g(s,"OPTION",{});var l=v(e);t=V(l,o),l.forEach(u),this.h()},h(){e.__value=n=a[32].id,Ve(e,e.__value)},m(s,l){M(s,e,l),f(e,t)},p(s,l){l[0]&2&&o!==(o=s[32].name+"")&&j(t,o),l[0]&2&&n!==(n=s[32].id)&&(e.__value=n,Ve(e,e.__value))},d(s){s&&u(e)}}}function Kt(a){let e=a[9]("phone.mac")+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.mac")+"")&&j(o,e)},d(t){t&&u(o)}}}function Wt(a){let e=a[9]("phone.number")+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.number")+"")&&j(o,e)},d(t){t&&u(o)}}}function Zt(a){let e=a[9]("phone.caller_id")+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&512&&e!==(e=t[9]("phone.caller_id")+"")&&j(o,e)},d(t){t&&u(o)}}}function yt(a){let e,o,t=(a[9]("common.cancel")||"Cancel")+"",n,s;return e=new wt({props:{class:"mr-2 h-4 w-4"}}),{c(){L(e.$$.fragment),o=I(),n=C(t)},l(l){F(e.$$.fragment,l),o=P(l),n=V(l,t)},m(l,r){A(e,l,r),M(l,o,r),M(l,n,r),s=!0},p(l,r){(!s||r[0]&512)&&t!==(t=(l[9]("common.cancel")||"Cancel")+"")&&j(n,t)},i(l){s||(p(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){l&&(u(o),u(n)),O(e,l)}}}function xt(a){let e,o,t=(a[9]("common.search")||"Search")+"",n,s;return e=new Ct({props:{class:"mr-2 h-4 w-4"}}),{c(){L(e.$$.fragment),o=I(),n=C(t)},l(l){F(e.$$.fragment,l),o=P(l),n=V(l,t)},m(l,r){A(e,l,r),M(l,o,r),M(l,n,r),s=!0},p(l,r){(!s||r[0]&512)&&t!==(t=(l[9]("common.search")||"Search")+"")&&j(n,t)},i(l){s||(p(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){l&&(u(o),u(n)),O(e,l)}}}function el(a){let e,o,t,n,s,l,r=(a[9]("common.all")||"All")+"",_,h,R,G,y,z,J,B=(a[9]("common.all")||"All")+"",oe,Q,x,U,ae,q,N,w,$,X,K,Y,fe,le,ie,de,c,ee,Z,D,T,re,se,ue,ge,Ee;t=new Oe({props:{for:"s_domain",$$slots:{default:[Yt]},$$scope:{ctx:a}}});let me=Ne(a[0]),ne=[];for(let i=0;i<me.length;i+=1)ne[i]=dt(_t(a,me,i));G=new Oe({props:{for:"s_vendor",$$slots:{default:[Gt]},$$scope:{ctx:a}}});let ce=Ne(a[1]),W=[];for(let i=0;i<ce.length;i+=1)W[i]=mt(ct(a,ce,i));U=new Oe({props:{for:"s_mac",$$slots:{default:[Kt]},$$scope:{ctx:a}}}),q=new Xe({props:{id:"s_mac",value:a[2].mac,placeholder:"00:11:..."}}),q.$on("input",a[20]),$=new Oe({props:{for:"s_number",$$slots:{default:[Wt]},$$scope:{ctx:a}}});function Ce(i){a[21](i)}let he={id:"s_number",placeholder:"101"};a[2].number!==void 0&&(he.value=a[2].number),K=new Xe({props:he}),ot.push(()=>ft(K,"value",Ce)),ie=new Oe({props:{for:"s_callerid",$$slots:{default:[Zt]},$$scope:{ctx:a}}});function _e(i){a[22](i)}let je={id:"s_callerid",placeholder:"John..."};return a[2].caller_id!==void 0&&(je.value=a[2].caller_id),c=new Xe({props:je}),ot.push(()=>ft(c,"value",_e)),T=new Ie({props:{variant:"outline",disabled:a[6],$$slots:{default:[yt]},$$scope:{ctx:a}}}),T.$on("click",a[11]),se=new Ie({props:{disabled:a[6],$$slots:{default:[xt]},$$scope:{ctx:a}}}),se.$on("click",a[23]),{c(){e=b("div"),o=b("div"),L(t.$$.fragment),n=I(),s=b("select"),l=b("option"),_=C(r);for(let i=0;i<ne.length;i+=1)ne[i].c();h=I(),R=b("div"),L(G.$$.fragment),y=I(),z=b("select"),J=b("option"),oe=C(B);for(let i=0;i<W.length;i+=1)W[i].c();Q=I(),x=b("div"),L(U.$$.fragment),ae=I(),L(q.$$.fragment),N=I(),w=b("div"),L($.$$.fragment),X=I(),L(K.$$.fragment),fe=I(),le=b("div"),L(ie.$$.fragment),de=I(),L(c.$$.fragment),Z=I(),D=b("div"),L(T.$$.fragment),re=I(),L(se.$$.fragment),this.h()},l(i){e=g(i,"DIV",{class:!0});var m=v(e);o=g(m,"DIV",{class:!0});var d=v(o);F(t.$$.fragment,d),n=P(d),s=g(d,"SELECT",{id:!0,class:!0});var H=v(s);l=g(H,"OPTION",{});var $e=v(l);_=V($e,r),$e.forEach(u);for(let S=0;S<ne.length;S+=1)ne[S].l(H);H.forEach(u),d.forEach(u),h=P(m),R=g(m,"DIV",{class:!0});var pe=v(R);F(G.$$.fragment,pe),y=P(pe),z=g(pe,"SELECT",{id:!0,class:!0});var te=v(z);J=g(te,"OPTION",{});var Te=v(J);oe=V(Te,B),Te.forEach(u);for(let S=0;S<W.length;S+=1)W[S].l(te);te.forEach(u),pe.forEach(u),Q=P(m),x=g(m,"DIV",{class:!0});var we=v(x);F(U.$$.fragment,we),ae=P(we),F(q.$$.fragment,we),we.forEach(u),N=P(m),w=g(m,"DIV",{class:!0});var ke=v(w);F($.$$.fragment,ke),X=P(ke),F(K.$$.fragment,ke),ke.forEach(u),fe=P(m),le=g(m,"DIV",{class:!0});var ve=v(le);F(ie.$$.fragment,ve),de=P(ve),F(c.$$.fragment,ve),ve.forEach(u),m.forEach(u),Z=P(i),D=g(i,"DIV",{class:!0});var be=v(D);F(T.$$.fragment,be),re=P(be),F(se.$$.fragment,be),be.forEach(u),this.h()},h(){l.__value="",Ve(l,l.__value),E(s,"id","s_domain"),E(s,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),a[2].domain===void 0&&at(()=>a[18].call(s)),E(o,"class","space-y-2"),J.__value="",Ve(J,J.__value),E(z,"id","s_vendor"),E(z,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),a[2].vendor===void 0&&at(()=>a[19].call(z)),E(R,"class","space-y-2"),E(x,"class","space-y-2"),E(w,"class","space-y-2"),E(le,"class","space-y-2"),E(e,"class","grid grid-cols-1 md:grid-cols-5 gap-4"),E(D,"class","flex justify-end gap-2")},m(i,m){M(i,e,m),f(e,o),A(t,o,null),f(o,n),f(o,s),f(s,l),f(l,_);for(let d=0;d<ne.length;d+=1)ne[d]&&ne[d].m(s,null);Me(s,a[2].domain,!0),f(e,h),f(e,R),A(G,R,null),f(R,y),f(R,z),f(z,J),f(J,oe);for(let d=0;d<W.length;d+=1)W[d]&&W[d].m(z,null);Me(z,a[2].vendor,!0),f(e,Q),f(e,x),A(U,x,null),f(x,ae),A(q,x,null),f(e,N),f(e,w),A($,w,null),f(w,X),A(K,w,null),f(e,fe),f(e,le),A(ie,le,null),f(le,de),A(c,le,null),M(i,Z,m),M(i,D,m),A(T,D,null),f(D,re),A(se,D,null),ue=!0,ge||(Ee=[Ge(s,"change",a[18]),Ge(z,"change",a[19])],ge=!0)},p(i,m){const d={};if(m[0]&512|m[1]&128&&(d.$$scope={dirty:m,ctx:i}),t.$set(d),(!ue||m[0]&512)&&r!==(r=(i[9]("common.all")||"All")+"")&&j(_,r),m[0]&1){me=Ne(i[0]);let S;for(S=0;S<me.length;S+=1){const Pe=_t(i,me,S);ne[S]?ne[S].p(Pe,m):(ne[S]=dt(Pe),ne[S].c(),ne[S].m(s,null))}for(;S<ne.length;S+=1)ne[S].d(1);ne.length=me.length}m[0]&5&&Me(s,i[2].domain);const H={};if(m[0]&512|m[1]&128&&(H.$$scope={dirty:m,ctx:i}),G.$set(H),(!ue||m[0]&512)&&B!==(B=(i[9]("common.all")||"All")+"")&&j(oe,B),m[0]&2){ce=Ne(i[1]);let S;for(S=0;S<ce.length;S+=1){const Pe=ct(i,ce,S);W[S]?W[S].p(Pe,m):(W[S]=mt(Pe),W[S].c(),W[S].m(z,null))}for(;S<W.length;S+=1)W[S].d(1);W.length=ce.length}m[0]&5&&Me(z,i[2].vendor);const $e={};m[0]&512|m[1]&128&&($e.$$scope={dirty:m,ctx:i}),U.$set($e);const pe={};m[0]&4&&(pe.value=i[2].mac),q.$set(pe);const te={};m[0]&512|m[1]&128&&(te.$$scope={dirty:m,ctx:i}),$.$set(te);const Te={};!Y&&m[0]&4&&(Y=!0,Te.value=i[2].number,st(()=>Y=!1)),K.$set(Te);const we={};m[0]&512|m[1]&128&&(we.$$scope={dirty:m,ctx:i}),ie.$set(we);const ke={};!ee&&m[0]&4&&(ee=!0,ke.value=i[2].caller_id,st(()=>ee=!1)),c.$set(ke);const ve={};m[0]&64&&(ve.disabled=i[6]),m[0]&512|m[1]&128&&(ve.$$scope={dirty:m,ctx:i}),T.$set(ve);const be={};m[0]&64&&(be.disabled=i[6]),m[0]&512|m[1]&128&&(be.$$scope={dirty:m,ctx:i}),se.$set(be)},i(i){ue||(p(t.$$.fragment,i),p(G.$$.fragment,i),p(U.$$.fragment,i),p(q.$$.fragment,i),p($.$$.fragment,i),p(K.$$.fragment,i),p(ie.$$.fragment,i),p(c.$$.fragment,i),p(T.$$.fragment,i),p(se.$$.fragment,i),ue=!0)},o(i){k(t.$$.fragment,i),k(G.$$.fragment,i),k(U.$$.fragment,i),k(q.$$.fragment,i),k($.$$.fragment,i),k(K.$$.fragment,i),k(ie.$$.fragment,i),k(c.$$.fragment,i),k(T.$$.fragment,i),k(se.$$.fragment,i),ue=!1},d(i){i&&(u(e),u(Z),u(D)),O(t),Ye(ne,i),O(G),Ye(W,i),O(U),O(q),O($),O(K),O(ie),O(c),O(T),O(se),ge=!1,Dt(Ee)}}}function tl(a){let e,o,t,n;return e=new It({props:{$$slots:{default:[Xt]},$$scope:{ctx:a}}}),t=new bt({props:{class:"space-y-4",$$slots:{default:[el]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment),o=I(),L(t.$$.fragment)},l(s){F(e.$$.fragment,s),o=P(s),F(t.$$.fragment,s)},m(s,l){A(e,s,l),M(s,o,l),A(t,s,l),n=!0},p(s,l){const r={};l[0]&512|l[1]&128&&(r.$$scope={dirty:l,ctx:s}),e.$set(r);const _={};l[0]&583|l[1]&128&&(_.$$scope={dirty:l,ctx:s}),t.$set(_)},i(s){n||(p(e.$$.fragment,s),p(t.$$.fragment,s),n=!0)},o(s){k(e.$$.fragment,s),k(t.$$.fragment,s),n=!1},d(s){s&&u(o),O(e,s),O(t,s)}}}function ll(a){let e,o,t=(a[9]("phones.import")||"Import")+"",n,s;return e=new Ut({props:{class:"mr-2 h-4 w-4"}}),{c(){L(e.$$.fragment),o=I(),n=C(t)},l(l){F(e.$$.fragment,l),o=P(l),n=V(l,t)},m(l,r){A(e,l,r),M(l,o,r),M(l,n,r),s=!0},p(l,r){(!s||r[0]&512)&&t!==(t=(l[9]("phones.import")||"Import")+"")&&j(n,t)},i(l){s||(p(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){l&&(u(o),u(n)),O(e,l)}}}function nl(a){let e,o,t=(a[9]("phones.create")||"Create Phone")+"",n,s;return e=new St({props:{class:"mr-2 h-4 w-4"}}),{c(){L(e.$$.fragment),o=I(),n=C(t)},l(l){F(e.$$.fragment,l),o=P(l),n=V(l,t)},m(l,r){A(e,l,r),M(l,o,r),M(l,n,r),s=!0},p(l,r){(!s||r[0]&512)&&t!==(t=(l[9]("phones.create")||"Create Phone")+"")&&j(n,t)},i(l){s||(p(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){l&&(u(o),u(n)),O(e,l)}}}function ol(a){let e,o,t=Ne(a[3]),n=[];for(let l=0;l<t.length;l+=1)n[l]=$t(ut(a,t,l));const s=l=>k(n[l],1,1,()=>{n[l]=null});return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=rt()},l(l){for(let r=0;r<n.length;r+=1)n[r].l(l);e=rt()},m(l,r){for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(l,r);M(l,e,r),o=!0},p(l,r){if(r[0]&147464){t=Ne(l[3]);let _;for(_=0;_<t.length;_+=1){const h=ut(l,t,_);n[_]?(n[_].p(h,r),p(n[_],1)):(n[_]=$t(h),n[_].c(),p(n[_],1),n[_].m(e.parentNode,e))}for(Qe(),_=t.length;_<n.length;_+=1)s(_);Ue()}},i(l){if(!o){for(let r=0;r<t.length;r+=1)p(n[r]);o=!0}},o(l){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)k(n[r]);o=!1},d(l){l&&u(e),Ye(n,l)}}}function sl(a){let e,o,t=(a[9]("common.no_results")||"No results found")+"",n;return{c(){e=b("tr"),o=b("td"),n=C(t),this.h()},l(s){e=g(s,"TR",{});var l=v(e);o=g(l,"TD",{colspan:!0,class:!0});var r=v(o);n=V(r,t),r.forEach(u),l.forEach(u),this.h()},h(){E(o,"colspan","7"),E(o,"class","p-4 text-center text-muted-foreground")},m(s,l){M(s,e,l),f(e,o),f(o,n)},p(s,l){l[0]&512&&t!==(t=(s[9]("common.no_results")||"No results found")+"")&&j(n,t)},i:ze,o:ze,d(s){s&&u(e)}}}function al(a){let e=a[29].phone_number+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&8&&e!==(e=t[29].phone_number+"")&&j(o,e)},d(t){t&&u(o)}}}function rl(a){let e=a[29].ip_address+"",o;return{c(){o=C(e)},l(t){o=V(t,e)},m(t,n){M(t,o,n)},p(t,n){n[0]&8&&e!==(e=t[29].ip_address+"")&&j(o,e)},d(t){t&&u(o)}}}function fl(a){let e,o;return e=new jt({props:{class:"h-4 w-4"}}),{c(){L(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){A(e,t,n),o=!0},p:ze,i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){k(e.$$.fragment,t),o=!1},d(t){O(e,t)}}}function $t(a){let e,o,t,n,s=vt(a[29])+"",l,r,_,h=gt(a[29].mac_address)+"",R,G,y,z=a[29].model_id+"",J,B,oe,Q=a[29].vendor+"",x,U,ae,q=a[29].domain+"",N,w,$,X,K,Y,fe,le;function ie(D,T){return D[29].type==="gateway"?rl:al}let de=ie(a),c=de(a);function ee(...D){return a[24](a[29],...D)}X=new Ie({props:{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive hover:bg-destructive/10",$$slots:{default:[fl]},$$scope:{ctx:a}}}),X.$on("click",ee);function Z(){return a[25](a[29])}return{c(){e=b("tr"),o=b("td"),c.c(),t=I(),n=b("td"),l=C(s),r=I(),_=b("td"),R=C(h),G=I(),y=b("td"),J=C(z),B=I(),oe=b("td"),x=C(Q),U=I(),ae=b("td"),N=C(q),w=I(),$=b("td"),L(X.$$.fragment),K=I(),this.h()},l(D){e=g(D,"TR",{class:!0});var T=v(e);o=g(T,"TD",{class:!0});var re=v(o);c.l(re),re.forEach(u),t=P(T),n=g(T,"TD",{class:!0});var se=v(n);l=V(se,s),se.forEach(u),r=P(T),_=g(T,"TD",{class:!0});var ue=v(_);R=V(ue,h),ue.forEach(u),G=P(T),y=g(T,"TD",{class:!0});var ge=v(y);J=V(ge,z),ge.forEach(u),B=P(T),oe=g(T,"TD",{class:!0});var Ee=v(oe);x=V(Ee,Q),Ee.forEach(u),U=P(T),ae=g(T,"TD",{class:!0});var me=v(ae);N=V(me,q),me.forEach(u),w=P(T),$=g(T,"TD",{class:!0});var ne=v($);F(X.$$.fragment,ne),ne.forEach(u),K=P(T),T.forEach(u),this.h()},h(){E(o,"class","p-4 align-middle"),E(n,"class","p-4 align-middle"),E(_,"class","p-4 align-middle"),E(y,"class","p-4 align-middle"),E(oe,"class","p-4 align-middle"),E(ae,"class","p-4 align-middle"),E($,"class","p-2 align-middle text-right"),E(e,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted cursor-pointer")},m(D,T){M(D,e,T),f(e,o),c.m(o,null),f(e,t),f(e,n),f(n,l),f(e,r),f(e,_),f(_,R),f(e,G),f(e,y),f(y,J),f(e,B),f(e,oe),f(oe,x),f(e,U),f(e,ae),f(ae,N),f(e,w),f(e,$),A(X,$,null),f(e,K),Y=!0,fe||(le=Ge(e,"click",Z),fe=!0)},p(D,T){a=D,de===(de=ie(a))&&c?c.p(a,T):(c.d(1),c=de(a),c&&(c.c(),c.m(o,null))),(!Y||T[0]&8)&&s!==(s=vt(a[29])+"")&&j(l,s),(!Y||T[0]&8)&&h!==(h=gt(a[29].mac_address)+"")&&j(R,h),(!Y||T[0]&8)&&z!==(z=a[29].model_id+"")&&j(J,z),(!Y||T[0]&8)&&Q!==(Q=a[29].vendor+"")&&j(x,Q),(!Y||T[0]&8)&&q!==(q=a[29].domain+"")&&j(N,q);const re={};T[1]&128&&(re.$$scope={dirty:T,ctx:a}),X.$set(re)},i(D){Y||(p(X.$$.fragment,D),Y=!0)},o(D){k(X.$$.fragment,D),Y=!1},d(D){D&&u(e),c.d(),O(X),fe=!1,le()}}}function il(a){let e,o,t=(a[9]("common.prev")||"Previous")+"",n,s;return e=new Ft({props:{class:"h-4 w-4"}}),{c(){L(e.$$.fragment),o=I(),n=C(t)},l(l){F(e.$$.fragment,l),o=P(l),n=V(l,t)},m(l,r){A(e,l,r),M(l,o,r),M(l,n,r),s=!0},p(l,r){(!s||r[0]&512)&&t!==(t=(l[9]("common.prev")||"Previous")+"")&&j(n,t)},i(l){s||(p(e.$$.fragment,l),s=!0)},o(l){k(e.$$.fragment,l),s=!1},d(l){l&&(u(o),u(n)),O(e,l)}}}function ul(a){let e=(a[9]("common.next")||"Next")+"",o,t,n,s;return n=new Bt({props:{class:"h-4 w-4"}}),{c(){o=C(e),t=I(),L(n.$$.fragment)},l(l){o=V(l,e),t=P(l),F(n.$$.fragment,l)},m(l,r){M(l,o,r),M(l,t,r),A(n,l,r),s=!0},p(l,r){(!s||r[0]&512)&&e!==(e=(l[9]("common.next")||"Next")+"")&&j(o,e)},i(l){s||(p(n.$$.fragment,l),s=!0)},o(l){k(n.$$.fragment,l),s=!1},d(l){l&&(u(o),u(t)),O(n,l)}}}function cl(a){let e,o,t,n,s,l=a[9]("phone.number")+"",r,_,h,R=(a[9]("common.description")||"Description")+"",G,y,z,J=a[9]("phone.mac")+"",B,oe,Q,x=(a[9]("phone.model")||"Model")+"",U,ae,q,N=a[9]("phone.vendor")+"",w,$,X,K=a[9]("phone.domain")+"",Y,fe,le,ie=(a[9]("common.actions")||"Actions")+"",de,c,ee,Z,D,T,re,se,ue=(a[9]("common.total")||"Total")+"",ge,Ee,me,ne,ce,W,Ce,he,_e;const je=[sl,ol],i=[];function m(d,H){return d[3].length===0?0:1}return Z=m(a),D=i[Z]=je[Z](a),W=new Ie({props:{variant:"outline",size:"sm",disabled:a[5]<=1||a[6],$$slots:{default:[il]},$$scope:{ctx:a}}}),W.$on("click",a[13]),he=new Ie({props:{variant:"outline",size:"sm",disabled:a[5]*Be>=a[4]||a[6],$$slots:{default:[ul]},$$scope:{ctx:a}}}),he.$on("click",a[12]),{c(){e=b("div"),o=b("table"),t=b("thead"),n=b("tr"),s=b("th"),r=C(l),_=I(),h=b("th"),G=C(R),y=I(),z=b("th"),B=C(J),oe=I(),Q=b("th"),U=C(x),ae=I(),q=b("th"),w=C(N),$=I(),X=b("th"),Y=C(K),fe=I(),le=b("th"),de=C(ie),c=I(),ee=b("tbody"),D.c(),T=I(),re=b("div"),se=b("div"),ge=C(ue),Ee=C(": "),me=C(a[4]),ne=I(),ce=b("div"),L(W.$$.fragment),Ce=I(),L(he.$$.fragment),this.h()},l(d){e=g(d,"DIV",{class:!0});var H=v(e);o=g(H,"TABLE",{class:!0});var $e=v(o);t=g($e,"THEAD",{class:!0});var pe=v(t);n=g(pe,"TR",{class:!0});var te=v(n);s=g(te,"TH",{class:!0});var Te=v(s);r=V(Te,l),Te.forEach(u),_=P(te),h=g(te,"TH",{class:!0});var we=v(h);G=V(we,R),we.forEach(u),y=P(te),z=g(te,"TH",{class:!0});var ke=v(z);B=V(ke,J),ke.forEach(u),oe=P(te),Q=g(te,"TH",{class:!0});var ve=v(Q);U=V(ve,x),ve.forEach(u),ae=P(te),q=g(te,"TH",{class:!0});var be=v(q);w=V(be,N),be.forEach(u),$=P(te),X=g(te,"TH",{class:!0});var S=v(X);Y=V(S,K),S.forEach(u),fe=P(te),le=g(te,"TH",{class:!0});var Pe=v(le);de=V(Pe,ie),Pe.forEach(u),te.forEach(u),pe.forEach(u),c=P($e),ee=g($e,"TBODY",{class:!0});var lt=v(ee);D.l(lt),lt.forEach(u),$e.forEach(u),H.forEach(u),T=P(d),re=g(d,"DIV",{class:!0});var Ae=v(re);se=g(Ae,"DIV",{class:!0});var Fe=v(se);ge=V(Fe,ue),Ee=V(Fe,": "),me=V(Fe,a[4]),Fe.forEach(u),ne=P(Ae),ce=g(Ae,"DIV",{class:!0});var Le=v(ce);F(W.$$.fragment,Le),Ce=P(Le),F(he.$$.fragment,Le),Le.forEach(u),Ae.forEach(u),this.h()},h(){E(s,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),E(h,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),E(z,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),E(Q,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),E(q,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),E(X,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),E(le,"class","h-12 px-2 text-right align-middle font-medium text-muted-foreground w-[1%] whitespace-nowrap"),E(n,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"),E(t,"class","[&_tr]:border-b"),E(ee,"class","[&_tr:last-child]:border-0"),E(o,"class","w-full caption-bottom text-sm"),E(e,"class","relative w-full overflow-auto"),E(se,"class","flex-1 text-sm text-muted-foreground"),E(ce,"class","space-x-2"),E(re,"class","flex items-center justify-end space-x-2 py-4 px-4")},m(d,H){M(d,e,H),f(e,o),f(o,t),f(t,n),f(n,s),f(s,r),f(n,_),f(n,h),f(h,G),f(n,y),f(n,z),f(z,B),f(n,oe),f(n,Q),f(Q,U),f(n,ae),f(n,q),f(q,w),f(n,$),f(n,X),f(X,Y),f(n,fe),f(n,le),f(le,de),f(o,c),f(o,ee),i[Z].m(ee,null),M(d,T,H),M(d,re,H),f(re,se),f(se,ge),f(se,Ee),f(se,me),f(re,ne),f(re,ce),A(W,ce,null),f(ce,Ce),A(he,ce,null),_e=!0},p(d,H){(!_e||H[0]&512)&&l!==(l=d[9]("phone.number")+"")&&j(r,l),(!_e||H[0]&512)&&R!==(R=(d[9]("common.description")||"Description")+"")&&j(G,R),(!_e||H[0]&512)&&J!==(J=d[9]("phone.mac")+"")&&j(B,J),(!_e||H[0]&512)&&x!==(x=(d[9]("phone.model")||"Model")+"")&&j(U,x),(!_e||H[0]&512)&&N!==(N=d[9]("phone.vendor")+"")&&j(w,N),(!_e||H[0]&512)&&K!==(K=d[9]("phone.domain")+"")&&j(Y,K),(!_e||H[0]&512)&&ie!==(ie=(d[9]("common.actions")||"Actions")+"")&&j(de,ie);let $e=Z;Z=m(d),Z===$e?i[Z].p(d,H):(Qe(),k(i[$e],1,1,()=>{i[$e]=null}),Ue(),D=i[Z],D?D.p(d,H):(D=i[Z]=je[Z](d),D.c()),p(D,1),D.m(ee,null)),(!_e||H[0]&512)&&ue!==(ue=(d[9]("common.total")||"Total")+"")&&j(ge,ue),(!_e||H[0]&16)&&j(me,d[4]);const pe={};H[0]&96&&(pe.disabled=d[5]<=1||d[6]),H[0]&512|H[1]&128&&(pe.$$scope={dirty:H,ctx:d}),W.$set(pe);const te={};H[0]&112&&(te.disabled=d[5]*Be>=d[4]||d[6]),H[0]&512|H[1]&128&&(te.$$scope={dirty:H,ctx:d}),he.$set(te)},i(d){_e||(p(D),p(W.$$.fragment,d),p(he.$$.fragment,d),_e=!0)},o(d){k(D),k(W.$$.fragment,d),k(he.$$.fragment,d),_e=!1},d(d){d&&(u(e),u(T),u(re)),i[Z].d(),O(W),O(he)}}}function _l(a){let e,o;return e=new bt({props:{class:"p-0",$$slots:{default:[cl]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){A(e,t,n),o=!0},p(t,n){const s={};n[0]&632|n[1]&128&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){k(e.$$.fragment,t),o=!1},d(t){O(e,t)}}}function pt(a){let e,o,t,n,s;t=new Ie({props:{variant:"ghost",size:"icon",class:"absolute right-4 top-4",$$slots:{default:[dl]},$$scope:{ctx:a}}}),t.$on("click",a[26]);let l=a[7]&&ht(a);return{c(){e=b("div"),o=b("div"),L(t.$$.fragment),n=I(),l&&l.c(),this.h()},l(r){e=g(r,"DIV",{class:!0});var _=v(e);o=g(_,"DIV",{class:!0});var h=v(o);F(t.$$.fragment,h),n=P(h),l&&l.l(h),h.forEach(u),_.forEach(u),this.h()},h(){E(o,"class","bg-background dark:bg-slate-900 p-6 rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border dark:border-slate-700 relative"),E(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/50")},m(r,_){M(r,e,_),f(e,o),A(t,o,null),f(o,n),l&&l.m(o,null),s=!0},p(r,_){const h={};_[1]&128&&(h.$$scope={dirty:_,ctx:r}),t.$set(h),r[7]?l?(l.p(r,_),_[0]&128&&p(l,1)):(l=ht(r),l.c(),p(l,1),l.m(o,null)):l&&(Qe(),k(l,1,1,()=>{l=null}),Ue())},i(r){s||(p(t.$$.fragment,r),p(l),s=!0)},o(r){k(t.$$.fragment,r),k(l),s=!1},d(r){r&&u(e),O(t),l&&l.d()}}}function dl(a){let e,o;return e=new wt({props:{class:"h-4 w-4"}}),{c(){L(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){A(e,t,n),o=!0},p:ze,i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){k(e.$$.fragment,t),o=!1},d(t){O(e,t)}}}function ht(a){let e,o;return e=new Vt({props:{mode:a[7].id?"edit":"create",phone:a[7]}}),e.$on("save",a[16]),{c(){L(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,n){A(e,t,n),o=!0},p(t,n){const s={};n[0]&128&&(s.mode=t[7].id?"edit":"create"),n[0]&128&&(s.phone=t[7]),e.$set(s)},i(t){o||(p(e.$$.fragment,t),o=!0)},o(t){k(e.$$.fragment,t),o=!1},d(t){O(e,t)}}}function ml(a){let e,o,t,n=(a[9]("menu.phones")||"Phones")+"",s,l,r,_,h,R,G=(a[9]("menu.phones")||"Phones")+"",y,z,J,B,oe,Q,x,U,ae,q;r=new it({props:{$$slots:{default:[tl]},$$scope:{ctx:a}}}),B=new Ie({props:{variant:"outline",href:"/phones/import",$$slots:{default:[ll]},$$scope:{ctx:a}}}),Q=new Ie({props:{$$slots:{default:[nl]},$$scope:{ctx:a}}}),Q.$on("click",a[15]),U=new it({props:{$$slots:{default:[_l]},$$scope:{ctx:a}}});let N=a[8]&&pt(a);return{c(){e=b("div"),o=b("div"),t=b("h1"),s=C(n),l=I(),L(r.$$.fragment),_=I(),h=b("div"),R=b("h1"),y=C(G),z=I(),J=b("div"),L(B.$$.fragment),oe=I(),L(Q.$$.fragment),x=I(),L(U.$$.fragment),ae=I(),N&&N.c(),this.h()},l(w){e=g(w,"DIV",{class:!0});var $=v(e);o=g($,"DIV",{class:!0});var X=v(o);t=g(X,"H1",{class:!0});var K=v(t);s=V(K,n),K.forEach(u),X.forEach(u),l=P($),F(r.$$.fragment,$),_=P($),h=g($,"DIV",{class:!0});var Y=v(h);R=g(Y,"H1",{class:!0});var fe=v(R);y=V(fe,G),fe.forEach(u),z=P(Y),J=g(Y,"DIV",{class:!0});var le=v(J);F(B.$$.fragment,le),oe=P(le),F(Q.$$.fragment,le),le.forEach(u),Y.forEach(u),x=P($),F(U.$$.fragment,$),ae=P($),N&&N.l($),$.forEach(u),this.h()},h(){E(t,"class","text-3xl font-bold text-gray-900 dark:text-gray-100"),E(o,"class","flex justify-between items-center"),E(R,"class","text-3xl font-bold text-gray-900 dark:text-gray-100"),E(J,"class","flex gap-2"),E(h,"class","flex justify-between items-center"),E(e,"class","p-6 space-y-6")},m(w,$){M(w,e,$),f(e,o),f(o,t),f(t,s),f(e,l),A(r,e,null),f(e,_),f(e,h),f(h,R),f(R,y),f(h,z),f(h,J),A(B,J,null),f(J,oe),A(Q,J,null),f(e,x),A(U,e,null),f(e,ae),N&&N.m(e,null),q=!0},p(w,$){(!q||$[0]&512)&&n!==(n=(w[9]("menu.phones")||"Phones")+"")&&j(s,n);const X={};$[0]&583|$[1]&128&&(X.$$scope={dirty:$,ctx:w}),r.$set(X),(!q||$[0]&512)&&G!==(G=(w[9]("menu.phones")||"Phones")+"")&&j(y,G);const K={};$[0]&512|$[1]&128&&(K.$$scope={dirty:$,ctx:w}),B.$set(K);const Y={};$[0]&512|$[1]&128&&(Y.$$scope={dirty:$,ctx:w}),Q.$set(Y);const fe={};$[0]&632|$[1]&128&&(fe.$$scope={dirty:$,ctx:w}),U.$set(fe),w[8]?N?(N.p(w,$),$[0]&256&&p(N,1)):(N=pt(w),N.c(),p(N,1),N.m(e,null)):N&&(Qe(),k(N,1,1,()=>{N=null}),Ue())},i(w){q||(p(r.$$.fragment,w),p(B.$$.fragment,w),p(Q.$$.fragment,w),p(U.$$.fragment,w),p(N),q=!0)},o(w){k(r.$$.fragment,w),k(B.$$.fragment,w),k(Q.$$.fragment,w),k(U.$$.fragment,w),k(N),q=!1},d(w){w&&u(e),O(r),O(B),O(Q),O(U),N&&N.d()}}}let Be=20;function gt(a){var o;return a?((o=a.replace(/[^a-fA-F0-9]/g,"").match(/.{1,2}/g))==null?void 0:o.join(":"))||a:""}function vt(a){const e=[];if(a.description&&e.push(a.description),a.type==="phone"&&a.lines){const o=[];for(const t of a.lines){if(t.type!=="line")continue;let n={};if(typeof t.additional_info=="string")try{n=JSON.parse(t.additional_info)}catch{}else typeof t.additional_info=="object"&&(n=t.additional_info||{});let s=n.display_name||n.screen_name||n.user_name||n.auth_name||(t.number?t.number.toString():"");s&&(s.length>20&&(s=s.substring(0,20)+"..."),o.push(s))}o.length>0&&e.push(o.join(", "))}return e.join(": ")}function $l(a,e,o){let t;kt(a,Pt,c=>o(9,t=c));let n=[],s=[],l={domain:"",vendor:"",mac:"",number:"",caller_id:""},r=[],_=0,h=1,R=!1,G=null,y=!1;Et(async()=>{await Promise.all([z(),J()]),await B()});async function z(){try{const c=await fetch("/api/domains");if(c.ok){const ee=await c.json();o(0,n=ee.domains||[])}}catch(c){console.error("Failed to load domains",c)}}async function J(){try{const c=await fetch("/api/vendors");if(c.ok){const ee=await c.json();o(1,s=ee.vendors||[])}}catch(c){console.error("Failed to load vendors",c)}}async function B(c=1){o(6,R=!0),o(5,h=c);const ee=new URLSearchParams({page:h.toString(),limit:Be.toString(),...l});for(const[Z,D]of Object.entries(l))D||ee.delete(Z);try{const Z=await fetch(`/api/phones?${ee.toString()}`);if(Z.ok){const D=await Z.json();o(3,r=D.phones||[]),o(4,_=D.total||0)}else He.error("Failed to load phones")}catch(Z){He.error("Error loading phones: "+Z.message)}finally{o(6,R=!1)}}function oe(){o(2,l={domain:"",vendor:"",mac:"",number:"",caller_id:""}),B(1)}function Q(){h*Be<_&&B(h+1)}function x(){h>1&&B(h-1)}function U(c){console.debug("Start Phone Editor",c),o(7,G={...c}),o(8,y=!0)}function ae(){o(7,G={domain:n[0]||"",vendor:"",model_id:"",mac_address:"",phone_number:"",ip_address:"",description:"",lines:[],expansion_module_model:"",type:"phone"}),o(8,y=!0)}function q(c){o(8,y=!1),B(h)}async function N(c){if(confirm(t("phone.confirm_delete")||"Are you sure you want to delete this phone?"))try{(await fetch(`/api/phones/${c.id}`,{method:"DELETE"})).ok?(He.success(t("phone.deleted")||"Phone deleted"),B(h)):He.error(t("phone.delete_failed")||"Failed to delete phone")}catch(ee){He.error("Error deleting phone: "+ee.message)}}function w(){l.domain=nt(this),o(2,l),o(0,n)}function $(){l.vendor=nt(this),o(2,l),o(0,n)}const X=c=>{o(2,l.mac=Tt(c.currentTarget.value),l),c.currentTarget.value=l.mac};function K(c){a.$$.not_equal(l.number,c)&&(l.number=c,o(2,l))}function Y(c){a.$$.not_equal(l.caller_id,c)&&(l.caller_id=c,o(2,l))}return[n,s,l,r,_,h,R,G,y,t,B,oe,Q,x,U,ae,q,N,w,$,X,K,Y,()=>B(1),(c,ee)=>{ee.stopPropagation(),N(c)},c=>U(c),()=>o(8,y=!1)]}class Il extends Re{constructor(e){super(),Je(this,e,$l,ml,qe,{},null,[-1,-1])}}export{Il as component};
