import{s as tt,l as Se,m as Qe,o as ft,u as it,p as ut,q as ct,d as i,a as J,i as M,b as f,C as b,c as p,e as $,f as H,g as P,h,t as F,j as N,k as Lt,H as Mt,O as st,D as pt,M as xe,r as Bt,P as Je,E as $t,x as Xe,w as je,Q as at,n as ze,F as ht}from"../chunks/CUkxpT2c.js";import{S as lt,i as nt,d as A,t as m,a as d,m as z,c as R,b as U,f as He,g as Fe,e as gt}from"../chunks/DqPwdKnZ.js";import{I as dt,t as Ke,e as Le}from"../chunks/BtYH2GXc.js";import{g as _t,a as mt,B as Me,f as At,$ as zt}from"../chunks/wjMZg2eG.js";import{C as vt,a as Ft}from"../chunks/YhqYbtJb.js";import{C as Rt,a as Ut}from"../chunks/HaCMjAII.js";import{I as rt}from"../chunks/Clvdv4ji.js";import{L as Ue}from"../chunks/CE9t1zSW.js";import{a as Jt,P as Qt}from"../chunks/Br0K4PcY.js";import{X as ot}from"../chunks/BqBe62oF.js";import{S as Xt}from"../chunks/DUk6q9eb.js";import{T as Yt}from"../chunks/D29mSRJX.js";function Gt(r){let e;const l=r[2].default,t=ft(l,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&it(t,l,n,n[3],e?ct(l,n[3],s,null):ut(n[3]),null)},i(n){e||(d(t,n),e=!0)},o(n){m(t,n),e=!1},d(n){t&&t.d(n)}}}function Kt(r){let e,l;const t=[{name:"chevron-left"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Gt]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)n=Se(n,t[s]);return e=new dt({props:n}),{c(){U(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,o){z(e,s,o),l=!0},p(s,[o]){const a=o&3?_t(t,[t[0],o&2&&mt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){m(e.$$.fragment,s),l=!1},d(s){A(e,s)}}}function Wt(r,e,l){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"m15 18-6-6 6-6"}]];return r.$$set=o=>{l(1,e=Se(Se({},e),Qe(o))),"$$scope"in o&&l(3,n=o.$$scope)},e=Qe(e),[s,e,t,n]}class Zt extends lt{constructor(e){super(),nt(this,e,Wt,Kt,tt,{})}}function yt(r){let e;const l=r[2].default,t=ft(l,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&it(t,l,n,n[3],e?ct(l,n[3],s,null):ut(n[3]),null)},i(n){e||(d(t,n),e=!0)},o(n){m(t,n),e=!1},d(n){t&&t.d(n)}}}function xt(r){let e,l;const t=[{name:"chevron-right"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[yt]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)n=Se(n,t[s]);return e=new dt({props:n}),{c(){U(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,o){z(e,s,o),l=!0},p(s,[o]){const a=o&3?_t(t,[t[0],o&2&&mt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){m(e.$$.fragment,s),l=!1},d(s){A(e,s)}}}function el(r,e,l){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"m9 18 6-6-6-6"}]];return r.$$set=o=>{l(1,e=Se(Se({},e),Qe(o))),"$$scope"in o&&l(3,n=o.$$scope)},e=Qe(e),[s,e,t,n]}class tl extends lt{constructor(e){super(),nt(this,e,el,xt,tt,{})}}function ll(r){let e;const l=r[2].default,t=ft(l,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,s){t&&t.m(n,s),e=!0},p(n,s){t&&t.p&&(!e||s&8)&&it(t,l,n,n[3],e?ct(l,n[3],s,null):ut(n[3]),null)},i(n){e||(d(t,n),e=!0)},o(n){m(t,n),e=!1},d(n){t&&t.d(n)}}}function nl(r){let e,l;const t=[{name:"upload"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[ll]},$$scope:{ctx:r}};for(let s=0;s<t.length;s+=1)n=Se(n,t[s]);return e=new dt({props:n}),{c(){U(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,o){z(e,s,o),l=!0},p(s,[o]){const a=o&3?_t(t,[t[0],o&2&&mt(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(a.$$scope={dirty:o,ctx:s}),e.$set(a)},i(s){l||(d(e.$$.fragment,s),l=!0)},o(s){m(e.$$.fragment,s),l=!1},d(s){A(e,s)}}}function ol(r,e,l){let{$$slots:t={},$$scope:n}=e;const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];return r.$$set=o=>{l(1,e=Se(Se({},e),Qe(o))),"$$scope"in o&&l(3,n=o.$$scope)},e=Qe(e),[s,e,t,n]}class sl extends lt{constructor(e){super(),nt(this,e,ol,nl,tt,{})}}function bt(r,e,l){const t=r.slice();return t[36]=e[l],t}function kt(r,e,l){const t=r.slice();return t[39]=e[l],t}function wt(r,e,l){const t=r.slice();return t[42]=e[l],t}function Et(r,e,l){const t=r.slice();return t[45]=e[l],t}function rl(r){let e=(r[11]("phone.search_title")||"Search Phones")+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&2048&&e!==(e=(t[11]("phone.search_title")||"Search Phones")+"")&&J(l,e)},d(t){t&&i(l)}}}function al(r){let e,l;return e=new Ut({props:{$$slots:{default:[rl]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const s={};n[0]&2048|n[1]&131072&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function fl(r){let e=r[11]("phone.domain")+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&2048&&e!==(e=t[11]("phone.domain")+"")&&J(l,e)},d(t){t&&i(l)}}}function Tt(r){let e,l=r[45]+"",t,n;return{c(){e=h("option"),t=F(l),this.h()},l(s){e=p(s,"OPTION",{});var o=$(e);t=H(o,l),o.forEach(i),this.h()},h(){e.__value=n=r[45],je(e,e.__value)},m(s,o){M(s,e,o),f(e,t)},p(s,o){o[0]&2&&l!==(l=s[45]+"")&&J(t,l),o[0]&2&&n!==(n=s[45])&&(e.__value=n,je(e,e.__value))},d(s){s&&i(e)}}}function il(r){let e=r[11]("phone.vendor")+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&2048&&e!==(e=t[11]("phone.vendor")+"")&&J(l,e)},d(t){t&&i(l)}}}function Dt(r){let e,l=r[42].name+"",t,n;return{c(){e=h("option"),t=F(l),this.h()},l(s){e=p(s,"OPTION",{});var o=$(e);t=H(o,l),o.forEach(i),this.h()},h(){e.__value=n=r[42].id,je(e,e.__value)},m(s,o){M(s,e,o),f(e,t)},p(s,o){o[0]&4&&l!==(l=s[42].name+"")&&J(t,l),o[0]&4&&n!==(n=s[42].id)&&(e.__value=n,je(e,e.__value))},d(s){s&&i(e)}}}function It(r){let e,l,t,n,s,o=(r[11]("common.all_models")||"Все")+"",a,c,V,X;l=new Ue({props:{for:"s_model",$$slots:{default:[ul]},$$scope:{ctx:r}}});let S=Le(r[3]),T=[];for(let g=0;g<S.length;g+=1)T[g]=Pt(kt(r,S,g));return{c(){e=h("div"),U(l.$$.fragment),t=N(),n=h("select"),s=h("option"),a=F(o);for(let g=0;g<T.length;g+=1)T[g].c();this.h()},l(g){e=p(g,"DIV",{class:!0});var D=$(e);R(l.$$.fragment,D),t=P(D),n=p(D,"SELECT",{id:!0,class:!0});var I=$(n);s=p(I,"OPTION",{});var j=$(s);a=H(j,o),j.forEach(i);for(let B=0;B<T.length;B+=1)T[B].l(I);I.forEach(i),D.forEach(i),this.h()},h(){s.__value="",je(s,s.__value),b(n,"id","s_model"),b(n,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),r[0].model_id===void 0&&at(()=>r[22].call(n)),b(e,"class","space-y-2")},m(g,D){M(g,e,D),z(l,e,null),f(e,t),f(e,n),f(n,s),f(s,a);for(let I=0;I<T.length;I+=1)T[I]&&T[I].m(n,null);Je(n,r[0].model_id,!0),c=!0,V||(X=Xe(n,"change",r[22]),V=!0)},p(g,D){const I={};if(D[0]&2048|D[1]&131072&&(I.$$scope={dirty:D,ctx:g}),l.$set(I),(!c||D[0]&2048)&&o!==(o=(g[11]("common.all_models")||"Все")+"")&&J(a,o),D[0]&8){S=Le(g[3]);let j;for(j=0;j<S.length;j+=1){const B=kt(g,S,j);T[j]?T[j].p(B,D):(T[j]=Pt(B),T[j].c(),T[j].m(n,null))}for(;j<T.length;j+=1)T[j].d(1);T.length=S.length}D[0]&3&&Je(n,g[0].model_id)},i(g){c||(d(l.$$.fragment,g),c=!0)},o(g){m(l.$$.fragment,g),c=!1},d(g){g&&i(e),A(l),xe(T,g),V=!1,X()}}}function ul(r){let e=(r[11]("phone.model")||"Модель")+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&2048&&e!==(e=(t[11]("phone.model")||"Модель")+"")&&J(l,e)},d(t){t&&i(l)}}}function Pt(r){let e,l=r[39].name+"",t,n;return{c(){e=h("option"),t=F(l),this.h()},l(s){e=p(s,"OPTION",{});var o=$(e);t=H(o,l),o.forEach(i),this.h()},h(){e.__value=n=r[39].id,je(e,e.__value)},m(s,o){M(s,e,o),f(e,t)},p(s,o){o[0]&8&&l!==(l=s[39].name+"")&&J(t,l),o[0]&8&&n!==(n=s[39].id)&&(e.__value=n,je(e,e.__value))},d(s){s&&i(e)}}}function cl(r){let e=r[11]("phone.mac")+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&2048&&e!==(e=t[11]("phone.mac")+"")&&J(l,e)},d(t){t&&i(l)}}}function Nt(r){let e,l,t,n,s;return l=new ot({props:{class:"h-4 w-4"}}),{c(){e=h("button"),U(l.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=$(e);R(l.$$.fragment,a),a.forEach(i),this.h()},h(){b(e,"class","absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors")},m(o,a){M(o,e,a),z(l,e,null),t=!0,n||(s=Xe(e,"click",r[24]),n=!0)},p:ze,i(o){t||(d(l.$$.fragment,o),t=!0)},o(o){m(l.$$.fragment,o),t=!1},d(o){o&&i(e),A(l),n=!1,s()}}}function dl(r){let e=r[11]("phone.number")+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&2048&&e!==(e=t[11]("phone.number")+"")&&J(l,e)},d(t){t&&i(l)}}}function _l(r){let e;return{c(){e=F("Сквозной поиск")},l(l){e=H(l,"Сквозной поиск")},m(l,t){M(l,e,t)},d(l){l&&i(e)}}}function Vt(r){let e,l,t,n,s;return l=new ot({props:{class:"h-4 w-4"}}),{c(){e=h("button"),U(l.$$.fragment),this.h()},l(o){e=p(o,"BUTTON",{class:!0});var a=$(e);R(l.$$.fragment,a),a.forEach(i),this.h()},h(){b(e,"class","absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors")},m(o,a){M(o,e,a),z(l,e,null),t=!0,n||(s=Xe(e,"click",r[27]),n=!0)},p:ze,i(o){t||(d(l.$$.fragment,o),t=!0)},o(o){m(l.$$.fragment,o),t=!1},d(o){o&&i(e),A(l),n=!1,s()}}}function Ot(r){let e,l;return e=new Me({props:{variant:"outline",disabled:r[7],$$slots:{default:[ml]},$$scope:{ctx:r}}}),e.$on("click",r[13]),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const s={};n[0]&128&&(s.disabled=t[7]),n[1]&131072&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function ml(r){let e,l,t;return e=new ot({props:{class:"mr-2 h-4 w-4"}}),{c(){U(e.$$.fragment),l=F(`
                        Сбросить фильтр`)},l(n){R(e.$$.fragment,n),l=H(n,`
                        Сбросить фильтр`)},m(n,s){z(e,n,s),M(n,l,s),t=!0},p:ze,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){m(e.$$.fragment,n),t=!1},d(n){n&&i(l),A(e,n)}}}function pl(r){let e,l,t=(r[11]("common.search")||"Search")+"",n,s;return e=new Xt({props:{class:"mr-2 h-4 w-4"}}),{c(){U(e.$$.fragment),l=N(),n=F(t)},l(o){R(e.$$.fragment,o),l=P(o),n=H(o,t)},m(o,a){z(e,o,a),M(o,l,a),M(o,n,a),s=!0},p(o,a){(!s||a[0]&2048)&&t!==(t=(o[11]("common.search")||"Search")+"")&&J(n,t)},i(o){s||(d(e.$$.fragment,o),s=!0)},o(o){m(e.$$.fragment,o),s=!1},d(o){o&&(i(l),i(n)),A(e,o)}}}function $l(r){let e,l,t,n,s,o,a=(r[11]("common.all_domains")||"Все")+"",c,V,X,S,T,g,D,I,j,B=(r[11]("common.all_vendors")||"Все")+"",Y,le,ue,G,O,q,k,Q,ae,W,te,x,ke,fe,ie,ve,ee,C,L,y,ne,w,Z,ce,oe,De,he,ge,Be,we;t=new Ue({props:{for:"s_domain",$$slots:{default:[fl]},$$scope:{ctx:r}}});let de=Le(r[1]),_e=[];for(let u=0;u<de.length;u+=1)_e[u]=Tt(Et(r,de,u));g=new Ue({props:{for:"s_vendor",$$slots:{default:[il]},$$scope:{ctx:r}}});let be=Le(r[2]),me=[];for(let u=0;u<be.length;u+=1)me[u]=Dt(wt(r,be,u));let _=r[0].vendor&&It(r);O=new Ue({props:{for:"s_mac",$$slots:{default:[cl]},$$scope:{ctx:r}}}),Q=new rt({props:{id:"s_mac",class:"pr-8",value:r[0].mac,placeholder:"00:11:..."}}),Q.$on("input",r[23]);let E=r[0].mac&&Nt(r);x=new Ue({props:{for:"s_number",$$slots:{default:[dl]},$$scope:{ctx:r}}});function Ie(u){r[25](u)}let Ve={id:"s_number",placeholder:"101"};r[0].number!==void 0&&(Ve.value=r[0].number),fe=new rt({props:Ve}),pt.push(()=>gt(fe,"value",Ie)),C=new Ue({props:{for:"s_q",$$slots:{default:[_l]},$$scope:{ctx:r}}});function pe(u){r[26](u)}let Ye={id:"s_q",class:"pr-8",placeholder:"Поиск по номеру, описанию..."};r[0].q!==void 0&&(Ye.value=r[0].q),ne=new rt({props:Ye}),pt.push(()=>gt(ne,"value",pe));let se=r[0].q&&Vt(r),re=r[10]&&Ot(r);return he=new Me({props:{disabled:r[7],$$slots:{default:[pl]},$$scope:{ctx:r}}}),he.$on("click",r[28]),{c(){e=h("div"),l=h("div"),U(t.$$.fragment),n=N(),s=h("select"),o=h("option"),c=F(a);for(let u=0;u<_e.length;u+=1)_e[u].c();V=N(),X=h("div"),S=h("div"),T=h("div"),U(g.$$.fragment),D=N(),I=h("select"),j=h("option"),Y=F(B);for(let u=0;u<me.length;u+=1)me[u].c();le=N(),_&&_.c(),ue=N(),G=h("div"),U(O.$$.fragment),q=N(),k=h("div"),U(Q.$$.fragment),ae=N(),E&&E.c(),W=N(),te=h("div"),U(x.$$.fragment),ke=N(),U(fe.$$.fragment),ve=N(),ee=h("div"),U(C.$$.fragment),L=N(),y=h("div"),U(ne.$$.fragment),Z=N(),se&&se.c(),ce=N(),oe=h("div"),re&&re.c(),De=N(),U(he.$$.fragment),this.h()},l(u){e=p(u,"DIV",{class:!0});var v=$(e);l=p(v,"DIV",{class:!0});var $e=$(l);R(t.$$.fragment,$e),n=P($e),s=p($e,"SELECT",{id:!0,class:!0});var Oe=$(s);o=p(Oe,"OPTION",{});var qe=$(o);c=H(qe,a),qe.forEach(i);for(let Ae=0;Ae<_e.length;Ae+=1)_e[Ae].l(Oe);Oe.forEach(i),$e.forEach(i),V=P(v),X=p(v,"DIV",{class:!0});var Pe=$(X);S=p(Pe,"DIV",{class:!0});var Ee=$(S);T=p(Ee,"DIV",{class:!0});var Te=$(T);R(g.$$.fragment,Te),D=P(Te),I=p(Te,"SELECT",{id:!0,class:!0});var Re=$(I);j=p(Re,"OPTION",{});var Ge=$(j);Y=H(Ge,B),Ge.forEach(i);for(let Ae=0;Ae<me.length;Ae+=1)me[Ae].l(Re);Re.forEach(i),Te.forEach(i),le=P(Ee),_&&_.l(Ee),Ee.forEach(i),Pe.forEach(i),ue=P(v),G=p(v,"DIV",{class:!0});var Ce=$(G);R(O.$$.fragment,Ce),q=P(Ce),k=p(Ce,"DIV",{class:!0});var K=$(k);R(Q.$$.fragment,K),ae=P(K),E&&E.l(K),K.forEach(i),Ce.forEach(i),W=P(v),te=p(v,"DIV",{class:!0});var Ne=$(te);R(x.$$.fragment,Ne),ke=P(Ne),R(fe.$$.fragment,Ne),Ne.forEach(i),ve=P(v),ee=p(v,"DIV",{class:!0});var We=$(ee);R(C.$$.fragment,We),L=P(We),y=p(We,"DIV",{class:!0});var Ze=$(y);R(ne.$$.fragment,Ze),Z=P(Ze),se&&se.l(Ze),Ze.forEach(i),We.forEach(i),v.forEach(i),ce=P(u),oe=p(u,"DIV",{class:!0});var ye=$(oe);re&&re.l(ye),De=P(ye),R(he.$$.fragment,ye),ye.forEach(i),this.h()},h(){o.__value="",je(o,o.__value),b(s,"id","s_domain"),b(s,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),r[0].domain===void 0&&at(()=>r[20].call(s)),b(l,"class","space-y-2"),j.__value="",je(j,j.__value),b(I,"id","s_vendor"),b(I,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),r[0].vendor===void 0&&at(()=>r[21].call(I)),b(T,"class","space-y-2"),b(S,"class","grid grid-cols-1 md:grid-cols-2 gap-2"),b(X,"class","space-y-2 md:col-span-1"),b(k,"class","relative group"),b(G,"class","space-y-2"),b(te,"class","space-y-2"),b(y,"class","relative group"),b(ee,"class","space-y-2"),b(e,"class","grid grid-cols-1 md:grid-cols-5 gap-4"),b(oe,"class","flex justify-end gap-2")},m(u,v){M(u,e,v),f(e,l),z(t,l,null),f(l,n),f(l,s),f(s,o),f(o,c);for(let $e=0;$e<_e.length;$e+=1)_e[$e]&&_e[$e].m(s,null);Je(s,r[0].domain,!0),f(e,V),f(e,X),f(X,S),f(S,T),z(g,T,null),f(T,D),f(T,I),f(I,j),f(j,Y);for(let $e=0;$e<me.length;$e+=1)me[$e]&&me[$e].m(I,null);Je(I,r[0].vendor,!0),f(S,le),_&&_.m(S,null),f(e,ue),f(e,G),z(O,G,null),f(G,q),f(G,k),z(Q,k,null),f(k,ae),E&&E.m(k,null),f(e,W),f(e,te),z(x,te,null),f(te,ke),z(fe,te,null),f(e,ve),f(e,ee),z(C,ee,null),f(ee,L),f(ee,y),z(ne,y,null),f(y,Z),se&&se.m(y,null),M(u,ce,v),M(u,oe,v),re&&re.m(oe,null),f(oe,De),z(he,oe,null),ge=!0,Be||(we=[Xe(s,"change",r[20]),Xe(I,"change",r[21])],Be=!0)},p(u,v){const $e={};if(v[0]&2048|v[1]&131072&&($e.$$scope={dirty:v,ctx:u}),t.$set($e),(!ge||v[0]&2048)&&a!==(a=(u[11]("common.all_domains")||"Все")+"")&&J(c,a),v[0]&2){de=Le(u[1]);let K;for(K=0;K<de.length;K+=1){const Ne=Et(u,de,K);_e[K]?_e[K].p(Ne,v):(_e[K]=Tt(Ne),_e[K].c(),_e[K].m(s,null))}for(;K<_e.length;K+=1)_e[K].d(1);_e.length=de.length}v[0]&3&&Je(s,u[0].domain);const Oe={};if(v[0]&2048|v[1]&131072&&(Oe.$$scope={dirty:v,ctx:u}),g.$set(Oe),(!ge||v[0]&2048)&&B!==(B=(u[11]("common.all_vendors")||"Все")+"")&&J(Y,B),v[0]&4){be=Le(u[2]);let K;for(K=0;K<be.length;K+=1){const Ne=wt(u,be,K);me[K]?me[K].p(Ne,v):(me[K]=Dt(Ne),me[K].c(),me[K].m(I,null))}for(;K<me.length;K+=1)me[K].d(1);me.length=be.length}v[0]&3&&Je(I,u[0].vendor),u[0].vendor?_?(_.p(u,v),v[0]&1&&d(_,1)):(_=It(u),_.c(),d(_,1),_.m(S,null)):_&&(Fe(),m(_,1,1,()=>{_=null}),He());const qe={};v[0]&2048|v[1]&131072&&(qe.$$scope={dirty:v,ctx:u}),O.$set(qe);const Pe={};v[0]&1&&(Pe.value=u[0].mac),Q.$set(Pe),u[0].mac?E?(E.p(u,v),v[0]&1&&d(E,1)):(E=Nt(u),E.c(),d(E,1),E.m(k,null)):E&&(Fe(),m(E,1,1,()=>{E=null}),He());const Ee={};v[0]&2048|v[1]&131072&&(Ee.$$scope={dirty:v,ctx:u}),x.$set(Ee);const Te={};!ie&&v[0]&1&&(ie=!0,Te.value=u[0].number,$t(()=>ie=!1)),fe.$set(Te);const Re={};v[1]&131072&&(Re.$$scope={dirty:v,ctx:u}),C.$set(Re);const Ge={};!w&&v[0]&1&&(w=!0,Ge.value=u[0].q,$t(()=>w=!1)),ne.$set(Ge),u[0].q?se?(se.p(u,v),v[0]&1&&d(se,1)):(se=Vt(u),se.c(),d(se,1),se.m(y,null)):se&&(Fe(),m(se,1,1,()=>{se=null}),He()),u[10]?re?(re.p(u,v),v[0]&1024&&d(re,1)):(re=Ot(u),re.c(),d(re,1),re.m(oe,De)):re&&(Fe(),m(re,1,1,()=>{re=null}),He());const Ce={};v[0]&128&&(Ce.disabled=u[7]),v[0]&2048|v[1]&131072&&(Ce.$$scope={dirty:v,ctx:u}),he.$set(Ce)},i(u){ge||(d(t.$$.fragment,u),d(g.$$.fragment,u),d(_),d(O.$$.fragment,u),d(Q.$$.fragment,u),d(E),d(x.$$.fragment,u),d(fe.$$.fragment,u),d(C.$$.fragment,u),d(ne.$$.fragment,u),d(se),d(re),d(he.$$.fragment,u),ge=!0)},o(u){m(t.$$.fragment,u),m(g.$$.fragment,u),m(_),m(O.$$.fragment,u),m(Q.$$.fragment,u),m(E),m(x.$$.fragment,u),m(fe.$$.fragment,u),m(C.$$.fragment,u),m(ne.$$.fragment,u),m(se),m(re),m(he.$$.fragment,u),ge=!1},d(u){u&&(i(e),i(ce),i(oe)),A(t),xe(_e,u),A(g),xe(me,u),_&&_.d(),A(O),A(Q),E&&E.d(),A(x),A(fe),A(C),A(ne),se&&se.d(),re&&re.d(),A(he),Be=!1,Bt(we)}}}function hl(r){let e,l,t,n;return e=new Rt({props:{$$slots:{default:[al]},$$scope:{ctx:r}}}),t=new Ft({props:{class:"space-y-4",$$slots:{default:[$l]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment),l=N(),U(t.$$.fragment)},l(s){R(e.$$.fragment,s),l=P(s),R(t.$$.fragment,s)},m(s,o){z(e,s,o),M(s,l,o),z(t,s,o),n=!0},p(s,o){const a={};o[0]&2048|o[1]&131072&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const c={};o[0]&3215|o[1]&131072&&(c.$$scope={dirty:o,ctx:s}),t.$set(c)},i(s){n||(d(e.$$.fragment,s),d(t.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),m(t.$$.fragment,s),n=!1},d(s){s&&i(l),A(e,s),A(t,s)}}}function gl(r){let e,l,t=(r[11]("phones.import")||"Import")+"",n,s;return e=new sl({props:{class:"mr-2 h-4 w-4"}}),{c(){U(e.$$.fragment),l=N(),n=F(t)},l(o){R(e.$$.fragment,o),l=P(o),n=H(o,t)},m(o,a){z(e,o,a),M(o,l,a),M(o,n,a),s=!0},p(o,a){(!s||a[0]&2048)&&t!==(t=(o[11]("phones.import")||"Import")+"")&&J(n,t)},i(o){s||(d(e.$$.fragment,o),s=!0)},o(o){m(e.$$.fragment,o),s=!1},d(o){o&&(i(l),i(n)),A(e,o)}}}function vl(r){let e,l,t=(r[11]("phones.create")||"Create Phone")+"",n,s;return e=new Jt({props:{class:"mr-2 h-4 w-4"}}),{c(){U(e.$$.fragment),l=N(),n=F(t)},l(o){R(e.$$.fragment,o),l=P(o),n=H(o,t)},m(o,a){z(e,o,a),M(o,l,a),M(o,n,a),s=!0},p(o,a){(!s||a[0]&2048)&&t!==(t=(o[11]("phones.create")||"Create Phone")+"")&&J(n,t)},i(o){s||(d(e.$$.fragment,o),s=!0)},o(o){m(e.$$.fragment,o),s=!1},d(o){o&&(i(l),i(n)),A(e,o)}}}function bl(r){let e,l,t=Le(r[4]),n=[];for(let o=0;o<t.length;o+=1)n[o]=St(bt(r,t,o));const s=o=>m(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ht()},l(o){for(let a=0;a<n.length;a+=1)n[a].l(o);e=ht()},m(o,a){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(o,a);M(o,e,a),l=!0},p(o,a){if(a[0]&589840){t=Le(o[4]);let c;for(c=0;c<t.length;c+=1){const V=bt(o,t,c);n[c]?(n[c].p(V,a),d(n[c],1)):(n[c]=St(V),n[c].c(),d(n[c],1),n[c].m(e.parentNode,e))}for(Fe(),c=t.length;c<n.length;c+=1)s(c);He()}},i(o){if(!l){for(let a=0;a<t.length;a+=1)d(n[a]);l=!0}},o(o){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)m(n[a]);l=!1},d(o){o&&i(e),xe(n,o)}}}function kl(r){let e,l,t=(r[11]("common.no_results")||"No results found")+"",n;return{c(){e=h("tr"),l=h("td"),n=F(t),this.h()},l(s){e=p(s,"TR",{});var o=$(e);l=p(o,"TD",{colspan:!0,class:!0});var a=$(l);n=H(a,t),a.forEach(i),o.forEach(i),this.h()},h(){b(l,"colspan","7"),b(l,"class","p-4 text-center text-muted-foreground")},m(s,o){M(s,e,o),f(e,l),f(l,n)},p(s,o){o[0]&2048&&t!==(t=(s[11]("common.no_results")||"No results found")+"")&&J(n,t)},i:ze,o:ze,d(s){s&&i(e)}}}function wl(r){let e=r[36].phone_number+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&16&&e!==(e=t[36].phone_number+"")&&J(l,e)},d(t){t&&i(l)}}}function El(r){let e=r[36].ip_address+"",l;return{c(){l=F(e)},l(t){l=H(t,e)},m(t,n){M(t,l,n)},p(t,n){n[0]&16&&e!==(e=t[36].ip_address+"")&&J(l,e)},d(t){t&&i(l)}}}function Tl(r){let e,l;return e=new Yt({props:{class:"h-4 w-4"}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p:ze,i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function St(r){let e,l,t,n,s=Ht(r[36])+"",o,a,c,V=Ct(r[36].mac_address)+"",X,S,T,g=(r[36].model_name||r[36].model_id)+"",D,I,j,B=(r[36].vendor_name||r[36].vendor)+"",Y,le,ue,G=r[36].domain+"",O,q,k,Q,ae,W,te,x;function ke(C,L){return C[36].type==="gateway"?El:wl}let fe=ke(r),ie=fe(r);function ve(...C){return r[29](r[36],...C)}Q=new Me({props:{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive hover:bg-destructive/10",$$slots:{default:[Tl]},$$scope:{ctx:r}}}),Q.$on("click",ve);function ee(){return r[30](r[36])}return{c(){e=h("tr"),l=h("td"),ie.c(),t=N(),n=h("td"),o=F(s),a=N(),c=h("td"),X=F(V),S=N(),T=h("td"),D=F(g),I=N(),j=h("td"),Y=F(B),le=N(),ue=h("td"),O=F(G),q=N(),k=h("td"),U(Q.$$.fragment),ae=N(),this.h()},l(C){e=p(C,"TR",{class:!0});var L=$(e);l=p(L,"TD",{class:!0});var y=$(l);ie.l(y),y.forEach(i),t=P(L),n=p(L,"TD",{class:!0});var ne=$(n);o=H(ne,s),ne.forEach(i),a=P(L),c=p(L,"TD",{class:!0});var w=$(c);X=H(w,V),w.forEach(i),S=P(L),T=p(L,"TD",{class:!0});var Z=$(T);D=H(Z,g),Z.forEach(i),I=P(L),j=p(L,"TD",{class:!0});var ce=$(j);Y=H(ce,B),ce.forEach(i),le=P(L),ue=p(L,"TD",{class:!0});var oe=$(ue);O=H(oe,G),oe.forEach(i),q=P(L),k=p(L,"TD",{class:!0});var De=$(k);R(Q.$$.fragment,De),De.forEach(i),ae=P(L),L.forEach(i),this.h()},h(){b(l,"class","p-4 align-middle"),b(n,"class","p-4 align-middle"),b(c,"class","p-4 align-middle"),b(T,"class","p-4 align-middle"),b(j,"class","p-4 align-middle"),b(ue,"class","p-4 align-middle"),b(k,"class","p-2 align-middle text-right"),b(e,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted cursor-pointer")},m(C,L){M(C,e,L),f(e,l),ie.m(l,null),f(e,t),f(e,n),f(n,o),f(e,a),f(e,c),f(c,X),f(e,S),f(e,T),f(T,D),f(e,I),f(e,j),f(j,Y),f(e,le),f(e,ue),f(ue,O),f(e,q),f(e,k),z(Q,k,null),f(e,ae),W=!0,te||(x=Xe(e,"click",ee),te=!0)},p(C,L){r=C,fe===(fe=ke(r))&&ie?ie.p(r,L):(ie.d(1),ie=fe(r),ie&&(ie.c(),ie.m(l,null))),(!W||L[0]&16)&&s!==(s=Ht(r[36])+"")&&J(o,s),(!W||L[0]&16)&&V!==(V=Ct(r[36].mac_address)+"")&&J(X,V),(!W||L[0]&16)&&g!==(g=(r[36].model_name||r[36].model_id)+"")&&J(D,g),(!W||L[0]&16)&&B!==(B=(r[36].vendor_name||r[36].vendor)+"")&&J(Y,B),(!W||L[0]&16)&&G!==(G=r[36].domain+"")&&J(O,G);const y={};L[1]&131072&&(y.$$scope={dirty:L,ctx:r}),Q.$set(y)},i(C){W||(d(Q.$$.fragment,C),W=!0)},o(C){m(Q.$$.fragment,C),W=!1},d(C){C&&i(e),ie.d(),A(Q),te=!1,x()}}}function Dl(r){let e,l,t=(r[11]("common.prev")||"Previous")+"",n,s;return e=new Zt({props:{class:"h-4 w-4"}}),{c(){U(e.$$.fragment),l=N(),n=F(t)},l(o){R(e.$$.fragment,o),l=P(o),n=H(o,t)},m(o,a){z(e,o,a),M(o,l,a),M(o,n,a),s=!0},p(o,a){(!s||a[0]&2048)&&t!==(t=(o[11]("common.prev")||"Previous")+"")&&J(n,t)},i(o){s||(d(e.$$.fragment,o),s=!0)},o(o){m(e.$$.fragment,o),s=!1},d(o){o&&(i(l),i(n)),A(e,o)}}}function Il(r){let e=(r[11]("common.next")||"Next")+"",l,t,n,s;return n=new tl({props:{class:"h-4 w-4"}}),{c(){l=F(e),t=N(),U(n.$$.fragment)},l(o){l=H(o,e),t=P(o),R(n.$$.fragment,o)},m(o,a){M(o,l,a),M(o,t,a),z(n,o,a),s=!0},p(o,a){(!s||a[0]&2048)&&e!==(e=(o[11]("common.next")||"Next")+"")&&J(l,e)},i(o){s||(d(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&(i(l),i(t)),A(n,o)}}}function Pl(r){let e,l,t,n,s,o=r[11]("phone.number")+"",a,c,V,X=(r[11]("common.description")||"Description")+"",S,T,g,D=r[11]("phone.mac")+"",I,j,B,Y=(r[11]("phone.model")||"Model")+"",le,ue,G,O=r[11]("phone.vendor")+"",q,k,Q,ae=r[11]("phone.domain")+"",W,te,x,ke=(r[11]("common.actions")||"Actions")+"",fe,ie,ve,ee,C,L,y,ne,w=(r[11]("common.total")||"Total")+"",Z,ce,oe,De,he,ge,Be,we,de;const _e=[kl,bl],be=[];function me(_,E){return _[4].length===0?0:1}return ee=me(r),C=be[ee]=_e[ee](r),ge=new Me({props:{variant:"outline",size:"sm",disabled:r[6]<=1||r[7],$$slots:{default:[Dl]},$$scope:{ctx:r}}}),ge.$on("click",r[15]),we=new Me({props:{variant:"outline",size:"sm",disabled:r[6]*et>=r[5]||r[7],$$slots:{default:[Il]},$$scope:{ctx:r}}}),we.$on("click",r[14]),{c(){e=h("div"),l=h("table"),t=h("thead"),n=h("tr"),s=h("th"),a=F(o),c=N(),V=h("th"),S=F(X),T=N(),g=h("th"),I=F(D),j=N(),B=h("th"),le=F(Y),ue=N(),G=h("th"),q=F(O),k=N(),Q=h("th"),W=F(ae),te=N(),x=h("th"),fe=F(ke),ie=N(),ve=h("tbody"),C.c(),L=N(),y=h("div"),ne=h("div"),Z=F(w),ce=F(": "),oe=F(r[5]),De=N(),he=h("div"),U(ge.$$.fragment),Be=N(),U(we.$$.fragment),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=$(e);l=p(E,"TABLE",{class:!0});var Ie=$(l);t=p(Ie,"THEAD",{class:!0});var Ve=$(t);n=p(Ve,"TR",{class:!0});var pe=$(n);s=p(pe,"TH",{class:!0});var Ye=$(s);a=H(Ye,o),Ye.forEach(i),c=P(pe),V=p(pe,"TH",{class:!0});var se=$(V);S=H(se,X),se.forEach(i),T=P(pe),g=p(pe,"TH",{class:!0});var re=$(g);I=H(re,D),re.forEach(i),j=P(pe),B=p(pe,"TH",{class:!0});var u=$(B);le=H(u,Y),u.forEach(i),ue=P(pe),G=p(pe,"TH",{class:!0});var v=$(G);q=H(v,O),v.forEach(i),k=P(pe),Q=p(pe,"TH",{class:!0});var $e=$(Q);W=H($e,ae),$e.forEach(i),te=P(pe),x=p(pe,"TH",{class:!0});var Oe=$(x);fe=H(Oe,ke),Oe.forEach(i),pe.forEach(i),Ve.forEach(i),ie=P(Ie),ve=p(Ie,"TBODY",{class:!0});var qe=$(ve);C.l(qe),qe.forEach(i),Ie.forEach(i),E.forEach(i),L=P(_),y=p(_,"DIV",{class:!0});var Pe=$(y);ne=p(Pe,"DIV",{class:!0});var Ee=$(ne);Z=H(Ee,w),ce=H(Ee,": "),oe=H(Ee,r[5]),Ee.forEach(i),De=P(Pe),he=p(Pe,"DIV",{class:!0});var Te=$(he);R(ge.$$.fragment,Te),Be=P(Te),R(we.$$.fragment,Te),Te.forEach(i),Pe.forEach(i),this.h()},h(){b(s,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),b(V,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),b(g,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),b(B,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),b(G,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),b(Q,"class","h-12 px-4 text-left align-middle font-medium text-muted-foreground"),b(x,"class","h-12 px-2 text-right align-middle font-medium text-muted-foreground w-[1%] whitespace-nowrap"),b(n,"class","border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted"),b(t,"class","[&_tr]:border-b"),b(ve,"class","[&_tr:last-child]:border-0"),b(l,"class","w-full caption-bottom text-sm"),b(e,"class","relative w-full overflow-auto"),b(ne,"class","flex-1 text-sm text-muted-foreground"),b(he,"class","space-x-2"),b(y,"class","flex items-center justify-end space-x-2 py-4 px-4")},m(_,E){M(_,e,E),f(e,l),f(l,t),f(t,n),f(n,s),f(s,a),f(n,c),f(n,V),f(V,S),f(n,T),f(n,g),f(g,I),f(n,j),f(n,B),f(B,le),f(n,ue),f(n,G),f(G,q),f(n,k),f(n,Q),f(Q,W),f(n,te),f(n,x),f(x,fe),f(l,ie),f(l,ve),be[ee].m(ve,null),M(_,L,E),M(_,y,E),f(y,ne),f(ne,Z),f(ne,ce),f(ne,oe),f(y,De),f(y,he),z(ge,he,null),f(he,Be),z(we,he,null),de=!0},p(_,E){(!de||E[0]&2048)&&o!==(o=_[11]("phone.number")+"")&&J(a,o),(!de||E[0]&2048)&&X!==(X=(_[11]("common.description")||"Description")+"")&&J(S,X),(!de||E[0]&2048)&&D!==(D=_[11]("phone.mac")+"")&&J(I,D),(!de||E[0]&2048)&&Y!==(Y=(_[11]("phone.model")||"Model")+"")&&J(le,Y),(!de||E[0]&2048)&&O!==(O=_[11]("phone.vendor")+"")&&J(q,O),(!de||E[0]&2048)&&ae!==(ae=_[11]("phone.domain")+"")&&J(W,ae),(!de||E[0]&2048)&&ke!==(ke=(_[11]("common.actions")||"Actions")+"")&&J(fe,ke);let Ie=ee;ee=me(_),ee===Ie?be[ee].p(_,E):(Fe(),m(be[Ie],1,1,()=>{be[Ie]=null}),He(),C=be[ee],C?C.p(_,E):(C=be[ee]=_e[ee](_),C.c()),d(C,1),C.m(ve,null)),(!de||E[0]&2048)&&w!==(w=(_[11]("common.total")||"Total")+"")&&J(Z,w),(!de||E[0]&32)&&J(oe,_[5]);const Ve={};E[0]&192&&(Ve.disabled=_[6]<=1||_[7]),E[0]&2048|E[1]&131072&&(Ve.$$scope={dirty:E,ctx:_}),ge.$set(Ve);const pe={};E[0]&224&&(pe.disabled=_[6]*et>=_[5]||_[7]),E[0]&2048|E[1]&131072&&(pe.$$scope={dirty:E,ctx:_}),we.$set(pe)},i(_){de||(d(C),d(ge.$$.fragment,_),d(we.$$.fragment,_),de=!0)},o(_){m(C),m(ge.$$.fragment,_),m(we.$$.fragment,_),de=!1},d(_){_&&(i(e),i(L),i(y)),be[ee].d(),A(ge),A(we)}}}function Nl(r){let e,l;return e=new Ft({props:{class:"p-0",$$slots:{default:[Pl]},$$scope:{ctx:r}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const s={};n[0]&2288|n[1]&131072&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function jt(r){let e,l,t,n,s;t=new Me({props:{variant:"ghost",size:"icon",class:"absolute right-4 top-4",$$slots:{default:[Vl]},$$scope:{ctx:r}}}),t.$on("click",r[31]);let o=r[8]&&qt(r);return{c(){e=h("div"),l=h("div"),U(t.$$.fragment),n=N(),o&&o.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var c=$(e);l=p(c,"DIV",{class:!0});var V=$(l);R(t.$$.fragment,V),n=P(V),o&&o.l(V),V.forEach(i),c.forEach(i),this.h()},h(){b(l,"class","bg-background dark:bg-slate-900 p-6 rounded-lg shadow-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto border dark:border-slate-700 relative"),b(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/50")},m(a,c){M(a,e,c),f(e,l),z(t,l,null),f(l,n),o&&o.m(l,null),s=!0},p(a,c){const V={};c[1]&131072&&(V.$$scope={dirty:c,ctx:a}),t.$set(V),a[8]?o?(o.p(a,c),c[0]&256&&d(o,1)):(o=qt(a),o.c(),d(o,1),o.m(l,null)):o&&(Fe(),m(o,1,1,()=>{o=null}),He())},i(a){s||(d(t.$$.fragment,a),d(o),s=!0)},o(a){m(t.$$.fragment,a),m(o),s=!1},d(a){a&&i(e),A(t),o&&o.d()}}}function Vl(r){let e,l;return e=new ot({props:{class:"h-4 w-4"}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p:ze,i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function qt(r){let e,l;return e=new Qt({props:{mode:r[8].id?"edit":"create",phone:r[8]}}),e.$on("save",r[18]),e.$on("cancel",r[32]),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const s={};n[0]&256&&(s.mode=t[8].id?"edit":"create"),n[0]&256&&(s.phone=t[8]),e.$set(s)},i(t){l||(d(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function Ol(r){let e,l,t,n=(r[11]("menu.phones")||"Phones")+"",s,o,a,c,V,X,S=(r[11]("menu.phones")||"Phones")+"",T,g,D,I,j,B,Y,le,ue,G;a=new vt({props:{$$slots:{default:[hl]},$$scope:{ctx:r}}}),I=new Me({props:{variant:"outline",href:"/phones/import",$$slots:{default:[gl]},$$scope:{ctx:r}}}),B=new Me({props:{$$slots:{default:[vl]},$$scope:{ctx:r}}}),B.$on("click",r[17]),le=new vt({props:{$$slots:{default:[Nl]},$$scope:{ctx:r}}});let O=r[9]&&jt(r);return{c(){e=h("div"),l=h("div"),t=h("h1"),s=F(n),o=N(),U(a.$$.fragment),c=N(),V=h("div"),X=h("h1"),T=F(S),g=N(),D=h("div"),U(I.$$.fragment),j=N(),U(B.$$.fragment),Y=N(),U(le.$$.fragment),ue=N(),O&&O.c(),this.h()},l(q){e=p(q,"DIV",{class:!0});var k=$(e);l=p(k,"DIV",{class:!0});var Q=$(l);t=p(Q,"H1",{class:!0});var ae=$(t);s=H(ae,n),ae.forEach(i),Q.forEach(i),o=P(k),R(a.$$.fragment,k),c=P(k),V=p(k,"DIV",{class:!0});var W=$(V);X=p(W,"H1",{class:!0});var te=$(X);T=H(te,S),te.forEach(i),g=P(W),D=p(W,"DIV",{class:!0});var x=$(D);R(I.$$.fragment,x),j=P(x),R(B.$$.fragment,x),x.forEach(i),W.forEach(i),Y=P(k),R(le.$$.fragment,k),ue=P(k),O&&O.l(k),k.forEach(i),this.h()},h(){b(t,"class","text-3xl font-bold text-gray-900 dark:text-gray-100"),b(l,"class","flex justify-between items-center"),b(X,"class","text-3xl font-bold text-gray-900 dark:text-gray-100"),b(D,"class","flex gap-2"),b(V,"class","flex justify-between items-center"),b(e,"class","p-6 space-y-6")},m(q,k){M(q,e,k),f(e,l),f(l,t),f(t,s),f(e,o),z(a,e,null),f(e,c),f(e,V),f(V,X),f(X,T),f(V,g),f(V,D),z(I,D,null),f(D,j),z(B,D,null),f(e,Y),z(le,e,null),f(e,ue),O&&O.m(e,null),G=!0},p(q,k){(!G||k[0]&2048)&&n!==(n=(q[11]("menu.phones")||"Phones")+"")&&J(s,n);const Q={};k[0]&3215|k[1]&131072&&(Q.$$scope={dirty:k,ctx:q}),a.$set(Q),(!G||k[0]&2048)&&S!==(S=(q[11]("menu.phones")||"Phones")+"")&&J(T,S);const ae={};k[0]&2048|k[1]&131072&&(ae.$$scope={dirty:k,ctx:q}),I.$set(ae);const W={};k[0]&2048|k[1]&131072&&(W.$$scope={dirty:k,ctx:q}),B.$set(W);const te={};k[0]&2288|k[1]&131072&&(te.$$scope={dirty:k,ctx:q}),le.$set(te),q[9]?O?(O.p(q,k),k[0]&512&&d(O,1)):(O=jt(q),O.c(),d(O,1),O.m(e,null)):O&&(Fe(),m(O,1,1,()=>{O=null}),He())},i(q){G||(d(a.$$.fragment,q),d(I.$$.fragment,q),d(B.$$.fragment,q),d(le.$$.fragment,q),d(O),G=!0)},o(q){m(a.$$.fragment,q),m(I.$$.fragment,q),m(B.$$.fragment,q),m(le.$$.fragment,q),m(O),G=!1},d(q){q&&i(e),A(a),A(I),A(B),A(le),O&&O.d()}}}let et=20;function Ct(r){var l;return r?((l=r.replace(/[^a-fA-F0-9]/g,"").match(/.{1,2}/g))==null?void 0:l.join(":"))||r:""}function Ht(r){const e=[];if(r.description&&e.push(r.description),r.type==="phone"&&r.lines){const l=[];for(const t of r.lines){if(t.type!=="line")continue;let n={};if(typeof t.additional_info=="string")try{n=JSON.parse(t.additional_info)}catch{}else typeof t.additional_info=="object"&&(n=t.additional_info||{});let s=n.display_name||n.screen_name||n.user_name||n.auth_name||"";s&&(s.length>20&&(s=s.substring(0,20)+"..."),l.push(s))}l.length>0&&e.push(l.join(", "))}return e.join(": ")}function Sl(r,e,l){let t,n;Lt(r,zt,w=>l(11,n=w));let s=[],o=[],a={domain:"",vendor:"",model_id:"",mac:"",number:"",q:""},c=[],V=[],X=0,S=1,T=!1,g=null,D=!1;Mt(async()=>{await Promise.all([I(),j()]),await Y()});async function I(){try{const w=await fetch("/api/domains");if(w.ok){const Z=await w.json();l(1,s=Z.domains||[])}}catch(w){console.error("Failed to load domains",w)}}async function j(){try{const w=await fetch("/api/vendors");if(w.ok){const Z=await w.json();l(2,o=Z.vendors||[])}}catch(w){console.error("Failed to load vendors",w)}}async function B(w){try{const Z=await fetch(`/api/models?vendor=${w}`);if(Z.ok){const ce=await Z.json();l(3,c=ce.models||[])}}catch(Z){console.error("Failed to load models",Z)}}async function Y(w=1){l(7,T=!0),l(6,S=w);const Z=new URLSearchParams({page:S.toString(),limit:et.toString(),...a});for(const[ce,oe]of Object.entries(a))oe||Z.delete(ce);try{const ce=await fetch(`/api/phones?${Z.toString()}`);if(ce.ok){const oe=await ce.json();l(4,V=oe.phones||[]),l(5,X=oe.total||0)}else Ke.error("Failed to load phones")}catch(ce){Ke.error("Error loading phones: "+ce.message)}finally{l(7,T=!1)}}function le(){l(0,a={domain:"",vendor:"",model_id:"",mac:"",number:"",q:""}),Y(1)}function ue(){S*et<X&&Y(S+1)}function G(){S>1&&Y(S-1)}function O(w){console.debug("Start Phone Editor",w),l(8,g={...w}),l(9,D=!0)}function q(){l(8,g={domain:s[0]||"",vendor:"",model_id:"",mac_address:"",phone_number:"",ip_address:"",description:"",lines:[],expansion_module_model:"",type:"phone"}),l(9,D=!0)}function k(w){l(9,D=!1),Y(S)}async function Q(w){if(confirm(n("phone.confirm_delete")||"Are you sure you want to delete this phone?"))try{(await fetch(`/api/phones/${w.id}`,{method:"DELETE"})).ok?(Ke.success(n("phone.deleted")||"Phone deleted"),Y(S)):Ke.error(n("phone.delete_failed")||"Failed to delete phone")}catch(Z){Ke.error("Error deleting phone: "+Z.message)}}function ae(){a.domain=st(this),l(0,a),l(1,s)}function W(){a.vendor=st(this),l(0,a),l(1,s)}function te(){a.model_id=st(this),l(0,a),l(1,s)}const x=w=>{l(0,a.mac=At(w.currentTarget.value),a),w.currentTarget.value=a.mac},ke=()=>{l(0,a.mac="",a),Y(1)};function fe(w){r.$$.not_equal(a.number,w)&&(a.number=w,l(0,a))}function ie(w){r.$$.not_equal(a.q,w)&&(a.q=w,l(0,a))}const ve=()=>{l(0,a.q="",a),Y(1)},ee=()=>Y(1),C=(w,Z)=>{Z.stopPropagation(),Q(w)},L=w=>O(w),y=()=>l(9,D=!1),ne=()=>l(9,D=!1);return r.$$.update=()=>{r.$$.dirty[0]&1&&(a.vendor?B(a.vendor):(l(3,c=[]),l(0,a.model_id="",a))),r.$$.dirty[0]&1&&l(10,t=Object.values(a).some(w=>w!==""))},[a,s,o,c,V,X,S,T,g,D,t,n,Y,le,ue,G,O,q,k,Q,ae,W,te,x,ke,fe,ie,ve,ee,C,L,y,ne]}class Jl extends lt{constructor(e){super(),nt(this,e,Sl,Ol,tt,{},null,[-1,-1])}}export{Jl as component};
