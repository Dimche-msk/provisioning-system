import{s as Ht,l as gt,m as Lt,o as Bt,u as Ut,p as Qt,q as Wt,d as c,i as v,F as Ze,k as Un,a0 as Qn,H as Wn,D as Fe,a as ue,E as ze,C as L,b as m,c as P,e as K,f as M,g as D,h as S,t as A,j as V,O as Tt,n as Nt,r as Gn,a1 as an,x as _t,Q as Vt,P as ot,K as At,L as it,M as dt,w as Ae}from"./CUkxpT2c.js";import{S as Ft,i as zt,d as k,t as g,a as d,m as w,c as E,b as I,g as nt,f as lt,e as ye}from"./DqPwdKnZ.js";import{I as Gt,t as Dt,e as Ye}from"./BtYH2GXc.js";import{g as Rt,a as Xt,$ as Rn,B as at,f as Zn}from"./wjMZg2eG.js";import{I as Je}from"./Clvdv4ji.js";import{L as Oe}from"./CE9t1zSW.js";import{C as xn,a as el}from"./YhqYbtJb.js";import{C as tl,a as nl,b as ll}from"./HaCMjAII.js";import{T as sl,a as ol,b as al,c as Yt,d as Kt,e as Ot}from"./DQYf1rRt.js";import{S as Xn}from"./DUk6q9eb.js";import{X as Zt}from"./BqBe62oF.js";import{C as rl}from"./d27t083e.js";import{T as il}from"./D29mSRJX.js";import{S as ul}from"./BGRfd66a.js";function fl(l){let e;const t=l[2].default,n=Bt(t,l,l[3],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&8)&&Ut(n,t,s,s[3],e?Wt(t,s[3],o,null):Qt(s[3]),null)},i(s){e||(d(n,s),e=!0)},o(s){g(n,s),e=!1},d(s){n&&n.d(s)}}}function _l(l){let e,t;const n=[{name:"pencil"},l[1],{iconNode:l[0]}];let s={$$slots:{default:[fl]},$$scope:{ctx:l}};for(let o=0;o<n.length;o+=1)s=gt(s,n[o]);return e=new Gt({props:s}),{c(){I(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,a){w(e,o,a),t=!0},p(o,[a]){const i=a&3?Rt(n,[n[0],a&2&&Xt(o[1]),a&1&&{iconNode:o[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){k(e,o)}}}function cl(l,e,t){let{$$slots:n={},$$scope:s}=e;const o=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];return l.$$set=a=>{t(1,e=gt(gt({},e),Lt(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Lt(e),[o,e,n,s]}class pl extends Ft{constructor(e){super(),zt(this,e,cl,_l,Ht,{})}}function ml(l){let e;const t=l[2].default,n=Bt(t,l,l[3],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&8)&&Ut(n,t,s,s[3],e?Wt(t,s[3],o,null):Qt(s[3]),null)},i(s){e||(d(n,s),e=!0)},o(s){g(n,s),e=!1},d(s){n&&n.d(s)}}}function $l(l){let e,t;const n=[{name:"plus"},l[1],{iconNode:l[0]}];let s={$$slots:{default:[ml]},$$scope:{ctx:l}};for(let o=0;o<n.length;o+=1)s=gt(s,n[o]);return e=new Gt({props:s}),{c(){I(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,a){w(e,o,a),t=!0},p(o,[a]){const i=a&3?Rt(n,[n[0],a&2&&Xt(o[1]),a&1&&{iconNode:o[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){k(e,o)}}}function dl(l,e,t){let{$$slots:n={},$$scope:s}=e;const o=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return l.$$set=a=>{t(1,e=gt(gt({},e),Lt(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Lt(e),[o,e,n,s]}class gl extends Ft{constructor(e){super(),zt(this,e,dl,$l,Ht,{})}}function hl(l){let e;const t=l[2].default,n=Bt(t,l,l[3],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,o){n&&n.m(s,o),e=!0},p(s,o){n&&n.p&&(!e||o&8)&&Ut(n,t,s,s[3],e?Wt(t,s[3],o,null):Qt(s[3]),null)},i(s){e||(d(n,s),e=!0)},o(s){g(n,s),e=!1},d(s){n&&n.d(s)}}}function vl(l){let e,t;const n=[{name:"target"},l[1],{iconNode:l[0]}];let s={$$slots:{default:[hl]},$$scope:{ctx:l}};for(let o=0;o<n.length;o+=1)s=gt(s,n[o]);return e=new Gt({props:s}),{c(){I(e.$$.fragment)},l(o){E(e.$$.fragment,o)},m(o,a){w(e,o,a),t=!0},p(o,[a]){const i=a&3?Rt(n,[n[0],a&2&&Xt(o[1]),a&1&&{iconNode:o[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i(o){t||(d(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){k(e,o)}}}function bl(l,e,t){let{$$slots:n={},$$scope:s}=e;const o=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"6"}],["circle",{cx:"12",cy:"12",r:"2"}]];return l.$$set=a=>{t(1,e=gt(gt({},e),Lt(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Lt(e),[o,e,n,s]}class kl extends Ft{constructor(e){super(),zt(this,e,bl,vl,Ht,{})}}function rn(l,e,t){const n=l.slice();return n[74]=e[t],n}function un(l,e,t){const n=l.slice();return n[77]=e[t],n[78]=e,n[79]=t,n}function fn(l,e,t){const n=l.slice();return n[74]=e[t],n}function _n(l,e,t){const n=l.slice();return n[82]=e[t],n}function cn(l,e,t){const n=l.slice();return n[85]=e[t],n}function pn(l){let e,t,n,s,o,a=(l[22]("lines.title")||"Line Configuration")+"",i,_,r=l[22]("phone.number")+"",f,u,p=l[4].phone_number+"",b,O,j,ee=(l[22]("lines.description")||"Manage additional lines for this phone.")+"",W,me,B=l[0].length+"",oe,U,te=(l[2]||"∞")+"",ae,ne,R,H,Q,z,N,G,Ie,Z,_e,Be,re,we,Me,q,le,$e,de,ge,Ce,ce,De,xe,Te,Ve,fe,Qe,pe;H=new at({props:{variant:"ghost",size:"icon",$$slots:{default:[wl]},$$scope:{ctx:l}}}),H.$on("click",l[29]);let be=l[13]&&mn(l);_e=new Xn({props:{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}});function rt(y){l[42](y)}let Re={placeholder:l[22]("common.search")||"Search...",class:"pl-8 pr-8"};l[8]!==void 0&&(Re.value=l[8]),re=new Je({props:Re}),Fe.push(()=>ye(re,"value",rt));let C=l[21]&&gn(l);$e=new at({props:{disabled:!!l[10],$$slots:{default:[El]},$$scope:{ctx:l}}}),$e.$on("click",l[25]);let J=l[10]&&hn(l);ce=new sl({props:{$$slots:{default:[gs]},$$scope:{ctx:l}}});let ie=l[20]>1&&Pn(l);return Ve=new at({props:{variant:"outline",$$slots:{default:[bs]},$$scope:{ctx:l}}}),Ve.$on("click",l[29]),Qe=new at({props:{$$slots:{default:[ks]},$$scope:{ctx:l}}}),Qe.$on("click",l[30]),{c(){e=S("div"),t=S("div"),n=S("div"),s=S("div"),o=S("h2"),i=A(a),_=A(". "),f=A(r),u=A(": "),b=A(p),O=V(),j=S("p"),W=A(ee),me=A(`
                        (`),oe=A(B),U=A(" / "),ae=A(te),ne=A(")"),R=V(),I(H.$$.fragment),Q=V(),z=S("div"),be&&be.c(),N=V(),G=S("div"),Ie=S("div"),Z=S("div"),I(_e.$$.fragment),Be=V(),I(re.$$.fragment),Me=V(),C&&C.c(),le=V(),I($e.$$.fragment),de=V(),J&&J.c(),ge=V(),Ce=S("div"),I(ce.$$.fragment),De=V(),ie&&ie.c(),xe=V(),Te=S("div"),I(Ve.$$.fragment),fe=V(),I(Qe.$$.fragment),this.h()},l(y){e=P(y,"DIV",{class:!0});var X=K(e);t=P(X,"DIV",{class:!0});var he=K(t);n=P(he,"DIV",{class:!0});var ke=K(n);s=P(ke,"DIV",{});var qe=K(s);o=P(qe,"H2",{class:!0});var ve=K(o);i=M(ve,a),_=M(ve,". "),f=M(ve,r),u=M(ve,": "),b=M(ve,p),ve.forEach(c),O=D(qe),j=P(qe,"P",{class:!0});var Le=K(j);W=M(Le,ee),me=M(Le,`
                        (`),oe=M(Le,B),U=M(Le," / "),ae=M(Le,te),ne=M(Le,")"),Le.forEach(c),qe.forEach(c),R=D(ke),E(H.$$.fragment,ke),ke.forEach(c),Q=D(he),z=P(he,"DIV",{class:!0});var Ke=K(z);be&&be.l(Ke),N=D(Ke),G=P(Ke,"DIV",{class:!0});var T=K(G);Ie=P(T,"DIV",{class:!0});var Y=K(Ie);Z=P(Y,"DIV",{class:!0});var He=K(Z);E(_e.$$.fragment,He),Be=D(He),E(re.$$.fragment,He),Me=D(He),C&&C.l(He),He.forEach(c),le=D(Y),E($e.$$.fragment,Y),Y.forEach(c),de=D(T),J&&J.l(T),ge=D(T),Ce=P(T,"DIV",{class:!0});var Ee=K(Ce);E(ce.$$.fragment,Ee),Ee.forEach(c),De=D(T),ie&&ie.l(T),T.forEach(c),Ke.forEach(c),xe=D(he),Te=P(he,"DIV",{class:!0});var Ue=K(Te);E(Ve.$$.fragment,Ue),fe=D(Ue),E(Qe.$$.fragment,Ue),Ue.forEach(c),he.forEach(c),X.forEach(c),this.h()},h(){L(o,"class","text-lg font-semibold"),L(j,"class","text-sm text-muted-foreground"),L(n,"class","flex justify-between items-center mb-4 shrink-0"),L(Z,"class",q="relative flex-1 group transition-all duration-300 "+(l[21]?"ring-2 ring-blue-500/50 rounded-md":"")),L(Ie,"class","flex justify-between items-center gap-4"),L(Ce,"class","border rounded-md overflow-hidden"),L(G,"class","flex-1 overflow-y-auto pr-2 space-y-4"),L(z,"class","flex gap-6 flex-1 min-h-0"),L(Te,"class","flex justify-end gap-2 mt-4 shrink-0"),L(t,"class","bg-background dark:bg-slate-900 p-6 rounded-lg shadow-lg max-w-7xl w-full max-h-[90vh] flex flex-col border dark:border-slate-700"),L(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/50")},m(y,X){v(y,e,X),m(e,t),m(t,n),m(n,s),m(s,o),m(o,i),m(o,_),m(o,f),m(o,u),m(o,b),m(s,O),m(s,j),m(j,W),m(j,me),m(j,oe),m(j,U),m(j,ae),m(j,ne),m(n,R),w(H,n,null),m(t,Q),m(t,z),be&&be.m(z,null),m(z,N),m(z,G),m(G,Ie),m(Ie,Z),w(_e,Z,null),m(Z,Be),w(re,Z,null),m(Z,Me),C&&C.m(Z,null),m(Ie,le),w($e,Ie,null),m(G,de),J&&J.m(G,null),m(G,ge),m(G,Ce),w(ce,Ce,null),m(G,De),ie&&ie.m(G,null),m(t,xe),m(t,Te),w(Ve,Te,null),m(Te,fe),w(Qe,Te,null),pe=!0},p(y,X){(!pe||X[0]&4194304)&&a!==(a=(y[22]("lines.title")||"Line Configuration")+"")&&ue(i,a),(!pe||X[0]&4194304)&&r!==(r=y[22]("phone.number")+"")&&ue(f,r),(!pe||X[0]&16)&&p!==(p=y[4].phone_number+"")&&ue(b,p),(!pe||X[0]&4194304)&&ee!==(ee=(y[22]("lines.description")||"Manage additional lines for this phone.")+"")&&ue(W,ee),(!pe||X[0]&1)&&B!==(B=y[0].length+"")&&ue(oe,B),(!pe||X[0]&4)&&te!==(te=(y[2]||"∞")+"")&&ue(ae,te);const he={};X[2]&67108864&&(he.$$scope={dirty:X,ctx:y}),H.$set(he),y[13]?be?(be.p(y,X),X[0]&8192&&d(be,1)):(be=mn(y),be.c(),d(be,1),be.m(z,N)):be&&(nt(),g(be,1,1,()=>{be=null}),lt());const ke={};X[0]&4194304&&(ke.placeholder=y[22]("common.search")||"Search..."),!we&&X[0]&256&&(we=!0,ke.value=y[8],ze(()=>we=!1)),re.$set(ke),y[21]?C?(C.p(y,X),X[0]&2097152&&d(C,1)):(C=gn(y),C.c(),d(C,1),C.m(Z,null)):C&&(nt(),g(C,1,1,()=>{C=null}),lt()),(!pe||X[0]&2097152&&q!==(q="relative flex-1 group transition-all duration-300 "+(y[21]?"ring-2 ring-blue-500/50 rounded-md":"")))&&L(Z,"class",q);const qe={};X[0]&1024&&(qe.disabled=!!y[10]),X[0]&4194304|X[2]&67108864&&(qe.$$scope={dirty:X,ctx:y}),$e.$set(qe),y[10]?J?(J.p(y,X),X[0]&1024&&d(J,1)):(J=hn(y),J.c(),d(J,1),J.m(G,ge)):J&&(nt(),g(J,1,1,()=>{J=null}),lt());const ve={};X[0]&6817184|X[2]&67108864&&(ve.$$scope={dirty:X,ctx:y}),ce.$set(ve),y[20]>1?ie?(ie.p(y,X),X[0]&1048576&&d(ie,1)):(ie=Pn(y),ie.c(),d(ie,1),ie.m(G,null)):ie&&(nt(),g(ie,1,1,()=>{ie=null}),lt());const Le={};X[0]&4194304|X[2]&67108864&&(Le.$$scope={dirty:X,ctx:y}),Ve.$set(Le);const Ke={};X[2]&67108864&&(Ke.$$scope={dirty:X,ctx:y}),Qe.$set(Ke)},i(y){pe||(d(H.$$.fragment,y),d(be),d(_e.$$.fragment,y),d(re.$$.fragment,y),d(C),d($e.$$.fragment,y),d(J),d(ce.$$.fragment,y),d(ie),d(Ve.$$.fragment,y),d(Qe.$$.fragment,y),pe=!0)},o(y){g(H.$$.fragment,y),g(be),g(_e.$$.fragment,y),g(re.$$.fragment,y),g(C),g($e.$$.fragment,y),g(J),g(ce.$$.fragment,y),g(ie),g(Ve.$$.fragment,y),g(Qe.$$.fragment,y),pe=!1},d(y){y&&c(e),k(H),be&&be.d(),k(_e),k(re),C&&C.d(),k($e),J&&J.d(),k(ce),ie&&ie.d(),k(Ve),k(Qe)}}}function wl(l){let e,t;return e=new Zt({props:{class:"h-4 w-4"}}),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p:Nt,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function mn(l){let e,t,n,s,o,a,i,_,r,f=l[18]&&$n(l),u=l[16]&&dn();return{c(){e=S("div"),t=S("div"),n=S("img"),o=V(),f&&f.c(),a=V(),u&&u.c(),this.h()},l(p){e=P(p,"DIV",{class:!0});var b=K(e);t=P(b,"DIV",{class:!0});var O=K(t);n=P(O,"IMG",{src:!0,alt:!0,class:!0}),o=D(O),f&&f.l(O),O.forEach(c),a=D(b),u&&u.l(b),b.forEach(c),this.h()},h(){an(n.src,s=l[13])||L(n,"src",s),L(n,"alt","Phone"),L(n,"class","max-w-full max-h-full object-contain"),(l[11]===void 0||l[12]===void 0)&&Vt(()=>l[40].call(n)),L(t,"class","relative inline-block"),L(e,"class","w-1/3 bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4 border dark:border-slate-700 relative overflow-hidden")},m(p,b){v(p,e,b),m(e,t),m(t,n),m(t,o),f&&f.m(t,null),m(e,a),u&&u.m(e,null),i=!0,_||(r=[_t(n,"load",l[40]),_t(n,"error",l[41])],_=!0)},p(p,b){(!i||b[0]&8192&&!an(n.src,s=p[13]))&&L(n,"src",s),p[18]?f?(f.p(p,b),b[0]&262144&&d(f,1)):(f=$n(p),f.c(),d(f,1),f.m(t,null)):f&&(nt(),g(f,1,1,()=>{f=null}),lt()),p[16]?u||(u=dn(),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(p){i||(d(f),i=!0)},o(p){g(f),i=!1},d(p){p&&c(e),f&&f.d(),u&&u.d(),_=!1,Gn(r)}}}function $n(l){let e,t,n,s,o,a;return o=new kl({props:{class:"h-8 w-8 text-red-600 drop-shadow-[0_0_5px_rgba(255,255,255,0.8)]"}}),{c(){e=S("div"),t=S("div"),n=S("div"),s=V(),I(o.$$.fragment),this.h()},l(i){e=P(i,"DIV",{class:!0,style:!0});var _=K(e);t=P(_,"DIV",{class:!0});var r=K(t);n=P(r,"DIV",{class:!0}),K(n).forEach(c),s=D(r),E(o.$$.fragment,r),r.forEach(c),_.forEach(c),this.h()},h(){L(n,"class","absolute inset-0 rounded-full border-4 border-red-500 animate-ping opacity-75"),L(t,"class","relative"),L(e,"class","absolute pointer-events-none flex items-center justify-center"),At(e,"left",l[18].left+"%"),At(e,"top",l[18].top+"%"),At(e,"transform","translate(-50%, -50%)")},m(i,_){v(i,e,_),m(e,t),m(t,n),m(t,s),w(o,t,null),a=!0},p(i,_){(!a||_[0]&262144)&&At(e,"left",i[18].left+"%"),(!a||_[0]&262144)&&At(e,"top",i[18].top+"%")},i(i){a||(d(o.$$.fragment,i),a=!0)},o(i){g(o.$$.fragment,i),a=!1},d(i){i&&c(e),k(o)}}}function dn(l){let e,t='<span class="text-sm text-muted-foreground">Image not found</span>';return{c(){e=S("div"),e.innerHTML=t,this.h()},l(n){e=P(n,"DIV",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1ryl1u5"&&(e.innerHTML=t),this.h()},h(){L(e,"class","absolute inset-0 flex items-center justify-center bg-muted/50")},m(n,s){v(n,e,s)},d(n){n&&c(e)}}}function gn(l){let e,t,n,s,o;return t=new Zt({props:{class:"h-4 w-4"}}),{c(){e=S("button"),I(t.$$.fragment),this.h()},l(a){e=P(a,"BUTTON",{class:!0});var i=K(e);E(t.$$.fragment,i),i.forEach(c),this.h()},h(){L(e,"class","absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors")},m(a,i){v(a,e,i),w(t,e,null),n=!0,s||(o=_t(e,"click",l[43]),s=!0)},p:Nt,i(a){n||(d(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&c(e),k(t),s=!1,o()}}}function El(l){let e,t,n=(l[22]("common.add")||"Add Line")+"",s,o;return e=new gl({props:{class:"mr-2 h-4 w-4"}}),{c(){I(e.$$.fragment),t=V(),s=A(n)},l(a){E(e.$$.fragment,a),t=D(a),s=M(a,n)},m(a,i){w(e,a,i),v(a,t,i),v(a,s,i),o=!0},p(a,i){(!o||i[0]&4194304)&&n!==(n=(a[22]("common.add")||"Add Line")+"")&&ue(s,n)},i(a){o||(d(e.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),o=!1},d(a){a&&(c(t),c(s)),k(e,a)}}}function hn(l){let e,t,n=(l[15]?l[22]("lines.edit_item")||"Edit Item":l[22]("lines.new_item")||"New Item")+"",s,o,a,i,_,r,f,u,p,b,O,j,ee,W,me,B,oe,U,te,ae,ne,R,H,Q,z,N,G,Ie,Z,_e,Be,re,we,Me,q,le,$e,de;_=new Oe({props:{$$slots:{default:[Il]},$$scope:{ctx:l}}});function ge(C,J){var ie;return(ie=C[5])!=null&&ie.key_types&&C[5].key_types.length>0?Dl:Cl}let Ce=ge(l),ce=Ce(l);b=new Oe({props:{$$slots:{default:[Vl]},$$scope:{ctx:l}}});function De(C){l[45](C)}let xe={type:"number"};l[10].account_number!==void 0&&(xe.value=l[10].account_number),j=new Je({props:xe}),Fe.push(()=>ye(j,"value",De)),B=new Oe({props:{$$slots:{default:[Nl]},$$scope:{ctx:l}}});function Te(C){l[46](C)}let Ve={type:"number",min:"1"};l[10].key_number!==void 0&&(Ve.value=l[10].key_number),U=new Je({props:Ve}),Fe.push(()=>ye(U,"value",Te));let fe=l[4].expansion_modules_count>0&&kn(l);const Qe=[Ol,Sl],pe=[];function be(C,J){return C[10].type==="Line"?0:1}H=be(l),Q=pe[H]=Qe[H](l),G=new Oe({props:{$$slots:{default:[Rl]},$$scope:{ctx:l}}});function rt(C){l[63](C)}let Re={};return l[14].description!==void 0&&(Re.value=l[14].description),Z=new Je({props:Re}),Fe.push(()=>ye(Z,"value",rt)),we=new at({props:{variant:"outline",size:"sm",$$slots:{default:[Xl]},$$scope:{ctx:l}}}),we.$on("click",l[28]),q=new at({props:{size:"sm",$$slots:{default:[Yl]},$$scope:{ctx:l}}}),q.$on("click",l[26]),{c(){e=S("div"),t=S("h3"),s=A(n),o=V(),a=S("div"),i=S("div"),I(_.$$.fragment),r=V(),f=S("select"),ce.c(),u=V(),p=S("div"),I(b.$$.fragment),O=V(),I(j.$$.fragment),W=V(),me=S("div"),I(B.$$.fragment),oe=V(),I(U.$$.fragment),ae=V(),fe&&fe.c(),R=V(),Q.c(),z=V(),N=S("div"),I(G.$$.fragment),Ie=V(),I(Z.$$.fragment),Be=V(),re=S("div"),I(we.$$.fragment),Me=V(),I(q.$$.fragment),this.h()},l(C){e=P(C,"DIV",{class:!0});var J=K(e);t=P(J,"H3",{class:!0});var ie=K(t);s=M(ie,n),ie.forEach(c),o=D(J),a=P(J,"DIV",{class:!0});var y=K(a);i=P(y,"DIV",{class:!0});var X=K(i);E(_.$$.fragment,X),r=D(X),f=P(X,"SELECT",{class:!0});var he=K(f);ce.l(he),he.forEach(c),X.forEach(c),u=D(y),p=P(y,"DIV",{class:!0});var ke=K(p);E(b.$$.fragment,ke),O=D(ke),E(j.$$.fragment,ke),ke.forEach(c),W=D(y),me=P(y,"DIV",{class:!0});var qe=K(me);E(B.$$.fragment,qe),oe=D(qe),E(U.$$.fragment,qe),qe.forEach(c),ae=D(y),fe&&fe.l(y),y.forEach(c),R=D(J),Q.l(J),z=D(J),N=P(J,"DIV",{class:!0});var ve=K(N);E(G.$$.fragment,ve),Ie=D(ve),E(Z.$$.fragment,ve),ve.forEach(c),Be=D(J),re=P(J,"DIV",{class:!0});var Le=K(re);E(we.$$.fragment,Le),Me=D(Le),E(q.$$.fragment,Le),Le.forEach(c),J.forEach(c),this.h()},h(){L(t,"class","font-semibold text-lg border-b pb-2 mb-4"),L(f,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"),l[10].type===void 0&&Vt(()=>l[44].call(f)),L(i,"class","space-y-2"),L(p,"class","space-y-2"),L(me,"class","space-y-2"),L(a,"class",ne="grid "+(l[4].expansion_modules_count>0?"grid-cols-4":"grid-cols-3")+" gap-4"),L(N,"class","space-y-2"),L(re,"class","flex justify-end gap-2"),L(e,"class","border-2 rounded-lg p-6 bg-slate-50 dark:bg-slate-800/50 border-primary shadow-2xl ring-4 ring-primary/10 space-y-4")},m(C,J){v(C,e,J),m(e,t),m(t,s),m(e,o),m(e,a),m(a,i),w(_,i,null),m(i,r),m(i,f),ce.m(f,null),ot(f,l[10].type,!0),m(a,u),m(a,p),w(b,p,null),m(p,O),w(j,p,null),m(a,W),m(a,me),w(B,me,null),m(me,oe),w(U,me,null),m(a,ae),fe&&fe.m(a,null),m(e,R),pe[H].m(e,null),m(e,z),m(e,N),w(G,N,null),m(N,Ie),w(Z,N,null),m(e,Be),m(e,re),w(we,re,null),m(re,Me),w(q,re,null),le=!0,$e||(de=_t(f,"change",l[44]),$e=!0)},p(C,J){(!le||J[0]&4227072)&&n!==(n=(C[15]?C[22]("lines.edit_item")||"Edit Item":C[22]("lines.new_item")||"New Item")+"")&&ue(s,n);const ie={};J[2]&67108864&&(ie.$$scope={dirty:J,ctx:C}),_.$set(ie),Ce===(Ce=ge(C))&&ce?ce.p(C,J):(ce.d(1),ce=Ce(C),ce&&(ce.c(),ce.m(f,null))),J[0]&1056&&ot(f,C[10].type);const y={};J[2]&67108864&&(y.$$scope={dirty:J,ctx:C}),b.$set(y);const X={};!ee&&J[0]&1024&&(ee=!0,X.value=C[10].account_number,ze(()=>ee=!1)),j.$set(X);const he={};J[2]&67108864&&(he.$$scope={dirty:J,ctx:C}),B.$set(he);const ke={};!te&&J[0]&1024&&(te=!0,ke.value=C[10].key_number,ze(()=>te=!1)),U.$set(ke),C[4].expansion_modules_count>0?fe?(fe.p(C,J),J[0]&16&&d(fe,1)):(fe=kn(C),fe.c(),d(fe,1),fe.m(a,null)):fe&&(nt(),g(fe,1,1,()=>{fe=null}),lt()),(!le||J[0]&16&&ne!==(ne="grid "+(C[4].expansion_modules_count>0?"grid-cols-4":"grid-cols-3")+" gap-4"))&&L(a,"class",ne);let qe=H;H=be(C),H===qe?pe[H].p(C,J):(nt(),g(pe[qe],1,1,()=>{pe[qe]=null}),lt(),Q=pe[H],Q?Q.p(C,J):(Q=pe[H]=Qe[H](C),Q.c()),d(Q,1),Q.m(e,z));const ve={};J[2]&67108864&&(ve.$$scope={dirty:J,ctx:C}),G.$set(ve);const Le={};!_e&&J[0]&16384&&(_e=!0,Le.value=C[14].description,ze(()=>_e=!1)),Z.$set(Le);const Ke={};J[0]&4194304|J[2]&67108864&&(Ke.$$scope={dirty:J,ctx:C}),we.$set(Ke);const T={};J[2]&67108864&&(T.$$scope={dirty:J,ctx:C}),q.$set(T)},i(C){le||(d(_.$$.fragment,C),d(b.$$.fragment,C),d(j.$$.fragment,C),d(B.$$.fragment,C),d(U.$$.fragment,C),d(fe),d(Q),d(G.$$.fragment,C),d(Z.$$.fragment,C),d(we.$$.fragment,C),d(q.$$.fragment,C),le=!0)},o(C){g(_.$$.fragment,C),g(b.$$.fragment,C),g(j.$$.fragment,C),g(B.$$.fragment,C),g(U.$$.fragment,C),g(fe),g(Q),g(G.$$.fragment,C),g(Z.$$.fragment,C),g(we.$$.fragment,C),g(q.$$.fragment,C),le=!1},d(C){C&&c(e),k(_),ce.d(),k(b),k(j),k(B),k(U),fe&&fe.d(),pe[H].d(),k(G),k(Z),k(we),k(q),$e=!1,de()}}}function Il(l){let e;return{c(){e=A("Тип")},l(t){e=M(t,"Тип")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Cl(l){let e,t="Линия",n,s="Свободно",o,a="Верхняя клавиша",i,_="Программная клавиша",r,f="Нижняя клавиша",u,p=l[1]>0&&vn();return{c(){e=S("option"),e.textContent=t,n=S("option"),n.textContent=s,o=S("option"),o.textContent=a,i=S("option"),i.textContent=_,r=S("option"),r.textContent=f,p&&p.c(),u=Ze(),this.h()},l(b){e=P(b,"OPTION",{"data-svelte-h":!0}),it(e)!=="svelte-f3j3u1"&&(e.textContent=t),n=P(b,"OPTION",{"data-svelte-h":!0}),it(n)!=="svelte-jppu2r"&&(n.textContent=s),o=P(b,"OPTION",{"data-svelte-h":!0}),it(o)!=="svelte-fc8buy"&&(o.textContent=a),i=P(b,"OPTION",{"data-svelte-h":!0}),it(i)!=="svelte-td3t14"&&(i.textContent=_),r=P(b,"OPTION",{"data-svelte-h":!0}),it(r)!=="svelte-1m1smu1"&&(r.textContent=f),p&&p.l(b),u=Ze(),this.h()},h(){e.__value="Line",Ae(e,e.__value),n.__value="Free",Ae(n,n.__value),o.__value="topsoftkey",Ae(o,o.__value),i.__value="softkey",Ae(i,i.__value),r.__value="bottomkey",Ae(r,r.__value)},m(b,O){v(b,e,O),v(b,n,O),v(b,o,O),v(b,i,O),v(b,r,O),p&&p.m(b,O),v(b,u,O)},p(b,O){b[1]>0?p||(p=vn(),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null)},d(b){b&&(c(e),c(n),c(o),c(i),c(r),c(u)),p&&p.d(b)}}}function Dl(l){let e,t=Ye(l[5].key_types),n=[];for(let s=0;s<t.length;s+=1)n[s]=bn(cn(l,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=Ze()},l(s){for(let o=0;o<n.length;o+=1)n[o].l(s);e=Ze()},m(s,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,o);v(s,e,o)},p(s,o){if(o[0]&32){t=Ye(s[5].key_types);let a;for(a=0;a<t.length;a+=1){const i=cn(s,t,a);n[a]?n[a].p(i,o):(n[a]=bn(i),n[a].c(),n[a].m(e.parentNode,e))}for(;a<n.length;a+=1)n[a].d(1);n.length=t.length}},d(s){s&&c(e),dt(n,s)}}}function vn(l){let e,t="Клавиша корпуса";return{c(){e=S("option"),e.textContent=t,this.h()},l(n){e=P(n,"OPTION",{"data-svelte-h":!0}),it(e)!=="svelte-jau8ff"&&(e.textContent=t),this.h()},h(){e.__value="hard_key",Ae(e,e.__value)},m(n,s){v(n,e,s)},d(n){n&&c(e)}}}function bn(l){let e,t=(l[85].verbose||l[85].id)+"",n,s;return{c(){e=S("option"),n=A(t),this.h()},l(o){e=P(o,"OPTION",{});var a=K(e);n=M(a,t),a.forEach(c),this.h()},h(){e.__value=s=l[85].id,Ae(e,e.__value)},m(o,a){v(o,e,a),m(e,n)},p(o,a){a[0]&32&&t!==(t=(o[85].verbose||o[85].id)+"")&&ue(n,t),a[0]&32&&s!==(s=o[85].id)&&(e.__value=s,Ae(e,e.__value))},d(o){o&&c(e)}}}function Vl(l){let e;return{c(){e=A("Аккаунт #")},l(t){e=M(t,"Аккаунт #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Nl(l){let e;return{c(){e=A("Кнопка #")},l(t){e=M(t,"Кнопка #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function kn(l){let e,t,n,s,o,a;t=new Oe({props:{$$slots:{default:[Pl]},$$scope:{ctx:l}}});function i(r){l[47](r)}let _={type:"number",min:"0",max:l[4].expansion_modules_count||0};return l[10].panel_number!==void 0&&(_.value=l[10].panel_number),s=new Je({props:_}),Fe.push(()=>ye(s,"value",i)),{c(){e=S("div"),I(t.$$.fragment),n=V(),I(s.$$.fragment),this.h()},l(r){e=P(r,"DIV",{class:!0});var f=K(e);E(t.$$.fragment,f),n=D(f),E(s.$$.fragment,f),f.forEach(c),this.h()},h(){L(e,"class","space-y-2")},m(r,f){v(r,e,f),w(t,e,null),m(e,n),w(s,e,null),a=!0},p(r,f){const u={};f[2]&67108864&&(u.$$scope={dirty:f,ctx:r}),t.$set(u);const p={};f[0]&16&&(p.max=r[4].expansion_modules_count||0),!o&&f[0]&1024&&(o=!0,p.value=r[10].panel_number,ze(()=>o=!1)),s.$set(p)},i(r){a||(d(t.$$.fragment,r),d(s.$$.fragment,r),a=!0)},o(r){g(t.$$.fragment,r),g(s.$$.fragment,r),a=!1},d(r){r&&c(e),k(t),k(s)}}}function Pl(l){let e;return{c(){e=A("Панель #")},l(t){e=M(t,"Панель #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Sl(l){let e,t,n,s,o,a,i="Другое",_,r,f,u,p,b;n=new Oe({props:{$$slots:{default:[Tl]},$$scope:{ctx:l}}});let O=Ye(l[17]),j=[];for(let B=0;B<O.length;B+=1)j[B]=wn(_n(l,O,B));const ee=[ql,Ll],W=[];function me(B,oe){return B[14].type&&B[14].type!=="custom"?0:B[14].type==="custom"?1:-1}return~(r=me(l))&&(f=W[r]=ee[r](l)),{c(){e=S("div"),t=S("div"),I(n.$$.fragment),s=V(),o=S("select");for(let B=0;B<j.length;B+=1)j[B].c();a=S("option"),a.textContent=i,_=V(),f&&f.c(),this.h()},l(B){e=P(B,"DIV",{class:!0});var oe=K(e);t=P(oe,"DIV",{class:!0});var U=K(t);E(n.$$.fragment,U),s=D(U),o=P(U,"SELECT",{class:!0});var te=K(o);for(let ae=0;ae<j.length;ae+=1)j[ae].l(te);a=P(te,"OPTION",{"data-svelte-h":!0}),it(a)!=="svelte-1o3oyas"&&(a.textContent=i),te.forEach(c),U.forEach(c),_=D(oe),f&&f.l(oe),oe.forEach(c),this.h()},h(){a.__value="custom",Ae(a,a.__value),L(o,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"),l[14].type===void 0&&Vt(()=>l[56].call(o)),L(t,"class","space-y-2"),L(e,"class","col-span-3 space-y-4")},m(B,oe){v(B,e,oe),m(e,t),w(n,t,null),m(t,s),m(t,o);for(let U=0;U<j.length;U+=1)j[U]&&j[U].m(o,null);m(o,a),ot(o,l[14].type,!0),m(e,_),~r&&W[r].m(e,null),u=!0,p||(b=_t(o,"change",l[56]),p=!0)},p(B,oe){const U={};if(oe[2]&67108864&&(U.$$scope={dirty:oe,ctx:B}),n.$set(U),oe[0]&131072){O=Ye(B[17]);let ae;for(ae=0;ae<O.length;ae+=1){const ne=_n(B,O,ae);j[ae]?j[ae].p(ne,oe):(j[ae]=wn(ne),j[ae].c(),j[ae].m(o,a))}for(;ae<j.length;ae+=1)j[ae].d(1);j.length=O.length}oe[0]&147456&&ot(o,B[14].type);let te=r;r=me(B),r===te?~r&&W[r].p(B,oe):(f&&(nt(),g(W[te],1,1,()=>{W[te]=null}),lt()),~r?(f=W[r],f?f.p(B,oe):(f=W[r]=ee[r](B),f.c()),d(f,1),f.m(e,null)):f=null)},i(B){u||(d(n.$$.fragment,B),d(f),u=!0)},o(B){g(n.$$.fragment,B),g(f),u=!1},d(B){B&&c(e),k(n),dt(j,B),~r&&W[r].d(),p=!1,b()}}}function Ol(l){let e,t,n,s,o,a,i,_,r,f,u,p,b,O,j,ee,W,me,B,oe,U,te,ae,ne,R,H,Q,z,N,G,Ie,Z,_e,Be,re,we,Me,q,le,$e,de,ge,Ce,ce,De,xe,Te,Ve,fe;n=new Oe({props:{$$slots:{default:[zl]},$$scope:{ctx:l}}});function Qe(T){l[48](T)}let pe={};l[14].line_number!==void 0&&(pe.value=l[14].line_number),o=new Je({props:pe}),Fe.push(()=>ye(o,"value",Qe)),r=new Oe({props:{$$slots:{default:[yl]},$$scope:{ctx:l}}});function be(T){l[49](T)}let rt={};l[14].display_name!==void 0&&(rt.value=l[14].display_name),u=new Je({props:rt}),Fe.push(()=>ye(u,"value",be)),j=new Oe({props:{$$slots:{default:[Jl]},$$scope:{ctx:l}}});function Re(T){l[50](T)}let C={};l[14].user_name!==void 0&&(C.value=l[14].user_name),W=new Je({props:C}),Fe.push(()=>ye(W,"value",Re)),U=new Oe({props:{$$slots:{default:[Bl]},$$scope:{ctx:l}}});function J(T){l[51](T)}let ie={};l[14].auth_name!==void 0&&(ie.value=l[14].auth_name),ae=new Je({props:ie}),Fe.push(()=>ye(ae,"value",J)),Q=new Oe({props:{$$slots:{default:[Ul]},$$scope:{ctx:l}}});function y(T){l[52](T)}let X={type:"password"};l[14].password!==void 0&&(X.value=l[14].password),N=new Je({props:X}),Fe.push(()=>ye(N,"value",y)),_e=new Oe({props:{$$slots:{default:[Ql]},$$scope:{ctx:l}}});function he(T){l[53](T)}let ke={};l[14].screen_name!==void 0&&(ke.value=l[14].screen_name),re=new Je({props:ke}),Fe.push(()=>ye(re,"value",he)),le=new Oe({props:{$$slots:{default:[Wl]},$$scope:{ctx:l}}});function qe(T){l[54](T)}let ve={};l[14].registrar1_ip!==void 0&&(ve.value=l[14].registrar1_ip),de=new Je({props:ve}),Fe.push(()=>ye(de,"value",qe)),De=new Oe({props:{$$slots:{default:[Gl]},$$scope:{ctx:l}}});function Le(T){l[55](T)}let Ke={};return l[14].registrar1_port!==void 0&&(Ke.value=l[14].registrar1_port),Te=new Je({props:Ke}),Fe.push(()=>ye(Te,"value",Le)),{c(){e=S("div"),t=S("div"),I(n.$$.fragment),s=V(),I(o.$$.fragment),i=V(),_=S("div"),I(r.$$.fragment),f=V(),I(u.$$.fragment),b=V(),O=S("div"),I(j.$$.fragment),ee=V(),I(W.$$.fragment),B=V(),oe=S("div"),I(U.$$.fragment),te=V(),I(ae.$$.fragment),R=V(),H=S("div"),I(Q.$$.fragment),z=V(),I(N.$$.fragment),Ie=V(),Z=S("div"),I(_e.$$.fragment),Be=V(),I(re.$$.fragment),Me=V(),q=S("div"),I(le.$$.fragment),$e=V(),I(de.$$.fragment),Ce=V(),ce=S("div"),I(De.$$.fragment),xe=V(),I(Te.$$.fragment),this.h()},l(T){e=P(T,"DIV",{class:!0});var Y=K(e);t=P(Y,"DIV",{class:!0});var He=K(t);E(n.$$.fragment,He),s=D(He),E(o.$$.fragment,He),He.forEach(c),i=D(Y),_=P(Y,"DIV",{class:!0});var Ee=K(_);E(r.$$.fragment,Ee),f=D(Ee),E(u.$$.fragment,Ee),Ee.forEach(c),b=D(Y),O=P(Y,"DIV",{class:!0});var Ue=K(O);E(j.$$.fragment,Ue),ee=D(Ue),E(W.$$.fragment,Ue),Ue.forEach(c),B=D(Y),oe=P(Y,"DIV",{class:!0});var Ne=K(oe);E(U.$$.fragment,Ne),te=D(Ne),E(ae.$$.fragment,Ne),Ne.forEach(c),R=D(Y),H=P(Y,"DIV",{class:!0});var je=K(H);E(Q.$$.fragment,je),z=D(je),E(N.$$.fragment,je),je.forEach(c),Ie=D(Y),Z=P(Y,"DIV",{class:!0});var et=K(Z);E(_e.$$.fragment,et),Be=D(et),E(re.$$.fragment,et),et.forEach(c),Me=D(Y),q=P(Y,"DIV",{class:!0});var Pe=K(q);E(le.$$.fragment,Pe),$e=D(Pe),E(de.$$.fragment,Pe),Pe.forEach(c),Ce=D(Y),ce=P(Y,"DIV",{class:!0});var tt=K(ce);E(De.$$.fragment,tt),xe=D(tt),E(Te.$$.fragment,tt),tt.forEach(c),Y.forEach(c),this.h()},h(){L(t,"class","space-y-2"),L(_,"class","space-y-2"),L(O,"class","space-y-2"),L(oe,"class","space-y-2"),L(H,"class","space-y-2"),L(Z,"class","space-y-2"),L(q,"class","space-y-2"),L(ce,"class","space-y-2"),L(e,"class","grid grid-cols-3 gap-4")},m(T,Y){v(T,e,Y),m(e,t),w(n,t,null),m(t,s),w(o,t,null),m(e,i),m(e,_),w(r,_,null),m(_,f),w(u,_,null),m(e,b),m(e,O),w(j,O,null),m(O,ee),w(W,O,null),m(e,B),m(e,oe),w(U,oe,null),m(oe,te),w(ae,oe,null),m(e,R),m(e,H),w(Q,H,null),m(H,z),w(N,H,null),m(e,Ie),m(e,Z),w(_e,Z,null),m(Z,Be),w(re,Z,null),m(e,Me),m(e,q),w(le,q,null),m(q,$e),w(de,q,null),m(e,Ce),m(e,ce),w(De,ce,null),m(ce,xe),w(Te,ce,null),fe=!0},p(T,Y){const He={};Y[2]&67108864&&(He.$$scope={dirty:Y,ctx:T}),n.$set(He);const Ee={};!a&&Y[0]&16384&&(a=!0,Ee.value=T[14].line_number,ze(()=>a=!1)),o.$set(Ee);const Ue={};Y[2]&67108864&&(Ue.$$scope={dirty:Y,ctx:T}),r.$set(Ue);const Ne={};!p&&Y[0]&16384&&(p=!0,Ne.value=T[14].display_name,ze(()=>p=!1)),u.$set(Ne);const je={};Y[2]&67108864&&(je.$$scope={dirty:Y,ctx:T}),j.$set(je);const et={};!me&&Y[0]&16384&&(me=!0,et.value=T[14].user_name,ze(()=>me=!1)),W.$set(et);const Pe={};Y[2]&67108864&&(Pe.$$scope={dirty:Y,ctx:T}),U.$set(Pe);const tt={};!ne&&Y[0]&16384&&(ne=!0,tt.value=T[14].auth_name,ze(()=>ne=!1)),ae.$set(tt);const h={};Y[2]&67108864&&(h.$$scope={dirty:Y,ctx:T}),Q.$set(h);const se={};!G&&Y[0]&16384&&(G=!0,se.value=T[14].password,ze(()=>G=!1)),N.$set(se);const We={};Y[2]&67108864&&(We.$$scope={dirty:Y,ctx:T}),_e.$set(We);const st={};!we&&Y[0]&16384&&(we=!0,st.value=T[14].screen_name,ze(()=>we=!1)),re.$set(st);const ut={};Y[2]&67108864&&(ut.$$scope={dirty:Y,ctx:T}),le.$set(ut);const vt={};!ge&&Y[0]&16384&&(ge=!0,vt.value=T[14].registrar1_ip,ze(()=>ge=!1)),de.$set(vt);const qt={};Y[2]&67108864&&(qt.$$scope={dirty:Y,ctx:T}),De.$set(qt);const yt={};!Ve&&Y[0]&16384&&(Ve=!0,yt.value=T[14].registrar1_port,ze(()=>Ve=!1)),Te.$set(yt)},i(T){fe||(d(n.$$.fragment,T),d(o.$$.fragment,T),d(r.$$.fragment,T),d(u.$$.fragment,T),d(j.$$.fragment,T),d(W.$$.fragment,T),d(U.$$.fragment,T),d(ae.$$.fragment,T),d(Q.$$.fragment,T),d(N.$$.fragment,T),d(_e.$$.fragment,T),d(re.$$.fragment,T),d(le.$$.fragment,T),d(de.$$.fragment,T),d(De.$$.fragment,T),d(Te.$$.fragment,T),fe=!0)},o(T){g(n.$$.fragment,T),g(o.$$.fragment,T),g(r.$$.fragment,T),g(u.$$.fragment,T),g(j.$$.fragment,T),g(W.$$.fragment,T),g(U.$$.fragment,T),g(ae.$$.fragment,T),g(Q.$$.fragment,T),g(N.$$.fragment,T),g(_e.$$.fragment,T),g(re.$$.fragment,T),g(le.$$.fragment,T),g(de.$$.fragment,T),g(De.$$.fragment,T),g(Te.$$.fragment,T),fe=!1},d(T){T&&c(e),k(n),k(o),k(r),k(u),k(j),k(W),k(U),k(ae),k(Q),k(N),k(_e),k(re),k(le),k(de),k(De),k(Te)}}}function Tl(l){let e;return{c(){e=A("Функция")},l(t){e=M(t,"Функция")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function wn(l){let e,t=l[82].name+"",n,s;return{c(){e=S("option"),n=A(t),this.h()},l(o){e=P(o,"OPTION",{});var a=K(e);n=M(a,t),a.forEach(c),this.h()},h(){e.__value=s=l[82].id,Ae(e,e.__value)},m(o,a){v(o,e,a),m(e,n)},p(o,a){a[0]&131072&&t!==(t=o[82].name+"")&&ue(n,t),a[0]&131136&&s!==(s=o[82].id)&&(e.__value=s,Ae(e,e.__value))},d(o){o&&c(e)}}}function Ll(l){let e,t,n,s,o,a,i,_,r,f,u,p,b,O,j,ee,W,me,B;n=new Oe({props:{$$slots:{default:[jl]},$$scope:{ctx:l}}});function oe(H){l[60](H)}let U={};l[14].label!==void 0&&(U.value=l[14].label),o=new Je({props:U}),Fe.push(()=>ye(o,"value",oe)),r=new Oe({props:{$$slots:{default:[Ml]},$$scope:{ctx:l}}});function te(H){l[61](H)}let ae={};l[14].value!==void 0&&(ae.value=l[14].value),u=new Je({props:ae}),Fe.push(()=>ye(u,"value",te)),j=new Oe({props:{$$slots:{default:[Al]},$$scope:{ctx:l}}});function ne(H){l[62](H)}let R={placeholder:"например: blf"};return l[14].custom_type!==void 0&&(R.value=l[14].custom_type),W=new Je({props:R}),Fe.push(()=>ye(W,"value",ne)),{c(){e=S("div"),t=S("div"),I(n.$$.fragment),s=V(),I(o.$$.fragment),i=V(),_=S("div"),I(r.$$.fragment),f=V(),I(u.$$.fragment),b=V(),O=S("div"),I(j.$$.fragment),ee=V(),I(W.$$.fragment),this.h()},l(H){e=P(H,"DIV",{class:!0});var Q=K(e);t=P(Q,"DIV",{class:!0});var z=K(t);E(n.$$.fragment,z),s=D(z),E(o.$$.fragment,z),z.forEach(c),i=D(Q),_=P(Q,"DIV",{class:!0});var N=K(_);E(r.$$.fragment,N),f=D(N),E(u.$$.fragment,N),N.forEach(c),b=D(Q),O=P(Q,"DIV",{class:!0});var G=K(O);E(j.$$.fragment,G),ee=D(G),E(W.$$.fragment,G),G.forEach(c),Q.forEach(c),this.h()},h(){L(t,"class","space-y-2"),L(_,"class","space-y-2"),L(O,"class","space-y-2"),L(e,"class","grid grid-cols-2 gap-4")},m(H,Q){v(H,e,Q),m(e,t),w(n,t,null),m(t,s),w(o,t,null),m(e,i),m(e,_),w(r,_,null),m(_,f),w(u,_,null),m(e,b),m(e,O),w(j,O,null),m(O,ee),w(W,O,null),B=!0},p(H,Q){const z={};Q[2]&67108864&&(z.$$scope={dirty:Q,ctx:H}),n.$set(z);const N={};!a&&Q[0]&16384&&(a=!0,N.value=H[14].label,ze(()=>a=!1)),o.$set(N);const G={};Q[2]&67108864&&(G.$$scope={dirty:Q,ctx:H}),r.$set(G);const Ie={};!p&&Q[0]&16384&&(p=!0,Ie.value=H[14].value,ze(()=>p=!1)),u.$set(Ie);const Z={};Q[2]&67108864&&(Z.$$scope={dirty:Q,ctx:H}),j.$set(Z);const _e={};!me&&Q[0]&16384&&(me=!0,_e.value=H[14].custom_type,ze(()=>me=!1)),W.$set(_e)},i(H){B||(d(n.$$.fragment,H),d(o.$$.fragment,H),d(r.$$.fragment,H),d(u.$$.fragment,H),d(j.$$.fragment,H),d(W.$$.fragment,H),B=!0)},o(H){g(n.$$.fragment,H),g(o.$$.fragment,H),g(r.$$.fragment,H),g(u.$$.fragment,H),g(j.$$.fragment,H),g(W.$$.fragment,H),B=!1},d(H){H&&c(e),k(n),k(o),k(r),k(u),k(j),k(W)}}}function ql(l){var a;let e,t,n=Ye(((a=l[17].find(l[57]))==null?void 0:a.params)||[]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Cn(un(l,n,i));const o=i=>g(s[i],1,1,()=>{s[i]=null});return{c(){e=S("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=P(i,"DIV",{class:!0});var _=K(e);for(let r=0;r<s.length;r+=1)s[r].l(_);_.forEach(c),this.h()},h(){L(e,"class","grid grid-cols-3 gap-4")},m(i,_){v(i,e,_);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);t=!0},p(i,_){var r;if(_[0]&147520){n=Ye(((r=i[17].find(i[57]))==null?void 0:r.params)||[]);let f;for(f=0;f<n.length;f+=1){const u=un(i,n,f);s[f]?(s[f].p(u,_),d(s[f],1)):(s[f]=Cn(u),s[f].c(),d(s[f],1),s[f].m(e,null))}for(nt(),f=n.length;f<s.length;f+=1)o(f);lt()}},i(i){if(!t){for(let _=0;_<n.length;_+=1)d(s[_]);t=!0}},o(i){s=s.filter(Boolean);for(let _=0;_<s.length;_+=1)g(s[_]);t=!1},d(i){i&&c(e),dt(s,i)}}}function jl(l){let e;return{c(){e=A("Метка")},l(t){e=M(t,"Метка")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Ml(l){let e;return{c(){e=A("Значение")},l(t){e=M(t,"Значение")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Al(l){let e;return{c(){e=A("Тип")},l(t){e=M(t,"Тип")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function En(l){let e,t,n,s,o,a,i;t=new Oe({props:{$$slots:{default:[Kl]},$$scope:{ctx:l}}});const _=[Fl,Hl],r=[];function f(u,p){return u[77].type==="select"&&u[77].source==="lines"?0:1}return s=f(l),o=r[s]=_[s](l),{c(){e=S("div"),I(t.$$.fragment),n=V(),o.c(),a=V(),this.h()},l(u){e=P(u,"DIV",{class:!0});var p=K(e);E(t.$$.fragment,p),n=D(p),o.l(p),a=D(p),p.forEach(c),this.h()},h(){L(e,"class","space-y-2")},m(u,p){v(u,e,p),w(t,e,null),m(e,n),r[s].m(e,null),m(e,a),i=!0},p(u,p){const b={};p[0]&147456|p[2]&67108864&&(b.$$scope={dirty:p,ctx:u}),t.$set(b);let O=s;s=f(u),s===O?r[s].p(u,p):(nt(),g(r[O],1,1,()=>{r[O]=null}),lt(),o=r[s],o?o.p(u,p):(o=r[s]=_[s](u),o.c()),d(o,1),o.m(e,a))},i(u){i||(d(t.$$.fragment,u),d(o),i=!0)},o(u){g(t.$$.fragment,u),g(o),i=!1},d(u){u&&c(e),k(t),r[s].d()}}}function Kl(l){let e=l[77].label+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&147456&&e!==(e=n[77].label+"")&&ue(t,e)},d(n){n&&c(t)}}}function Hl(l){let e,t,n;function s(a){l[59](a,l[77])}let o={};return l[14][l[77].id]!==void 0&&(o.value=l[14][l[77].id]),e=new Je({props:o}),Fe.push(()=>ye(e,"value",s)),{c(){I(e.$$.fragment)},l(a){E(e.$$.fragment,a)},m(a,i){w(e,a,i),n=!0},p(a,i){l=a;const _={};!t&&i[0]&147456&&(t=!0,_.value=l[14][l[77].id],ze(()=>t=!1)),e.$set(_)},i(a){n||(d(e.$$.fragment,a),n=!0)},o(a){g(e.$$.fragment,a),n=!1},d(a){k(e,a)}}}function Fl(l){let e,t,n=`Выберите
                                                                    линию`,s,o,a=Ye(l[6].filter(On)),i=[];for(let r=0;r<a.length;r+=1)i[r]=In(fn(l,a,r));function _(){l[58].call(e,l[77])}return{c(){e=S("select"),t=S("option"),t.textContent=n;for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=P(r,"SELECT",{class:!0});var f=K(e);t=P(f,"OPTION",{"data-svelte-h":!0}),it(t)!=="svelte-ywblog"&&(t.textContent=n);for(let u=0;u<i.length;u+=1)i[u].l(f);f.forEach(c),this.h()},h(){t.__value="",Ae(t,t.__value),L(e,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"),l[14][l[77].id]===void 0&&Vt(_)},m(r,f){v(r,e,f),m(e,t);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);ot(e,l[14][l[77].id],!0),s||(o=_t(e,"change",_),s=!0)},p(r,f){if(l=r,f[0]&64){a=Ye(l[6].filter(On));let u;for(u=0;u<a.length;u+=1){const p=fn(l,a,u);i[u]?i[u].p(p,f):(i[u]=In(p),i[u].c(),i[u].m(e,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=a.length}f[0]&147520&&ot(e,l[14][l[77].id])},i:Nt,o:Nt,d(r){r&&c(e),dt(i,r),s=!1,o()}}}function In(l){let e,t,n=l[74].account_number+"",s,o;return{c(){e=S("option"),t=A("Линия "),s=A(n),this.h()},l(a){e=P(a,"OPTION",{});var i=K(e);t=M(i,"Линия "),s=M(i,n),i.forEach(c),this.h()},h(){e.__value=o=l[74].account_number,Ae(e,e.__value)},m(a,i){v(a,e,i),m(e,t),m(e,s)},p(a,i){i[0]&64&&n!==(n=a[74].account_number+"")&&ue(s,n),i[0]&64&&o!==(o=a[74].account_number)&&(e.__value=o,Ae(e,e.__value))},d(a){a&&c(e)}}}function Cn(l){let e,t,n=l[77].type!=="hidden"&&En(l);return{c(){n&&n.c(),e=Ze()},l(s){n&&n.l(s),e=Ze()},m(s,o){n&&n.m(s,o),v(s,e,o),t=!0},p(s,o){s[77].type!=="hidden"?n?(n.p(s,o),o[0]&147456&&d(n,1)):(n=En(s),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(nt(),g(n,1,1,()=>{n=null}),lt())},i(s){t||(d(n),t=!0)},o(s){g(n),t=!1},d(s){s&&c(e),n&&n.d(s)}}}function zl(l){let e;return{c(){e=A("Номер линии")},l(t){e=M(t,"Номер линии")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function yl(l){let e;return{c(){e=A("Отображаемое имя")},l(t){e=M(t,"Отображаемое имя")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Jl(l){let e;return{c(){e=A("Имя пользователя")},l(t){e=M(t,"Имя пользователя")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Bl(l){let e;return{c(){e=A("Имя авторизации")},l(t){e=M(t,"Имя авторизации")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Ul(l){let e;return{c(){e=A("Пароль")},l(t){e=M(t,"Пароль")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Ql(l){let e;return{c(){e=A("Имя на экране")},l(t){e=M(t,"Имя на экране")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Wl(l){let e;return{c(){e=A("IP Регистратора 1")},l(t){e=M(t,"IP Регистратора 1")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Gl(l){let e;return{c(){e=A("Порт Регистратора 1")},l(t){e=M(t,"Порт Регистратора 1")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Rl(l){let e;return{c(){e=A("Описание")},l(t){e=M(t,"Описание")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Xl(l){let e,t,n=(l[22]("common.cancel")||"Cancel")+"",s,o;return e=new Zt({props:{class:"mr-2 h-4 w-4"}}),{c(){I(e.$$.fragment),t=V(),s=A(n)},l(a){E(e.$$.fragment,a),t=D(a),s=M(a,n)},m(a,i){w(e,a,i),v(a,t,i),v(a,s,i),o=!0},p(a,i){(!o||i[0]&4194304)&&n!==(n=(a[22]("common.cancel")||"Cancel")+"")&&ue(s,n)},i(a){o||(d(e.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),o=!1},d(a){a&&(c(t),c(s)),k(e,a)}}}function Yl(l){let e,t,n;return e=new rl({props:{class:"mr-2 h-4 w-4"}}),{c(){I(e.$$.fragment),t=A(`
                                    OK`)},l(s){E(e.$$.fragment,s),t=M(s,`
                                    OK`)},m(s,o){w(e,s,o),v(s,t,o),n=!0},p:Nt,i(s){n||(d(e.$$.fragment,s),n=!0)},o(s){g(e.$$.fragment,s),n=!1},d(s){s&&c(t),k(e,s)}}}function Zl(l){let e;return{c(){e=A("Акк #")},l(t){e=M(t,"Акк #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function xl(l){let e;return{c(){e=A("Панель / Кнопка")},l(t){e=M(t,"Панель / Кнопка")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function es(l){let e;return{c(){e=A("Тип")},l(t){e=M(t,"Тип")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function ts(l){let e;return{c(){e=A("Описание")},l(t){e=M(t,"Описание")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function ns(l){let e;return{c(){e=A("Действия")},l(t){e=M(t,"Действия")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function ls(l){let e,t,n,s,o,a,i,_,r,f;return e=new Kt({props:{class:"w-[80px]",$$slots:{default:[Zl]},$$scope:{ctx:l}}}),n=new Kt({props:{class:"w-[120px]",$$slots:{default:[xl]},$$scope:{ctx:l}}}),o=new Kt({props:{class:"w-[100px]",$$slots:{default:[es]},$$scope:{ctx:l}}}),i=new Kt({props:{$$slots:{default:[ts]},$$scope:{ctx:l}}}),r=new Kt({props:{class:"text-right",$$slots:{default:[ns]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(o.$$.fragment),a=V(),I(i.$$.fragment),_=V(),I(r.$$.fragment)},l(u){E(e.$$.fragment,u),t=D(u),E(n.$$.fragment,u),s=D(u),E(o.$$.fragment,u),a=D(u),E(i.$$.fragment,u),_=D(u),E(r.$$.fragment,u)},m(u,p){w(e,u,p),v(u,t,p),w(n,u,p),v(u,s,p),w(o,u,p),v(u,a,p),w(i,u,p),v(u,_,p),w(r,u,p),f=!0},p(u,p){const b={};p[2]&67108864&&(b.$$scope={dirty:p,ctx:u}),e.$set(b);const O={};p[2]&67108864&&(O.$$scope={dirty:p,ctx:u}),n.$set(O);const j={};p[2]&67108864&&(j.$$scope={dirty:p,ctx:u}),o.$set(j);const ee={};p[2]&67108864&&(ee.$$scope={dirty:p,ctx:u}),i.$set(ee);const W={};p[2]&67108864&&(W.$$scope={dirty:p,ctx:u}),r.$set(W)},i(u){f||(d(e.$$.fragment,u),d(n.$$.fragment,u),d(o.$$.fragment,u),d(i.$$.fragment,u),d(r.$$.fragment,u),f=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),g(r.$$.fragment,u),f=!1},d(u){u&&(c(t),c(s),c(a),c(_)),k(e,u),k(n,u),k(o,u),k(i,u),k(r,u)}}}function ss(l){let e,t;return e=new Yt({props:{$$slots:{default:[ls]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p(n,s){const o={};s[2]&67108864&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function os(l){let e=l[74].account_number+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&524288&&e!==(e=n[74].account_number+"")&&ue(t,e)},d(n){n&&c(t)}}}function as(l){let e=l[74].panel_number===0?"Осн.":`Расш ${l[74].panel_number}`,t,n,s=l[74].key_number+"",o;return{c(){t=A(e),n=A(` /
                                            `),o=A(s)},l(a){t=M(a,e),n=M(a,` /
                                            `),o=M(a,s)},m(a,i){v(a,t,i),v(a,n,i),v(a,o,i)},p(a,i){i[0]&524288&&e!==(e=a[74].panel_number===0?"Осн.":`Расш ${a[74].panel_number}`)&&ue(t,e),i[0]&524288&&s!==(s=a[74].key_number+"")&&ue(o,s)},d(a){a&&(c(t),c(n),c(o))}}}function rs(l){var o,a,i;let e,t=(((i=(a=(o=l[5])==null?void 0:o.key_types)==null?void 0:a.find(s))==null?void 0:i.verbose)||l[74].type.replace("_"," "))+"",n;function s(..._){return l[64](l[74],..._)}return{c(){e=S("span"),n=A(t),this.h()},l(_){e=P(_,"SPAN",{class:!0});var r=K(e);n=M(r,t),r.forEach(c),this.h()},h(){L(e,"class","capitalize text-xs font-semibold px-2 py-1 rounded bg-muted")},m(_,r){v(_,e,r),m(e,n)},p(_,r){var f,u,p;l=_,r[0]&524320&&t!==(t=(((p=(u=(f=l[5])==null?void 0:f.key_types)==null?void 0:u.find(s))==null?void 0:p.verbose)||l[74].type.replace("_"," "))+"")&&ue(n,t)},d(_){_&&c(e)}}}function is(l){let e=Sn(l[74])+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&524288&&e!==(e=Sn(n[74])+"")&&ue(t,e)},d(n){n&&c(t)}}}function us(l){let e,t;return e=new pl({props:{class:"h-4 w-4"}}),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p:Nt,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function fs(l){let e,t;return e=new il({props:{class:"h-4 w-4"}}),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p:Nt,i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function _s(l){let e,t,n,s,o;function a(..._){return l[65](l[74],..._)}t=new at({props:{variant:"ghost",size:"icon",disabled:!!l[10],$$slots:{default:[us]},$$scope:{ctx:l}}}),t.$on("click",a);function i(..._){return l[66](l[74],..._)}return s=new at({props:{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive hover:bg-destructive/10",disabled:!!l[10],$$slots:{default:[fs]},$$scope:{ctx:l}}}),s.$on("click",i),{c(){e=S("div"),I(t.$$.fragment),n=V(),I(s.$$.fragment),this.h()},l(_){e=P(_,"DIV",{class:!0});var r=K(e);E(t.$$.fragment,r),n=D(r),E(s.$$.fragment,r),r.forEach(c),this.h()},h(){L(e,"class","flex justify-end gap-1")},m(_,r){v(_,e,r),w(t,e,null),m(e,n),w(s,e,null),o=!0},p(_,r){l=_;const f={};r[0]&1024&&(f.disabled=!!l[10]),r[2]&67108864&&(f.$$scope={dirty:r,ctx:l}),t.$set(f);const u={};r[0]&1024&&(u.disabled=!!l[10]),r[2]&67108864&&(u.$$scope={dirty:r,ctx:l}),s.$set(u)},i(_){o||(d(t.$$.fragment,_),d(s.$$.fragment,_),o=!0)},o(_){g(t.$$.fragment,_),g(s.$$.fragment,_),o=!1},d(_){_&&c(e),k(t),k(s)}}}function cs(l){let e,t,n,s,o,a,i,_,r,f;return e=new Ot({props:{class:"font-medium",$$slots:{default:[os]},$$scope:{ctx:l}}}),n=new Ot({props:{$$slots:{default:[as]},$$scope:{ctx:l}}}),o=new Ot({props:{$$slots:{default:[rs]},$$scope:{ctx:l}}}),i=new Ot({props:{$$slots:{default:[is]},$$scope:{ctx:l}}}),r=new Ot({props:{class:"text-right",$$slots:{default:[_s]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment),s=V(),I(o.$$.fragment),a=V(),I(i.$$.fragment),_=V(),I(r.$$.fragment)},l(u){E(e.$$.fragment,u),t=D(u),E(n.$$.fragment,u),s=D(u),E(o.$$.fragment,u),a=D(u),E(i.$$.fragment,u),_=D(u),E(r.$$.fragment,u)},m(u,p){w(e,u,p),v(u,t,p),w(n,u,p),v(u,s,p),w(o,u,p),v(u,a,p),w(i,u,p),v(u,_,p),w(r,u,p),f=!0},p(u,p){const b={};p[0]&524288|p[2]&67108864&&(b.$$scope={dirty:p,ctx:u}),e.$set(b);const O={};p[0]&524288|p[2]&67108864&&(O.$$scope={dirty:p,ctx:u}),n.$set(O);const j={};p[0]&524320|p[2]&67108864&&(j.$$scope={dirty:p,ctx:u}),o.$set(j);const ee={};p[0]&524288|p[2]&67108864&&(ee.$$scope={dirty:p,ctx:u}),i.$set(ee);const W={};p[0]&525312|p[2]&67108864&&(W.$$scope={dirty:p,ctx:u}),r.$set(W)},i(u){f||(d(e.$$.fragment,u),d(n.$$.fragment,u),d(o.$$.fragment,u),d(i.$$.fragment,u),d(r.$$.fragment,u),f=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(o.$$.fragment,u),g(i.$$.fragment,u),g(r.$$.fragment,u),f=!1},d(u){u&&(c(t),c(s),c(a),c(_)),k(e,u),k(n,u),k(o,u),k(i,u),k(r,u)}}}function Dn(l){let e,t;function n(){return l[67](l[74])}return e=new Yt({props:{class:"cursor-pointer transition-colors "+(l[7]===l[74]?"bg-blue-50 dark:bg-blue-900/20":""),$$slots:{default:[cs]},$$scope:{ctx:l}}}),e.$on("click",n),{c(){I(e.$$.fragment)},l(s){E(e.$$.fragment,s)},m(s,o){w(e,s,o),t=!0},p(s,o){l=s;const a={};o[0]&524416&&(a.class="cursor-pointer transition-colors "+(l[7]===l[74]?"bg-blue-50 dark:bg-blue-900/20":"")),o[0]&525344|o[2]&67108864&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)},i(s){t||(d(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){k(e,s)}}}function Vn(l){let e,t;return e=new Yt({props:{$$slots:{default:[$s]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p(n,s){const o={};s[0]&6291712|s[2]&67108864&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function Nn(l){let e,t;return e=new at({props:{variant:"link",size:"sm",class:"h-auto p-0",$$slots:{default:[ps]},$$scope:{ctx:l}}}),e.$on("click",l[68]),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p(n,s){const o={};s[0]&4194304|s[2]&67108864&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function ps(l){let e=(l[22]("common.clear")||"Clear Search")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4194304&&e!==(e=(n[22]("common.clear")||"Clear Search")+"")&&ue(t,e)},d(n){n&&c(t)}}}function ms(l){let e,t,n,s,o,a=(l[22]("common.no_results")||"No lines found.")+"",i,_,r;n=new Xn({props:{class:"h-6 w-6"}});let f=l[21]&&Nn(l);return{c(){e=S("div"),t=S("div"),I(n.$$.fragment),s=V(),o=S("p"),i=A(a),_=V(),f&&f.c(),this.h()},l(u){e=P(u,"DIV",{class:!0});var p=K(e);t=P(p,"DIV",{class:!0});var b=K(t);E(n.$$.fragment,b),b.forEach(c),s=D(p),o=P(p,"P",{class:!0});var O=K(o);i=M(O,a),O.forEach(c),_=D(p),f&&f.l(p),p.forEach(c),this.h()},h(){L(t,"class","p-3 bg-muted rounded-full text-muted-foreground"),L(o,"class","text-sm font-medium text-muted-foreground"),L(e,"class","flex flex-col items-center justify-center space-y-2")},m(u,p){v(u,e,p),m(e,t),w(n,t,null),m(e,s),m(e,o),m(o,i),m(e,_),f&&f.m(e,null),r=!0},p(u,p){(!r||p[0]&4194304)&&a!==(a=(u[22]("common.no_results")||"No lines found.")+"")&&ue(i,a),u[21]?f?(f.p(u,p),p[0]&2097152&&d(f,1)):(f=Nn(u),f.c(),d(f,1),f.m(e,null)):f&&(nt(),g(f,1,1,()=>{f=null}),lt())},i(u){r||(d(n.$$.fragment,u),d(f),r=!0)},o(u){g(n.$$.fragment,u),g(f),r=!1},d(u){u&&c(e),k(n),f&&f.d()}}}function $s(l){let e,t;return e=new Ot({props:{colspan:5,class:"text-center py-12",$$slots:{default:[ms]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p(n,s){const o={};s[0]&6291712|s[2]&67108864&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function ds(l){let e,t,n,s=Ye(l[19]),o=[];for(let _=0;_<s.length;_+=1)o[_]=Dn(rn(l,s,_));const a=_=>g(o[_],1,1,()=>{o[_]=null});let i=l[19].length===0&&Vn(l);return{c(){for(let _=0;_<o.length;_+=1)o[_].c();e=V(),i&&i.c(),t=Ze()},l(_){for(let r=0;r<o.length;r+=1)o[r].l(_);e=D(_),i&&i.l(_),t=Ze()},m(_,r){for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(_,r);v(_,e,r),i&&i.m(_,r),v(_,t,r),n=!0},p(_,r){if(r[0]&159909024){s=Ye(_[19]);let f;for(f=0;f<s.length;f+=1){const u=rn(_,s,f);o[f]?(o[f].p(u,r),d(o[f],1)):(o[f]=Dn(u),o[f].c(),d(o[f],1),o[f].m(e.parentNode,e))}for(nt(),f=s.length;f<o.length;f+=1)a(f);lt()}_[19].length===0?i?(i.p(_,r),r[0]&524288&&d(i,1)):(i=Vn(_),i.c(),d(i,1),i.m(t.parentNode,t)):i&&(nt(),g(i,1,1,()=>{i=null}),lt())},i(_){if(!n){for(let r=0;r<s.length;r+=1)d(o[r]);d(i),n=!0}},o(_){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)g(o[r]);g(i),n=!1},d(_){_&&(c(e),c(t)),dt(o,_),i&&i.d(_)}}}function gs(l){let e,t,n,s;return e=new ol({props:{$$slots:{default:[ss]},$$scope:{ctx:l}}}),n=new al({props:{$$slots:{default:[ds]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment)},l(o){E(e.$$.fragment,o),t=D(o),E(n.$$.fragment,o)},m(o,a){w(e,o,a),v(o,t,a),w(n,o,a),s=!0},p(o,a){const i={};a[2]&67108864&&(i.$$scope={dirty:a,ctx:o}),e.$set(i);const _={};a[0]&6817184|a[2]&67108864&&(_.$$scope={dirty:a,ctx:o}),n.$set(_)},i(o){s||(d(e.$$.fragment,o),d(n.$$.fragment,o),s=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),s=!1},d(o){o&&c(t),k(e,o),k(n,o)}}}function Pn(l){let e,t,n,s,o,a,i,_,r,f,u;return t=new at({props:{variant:"outline",size:"sm",disabled:l[9]===1,$$slots:{default:[hs]},$$scope:{ctx:l}}}),t.$on("click",l[69]),f=new at({props:{variant:"outline",size:"sm",disabled:l[9]===l[20],$$slots:{default:[vs]},$$scope:{ctx:l}}}),f.$on("click",l[70]),{c(){e=S("div"),I(t.$$.fragment),n=V(),s=S("span"),o=A("Страница "),a=A(l[9]),i=A(" из "),_=A(l[20]),r=V(),I(f.$$.fragment),this.h()},l(p){e=P(p,"DIV",{class:!0});var b=K(e);E(t.$$.fragment,b),n=D(b),s=P(b,"SPAN",{class:!0});var O=K(s);o=M(O,"Страница "),a=M(O,l[9]),i=M(O," из "),_=M(O,l[20]),O.forEach(c),r=D(b),E(f.$$.fragment,b),b.forEach(c),this.h()},h(){L(s,"class","py-2 text-sm"),L(e,"class","flex justify-center gap-2")},m(p,b){v(p,e,b),w(t,e,null),m(e,n),m(e,s),m(s,o),m(s,a),m(s,i),m(s,_),m(e,r),w(f,e,null),u=!0},p(p,b){const O={};b[0]&512&&(O.disabled=p[9]===1),b[2]&67108864&&(O.$$scope={dirty:b,ctx:p}),t.$set(O),(!u||b[0]&512)&&ue(a,p[9]),(!u||b[0]&1048576)&&ue(_,p[20]);const j={};b[0]&1049088&&(j.disabled=p[9]===p[20]),b[2]&67108864&&(j.$$scope={dirty:b,ctx:p}),f.$set(j)},i(p){u||(d(t.$$.fragment,p),d(f.$$.fragment,p),u=!0)},o(p){g(t.$$.fragment,p),g(f.$$.fragment,p),u=!1},d(p){p&&c(e),k(t),k(f)}}}function hs(l){let e;return{c(){e=A("Назад")},l(t){e=M(t,"Назад")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function vs(l){let e;return{c(){e=A("Вперед")},l(t){e=M(t,"Вперед")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function bs(l){let e=(l[22]("common.cancel")||"Cancel")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4194304&&e!==(e=(n[22]("common.cancel")||"Cancel")+"")&&ue(t,e)},d(n){n&&c(t)}}}function ks(l){let e;return{c(){e=A("OK")},l(t){e=M(t,"OK")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function ws(l){let e,t,n=l[3]&&pn(l);return{c(){n&&n.c(),e=Ze()},l(s){n&&n.l(s),e=Ze()},m(s,o){n&&n.m(s,o),v(s,e,o),t=!0},p(s,o){s[3]?n?(n.p(s,o),o[0]&8&&d(n,1)):(n=pn(s),n.c(),d(n,1),n.m(e.parentNode,e)):n&&(nt(),g(n,1,1,()=>{n=null}),lt())},i(s){t||(d(n),t=!0)},o(s){g(n),t=!1},d(s){s&&c(e),n&&n.d(s)}}}let Jt=16;function Sn(l){let e={};try{e=JSON.parse(l.additional_info||"{}")}catch{}return l.type==="Line"?e.display_name||e.label||"":e.label||e.value||""}const On=l=>l.type==="Line";function Es(l,e,t){let n,s,o,a,i,_,r,f,u,p,b,O;Un(l,Rn,h=>t(22,O=h));let{lines:j=[]}=e,{maxSoftKeys:ee=0}=e,{maxHardKeys:W=0}=e,{image:me=""}=e,{maxLines:B=0}=e,{open:oe=!1}=e,{phone:U={}}=e,{model:te=null}=e;const ae=Qn();let ne=[],R=null,H="",Q=1,z=null,N={},G=null,Ie=!1,Z=0,_e=0;function Be(h){t(7,R=h)}function re(h){t(15,G=h),t(7,R=h),t(10,z={...h});try{t(14,N=JSON.parse(h.additional_info||"{}"))}catch{t(14,N={})}}function we(){t(15,G=null),t(7,R=null),t(10,z={type:"Line",account_number:1,panel_number:0,key_number:1,additional_info:"{}"}),t(14,N={})}function Me(){var h,se;if(!z||!z.account_number){Dt.error("Account Number is required");return}t(10,z.account_number=parseInt(String(z.account_number),10),z),t(10,z.panel_number=parseInt(String(z.panel_number),10),z),t(10,z.key_number=parseInt(String(z.key_number),10),z);for(const We of ne)if(!(G&&We===G)&&We.type===z.type&&We.panel_number===z.panel_number&&We.key_number===z.key_number){const st=((se=(h=te==null?void 0:te.key_types)==null?void 0:h.find(vt=>vt.id===z.type))==null?void 0:se.verbose)||z.type,ut=z.panel_number===0?"Основная":`Панель ${z.panel_number}`;Dt.error(`Дубликат: ${st}, ${ut}, Кнопка ${z.key_number} уже назначена.`);return}if(t(10,z.additional_info=JSON.stringify(N),z),G){const We=ne.indexOf(G);We!==-1&&t(6,ne[We]={...z},ne)}else t(6,ne=[...ne,{...z}]);t(15,G=null),t(10,z=null),t(14,N={})}function q(h){t(6,ne=ne.filter(se=>se!==h)),R===h&&t(7,R=null)}function le(){t(15,G=null),t(10,z=null),t(14,N={})}function $e(){ae("close")}function de(){ae("save",ne),$e()}let ge=[],Ce=[];Wn(async()=>{await ce()});async function ce(){try{const h=await fetch("/api/vendors");if(h.ok){const se=await h.json();t(33,ge=se.vendors||[])}}catch(h){console.error("Failed to load vendors",h)}}function De(){Z=this.naturalWidth,_e=this.naturalHeight,t(11,Z),t(12,_e)}const xe=()=>t(16,Ie=!0);function Te(h){H=h,t(8,H)}const Ve=()=>t(8,H="");function fe(){z.type=Tt(this),t(10,z),t(5,te)}function Qe(h){l.$$.not_equal(z.account_number,h)&&(z.account_number=h,t(10,z))}function pe(h){l.$$.not_equal(z.key_number,h)&&(z.key_number=h,t(10,z))}function be(h){l.$$.not_equal(z.panel_number,h)&&(z.panel_number=h,t(10,z))}function rt(h){l.$$.not_equal(N.line_number,h)&&(N.line_number=h,t(14,N))}function Re(h){l.$$.not_equal(N.display_name,h)&&(N.display_name=h,t(14,N))}function C(h){l.$$.not_equal(N.user_name,h)&&(N.user_name=h,t(14,N))}function J(h){l.$$.not_equal(N.auth_name,h)&&(N.auth_name=h,t(14,N))}function ie(h){l.$$.not_equal(N.password,h)&&(N.password=h,t(14,N))}function y(h){l.$$.not_equal(N.screen_name,h)&&(N.screen_name=h,t(14,N))}function X(h){l.$$.not_equal(N.registrar1_ip,h)&&(N.registrar1_ip=h,t(14,N))}function he(h){l.$$.not_equal(N.registrar1_port,h)&&(N.registrar1_port=h,t(14,N))}function ke(){N.type=Tt(this),t(14,N),t(17,Ce),t(4,U),t(33,ge)}const qe=h=>h.id===N.type;function ve(h){N[h.id]=Tt(this),t(14,N),t(17,Ce),t(4,U),t(33,ge)}function Le(h,se){l.$$.not_equal(N[se.id],h)&&(N[se.id]=h,t(14,N))}function Ke(h){l.$$.not_equal(N.label,h)&&(N.label=h,t(14,N))}function T(h){l.$$.not_equal(N.value,h)&&(N.value=h,t(14,N))}function Y(h){l.$$.not_equal(N.custom_type,h)&&(N.custom_type=h,t(14,N))}function He(h){l.$$.not_equal(N.description,h)&&(N.description=h,t(14,N))}const Ee=(h,se)=>se.id===h.type,Ue=(h,se)=>{se.stopPropagation(),re(h)},Ne=(h,se)=>{se.stopPropagation(),q(h)},je=h=>Be(h),et=()=>t(8,H=""),Pe=()=>t(9,Q--,Q),tt=()=>t(9,Q++,Q);return l.$$set=h=>{"lines"in h&&t(0,j=h.lines),"maxSoftKeys"in h&&t(31,ee=h.maxSoftKeys),"maxHardKeys"in h&&t(1,W=h.maxHardKeys),"image"in h&&t(32,me=h.image),"maxLines"in h&&t(2,B=h.maxLines),"open"in h&&t(3,oe=h.open),"phone"in h&&t(4,U=h.phone),"model"in h&&t(5,te=h.model)},l.$$.update=()=>{var h;if(l.$$.dirty[0]&9&&oe&&j&&(t(6,ne=JSON.parse(JSON.stringify(j)).map(se=>({...se,account_number:se.account_number||se.number||1,panel_number:se.panel_number||se.expansion_module_number||0,key_number:se.key_number||0,type:se.type||"Line"}))),t(7,R=null)),l.$$.dirty[0]&256&&t(21,n=H.length>0),l.$$.dirty[0]&320&&t(39,s=ne.filter(se=>{const We=H.toLowerCase();let st={};try{st=JSON.parse(se.additional_info||"{}")}catch{}return[se.account_number,se.panel_number,se.key_number,se.type,st.display_name,st.user_name,st.label].join(" ").toLowerCase().includes(We)})),l.$$.dirty[1]&256&&t(20,o=Math.ceil(s.length/Jt)),l.$$.dirty[0]&512|l.$$.dirty[1]&256&&t(19,a=s.slice((Q-1)*Jt,Q*Jt)),l.$$.dirty[0]&16&&(U.expansion_modules_count||0)>0,l.$$.dirty[0]&1184&&t(38,i=(h=te==null?void 0:te.key_types)==null?void 0:h.find(se=>se.id===((z==null?void 0:z.type)||(R==null?void 0:R.type)))),l.$$.dirty[0]&16|l.$$.dirty[1]&2&&t(34,_=me&&U.vendor?`/api/vendors-static/${U.vendor}/static/${me}`:""),l.$$.dirty[0]&16|l.$$.dirty[1]&128&&t(35,r=i!=null&&i.image&&U.vendor?`/api/vendors-static/${U.vendor}/static/${i.image}`:""),l.$$.dirty[0]&160&&t(37,f=te&&R?te.keys.find(se=>se.index===(R==null?void 0:R.key_number)&&((R==null?void 0:R.panel_number)||0)===0):null),l.$$.dirty[0]&16|l.$$.dirty[1]&64&&t(36,u=f!=null&&f.my_image&&U.vendor?`/api/vendors-static/${U.vendor}/static/${f.my_image}`:""),l.$$.dirty[1]&56&&t(13,p=u||r||_),l.$$.dirty[0]&8192&&p&&t(16,Ie=!1),l.$$.dirty[0]&6304&&t(18,b=(()=>{if(!R||!te||!Z||!_e)return null;const se=te.keys.find(We=>{var st,ut;return We.index===(R==null?void 0:R.key_number)&&((st=We.type)==null?void 0:st.toLowerCase())===((ut=R==null?void 0:R.type)==null?void 0:ut.toLowerCase())&&((R==null?void 0:R.panel_number)||0)===0});return se&&se.x>0&&se.y>0?{left:se.x/Z*100,top:se.y/_e*100}:null})()),l.$$.dirty[0]&16|l.$$.dirty[1]&4&&U&&ge.length>0){const se=ge.find(We=>We.id===U.vendor);t(17,Ce=se?se.features||[]:[])}},[j,W,B,oe,U,te,ne,R,H,Q,z,Z,_e,p,N,G,Ie,Ce,b,a,o,n,O,Be,re,we,Me,q,le,$e,de,ee,me,ge,_,r,u,f,i,s,De,xe,Te,Ve,fe,Qe,pe,be,rt,Re,C,J,ie,y,X,he,ke,qe,ve,Le,Ke,T,Y,He,Ee,Ue,Ne,je,et,Pe,tt]}class Is extends Ft{constructor(e){super(),zt(this,e,Es,ws,Ht,{lines:0,maxSoftKeys:31,maxHardKeys:1,image:32,maxLines:2,open:3,phone:4,model:5},null,[-1,-1,-1])}}function Tn(l,e,t){const n=l.slice();return n[35]=e[t],n}function Ln(l,e,t){const n=l.slice();return n[35]=e[t],n}function qn(l,e,t){const n=l.slice();return n[40]=e[t],n}function jn(l,e,t){const n=l.slice();return n[43]=e[t],n}function Cs(l){let e=(l[1]==="create"?l[12]("phone.add_title")||"Add Phone Configuration":(l[12]("phone.edit_title")||"Edit Phone Configuration")+(l[0].phone_number?` : ${l[0].phone_number}`:""))+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4099&&e!==(e=(n[1]==="create"?n[12]("phone.add_title")||"Add Phone Configuration":(n[12]("phone.edit_title")||"Edit Phone Configuration")+(n[0].phone_number?` : ${n[0].phone_number}`:""))+"")&&ue(t,e)},d(n){n&&c(t)}}}function Ds(l){let e=(l[1]==="create"?l[12]("phone.add_desc")||"Manually add a new phone configuration":l[12]("phone.edit_desc")||"Edit existing phone configuration")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4098&&e!==(e=(n[1]==="create"?n[12]("phone.add_desc")||"Manually add a new phone configuration":n[12]("phone.edit_desc")||"Edit existing phone configuration")+"")&&ue(t,e)},d(n){n&&c(t)}}}function Vs(l){let e,t,n,s;return e=new nl({props:{$$slots:{default:[Cs]},$$scope:{ctx:l}}}),n=new ll({props:{$$slots:{default:[Ds]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment)},l(o){E(e.$$.fragment,o),t=D(o),E(n.$$.fragment,o)},m(o,a){w(e,o,a),v(o,t,a),w(n,o,a),s=!0},p(o,a){const i={};a[0]&4099|a[1]&32768&&(i.$$scope={dirty:a,ctx:o}),e.$set(i);const _={};a[0]&4098|a[1]&32768&&(_.$$scope={dirty:a,ctx:o}),n.$set(_)},i(o){s||(d(e.$$.fragment,o),d(n.$$.fragment,o),s=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),s=!1},d(o){o&&c(t),k(e,o),k(n,o)}}}function Ns(l){let e=(l[12]("phone.domain")||"Domain")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("phone.domain")||"Domain")+"")&&ue(t,e)},d(n){n&&c(t)}}}function Mn(l){let e,t=l[43]+"",n,s;return{c(){e=S("option"),n=A(t),this.h()},l(o){e=P(o,"OPTION",{});var a=K(e);n=M(a,t),a.forEach(c),this.h()},h(){e.__value=s=l[43],Ae(e,e.__value)},m(o,a){v(o,e,a),m(e,n)},p(o,a){a[0]&32&&t!==(t=o[43]+"")&&ue(n,t),a[0]&32&&s!==(s=o[43])&&(e.__value=s,Ae(e,e.__value))},d(o){o&&c(e)}}}function Ps(l){let e=(l[12]("phone.vendor")||"Vendor")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("phone.vendor")||"Vendor")+"")&&ue(t,e)},d(n){n&&c(t)}}}function An(l){let e,t=l[40].name+"",n,s;return{c(){e=S("option"),n=A(t),this.h()},l(o){e=P(o,"OPTION",{});var a=K(e);n=M(a,t),a.forEach(c),this.h()},h(){e.__value=s=l[40].id,Ae(e,e.__value)},m(o,a){v(o,e,a),m(e,n)},p(o,a){a[0]&64&&t!==(t=o[40].name+"")&&ue(n,t),a[0]&64&&s!==(s=o[40].id)&&(e.__value=s,Ae(e,e.__value))},d(o){o&&c(e)}}}function Ss(l){let e=(l[12]("phone.model")||"Model")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("phone.model")||"Model")+"")&&ue(t,e)},d(n){n&&c(t)}}}function Kn(l){let e,t="No models available";return{c(){e=S("option"),e.textContent=t,this.h()},l(n){e=P(n,"OPTION",{"data-svelte-h":!0}),it(e)!=="svelte-1x77qog"&&(e.textContent=t),this.h()},h(){e.__value="",Ae(e,e.__value)},m(n,s){v(n,e,s)},d(n){n&&c(e)}}}function Hn(l){let e,t=l[35].name+"",n,s;return{c(){e=S("option"),n=A(t),this.h()},l(o){e=P(o,"OPTION",{});var a=K(e);n=M(a,t),a.forEach(c),this.h()},h(){e.__value=s=l[35].id,Ae(e,e.__value)},m(o,a){v(o,e,a),m(e,n)},p(o,a){a[0]&4&&t!==(t=o[35].name+"")&&ue(n,t),a[0]&4&&s!==(s=o[35].id)&&(e.__value=s,Ae(e,e.__value))},d(o){o&&c(e)}}}function Os(l){let e=(l[12]("phone.expansion_module")||"Expansion Module")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("phone.expansion_module")||"Expansion Module")+"")&&ue(t,e)},d(n){n&&c(t)}}}function Fn(l){let e,t=l[35]+"",n,s;return{c(){e=S("option"),n=A(t),this.h()},l(o){e=P(o,"OPTION",{});var a=K(e);n=M(a,t),a.forEach(c),this.h()},h(){e.__value=s=l[35],Ae(e,e.__value)},m(o,a){v(o,e,a),m(e,n)},p(o,a){a[0]&8&&t!==(t=o[35]+"")&&ue(n,t),a[0]&8&&s!==(s=o[35])&&(e.__value=s,Ae(e,e.__value))},d(o){o&&c(e)}}}function Ts(l){let e=(l[12]("phone.exp_count")||"Count")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("phone.exp_count")||"Count")+"")&&ue(t,e)},d(n){n&&c(t)}}}function zn(l){let e,t="*";return{c(){e=S("span"),e.textContent=t,this.h()},l(n){e=P(n,"SPAN",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1n3raya"&&(e.textContent=t),this.h()},h(){L(e,"class","text-red-500")},m(n,s){v(n,e,s)},d(n){n&&c(e)}}}function Ls(l){var a;let e=(l[12]("phone.mac")||"MAC Address")+"",t,n,s,o=((a=l[3])==null?void 0:a.type)!=="gateway"&&zn();return{c(){t=A(e),n=V(),o&&o.c(),s=Ze()},l(i){t=M(i,e),n=D(i),o&&o.l(i),s=Ze()},m(i,_){v(i,t,_),v(i,n,_),o&&o.m(i,_),v(i,s,_)},p(i,_){var r;_[0]&4096&&e!==(e=(i[12]("phone.mac")||"MAC Address")+"")&&ue(t,e),((r=i[3])==null?void 0:r.type)!=="gateway"?o||(o=zn(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(i){i&&(c(t),c(n),c(s)),o&&o.d(i)}}}function yn(l){let e,t="*";return{c(){e=S("span"),e.textContent=t,this.h()},l(n){e=P(n,"SPAN",{class:!0,"data-svelte-h":!0}),it(e)!=="svelte-1n3raya"&&(e.textContent=t),this.h()},h(){L(e,"class","text-red-500")},m(n,s){v(n,e,s)},d(n){n&&c(e)}}}function qs(l){var a;let e=(l[12]("phone.number")||"Phone Number")+"",t,n,s,o=((a=l[3])==null?void 0:a.type)!=="gateway"&&yn();return{c(){t=A(e),n=V(),o&&o.c(),s=Ze()},l(i){t=M(i,e),n=D(i),o&&o.l(i),s=Ze()},m(i,_){v(i,t,_),v(i,n,_),o&&o.m(i,_),v(i,s,_)},p(i,_){var r;_[0]&4096&&e!==(e=(i[12]("phone.number")||"Phone Number")+"")&&ue(t,e),((r=i[3])==null?void 0:r.type)!=="gateway"?o||(o=yn(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(i){i&&(c(t),c(n),c(s)),o&&o.d(i)}}}function js(l){let e=(l[12]("phone.ip_address")||"IP Address")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("phone.ip_address")||"IP Address")+"")&&ue(t,e)},d(n){n&&c(t)}}}function Ms(l){let e=(l[12]("common.description")||"Description")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("common.description")||"Description")+"")&&ue(t,e)},d(n){n&&c(t)}}}function As(l){let e=(l[12]("common.cancel")||"Cancel")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4096&&e!==(e=(n[12]("common.cancel")||"Cancel")+"")&&ue(t,e)},d(n){n&&c(t)}}}function Ks(l){let e=(l[7]?l[12]("common.saving")||"Saving...":l[12]("common.save")||"Save")+"",t;return{c(){t=A(e)},l(n){t=M(n,e)},m(n,s){v(n,t,s)},p(n,s){s[0]&4224&&e!==(e=(n[7]?n[12]("common.saving")||"Saving...":n[12]("common.save")||"Save")+"")&&ue(t,e)},d(n){n&&c(t)}}}function Jn(l){let e,t;return e=new at({props:{variant:"outline",$$slots:{default:[Hs]},$$scope:{ctx:l}}}),e.$on("click",l[29]),{c(){I(e.$$.fragment)},l(n){E(e.$$.fragment,n)},m(n,s){w(e,n,s),t=!0},p(n,s){const o={};s[0]&4097|s[1]&32768&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){t||(d(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){k(e,n)}}}function Bn(l){let e,t=l[0].lines.length+"",n,s;return{c(){e=A("("),n=A(t),s=A(")")},l(o){e=M(o,"("),n=M(o,t),s=M(o,")")},m(o,a){v(o,e,a),v(o,n,a),v(o,s,a)},p(o,a){a[0]&1&&t!==(t=o[0].lines.length+"")&&ue(n,t)},d(o){o&&(c(e),c(n),c(s))}}}function Hs(l){var r;let e,t,n=(l[12]("lines.configure")||"Configure Lines")+"",s,o,a,i;e=new ul({props:{class:"mr-2 h-4 w-4"}});let _=((r=l[0].lines)==null?void 0:r.length)>0&&Bn(l);return{c(){I(e.$$.fragment),t=V(),s=A(n),o=V(),_&&_.c(),a=Ze()},l(f){E(e.$$.fragment,f),t=D(f),s=M(f,n),o=D(f),_&&_.l(f),a=Ze()},m(f,u){w(e,f,u),v(f,t,u),v(f,s,u),v(f,o,u),_&&_.m(f,u),v(f,a,u),i=!0},p(f,u){var p;(!i||u[0]&4096)&&n!==(n=(f[12]("lines.configure")||"Configure Lines")+"")&&ue(s,n),((p=f[0].lines)==null?void 0:p.length)>0?_?_.p(f,u):(_=Bn(f),_.c(),_.m(a.parentNode,a)):_&&(_.d(1),_=null)},i(f){i||(d(e.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),i=!1},d(f){f&&(c(t),c(s),c(o),c(a)),k(e,f),_&&_.d(f)}}}function Fs(l){var tn,nn;let e,t,n,s,o,a,i,_,r,f,u,p,b,O,j,ee,W,me,B,oe,U,te,ae,ne,R,H="None",Q,z,N,G,Ie,Z,_e,Be,re,we,Me,q,le,$e,de,ge,Ce,ce,De,xe,Te,Ve,fe,Qe,pe,be,rt,Re,C,J,ie,y,X,he,ke,qe,ve,Le,Ke,T,Y;n=new Oe({props:{for:"domain-"+l[14],$$slots:{default:[Ns]},$$scope:{ctx:l}}});let He=Ye(l[5]),Ee=[];for(let $=0;$<He.length;$+=1)Ee[$]=Mn(jn(l,He,$));_=new Oe({props:{for:"vendor-"+l[14],$$slots:{default:[Ps]},$$scope:{ctx:l}}});let Ue=Ye(l[6]),Ne=[];for(let $=0;$<Ue.length;$+=1)Ne[$]=An(qn(l,Ue,$));O=new Oe({props:{for:"model-"+l[14],$$slots:{default:[Ss]},$$scope:{ctx:l}}});let je=l[2].length===0&&Kn(),et=Ye(l[2]),Pe=[];for(let $=0;$<et.length;$+=1)Pe[$]=Hn(Ln(l,et,$));te=new Oe({props:{for:"exp_module-"+l[14],$$slots:{default:[Os]},$$scope:{ctx:l}}});let tt=Ye(((tn=l[3])==null?void 0:tn.supported_expansion_modules)||[]),h=[];for(let $=0;$<tt.length;$+=1)h[$]=Fn(Tn(l,tt,$));G=new Oe({props:{for:"exp_count-"+l[14],$$slots:{default:[Ts]},$$scope:{ctx:l}}});function se($){l[23]($)}let We={id:"exp_count-"+l[14],type:"number",min:"0",max:((nn=l[3])==null?void 0:nn.maximum_expansion_modules)||1,disabled:!l[0].expansion_module_model};l[0].expansion_modules_count!==void 0&&(We.value=l[0].expansion_modules_count),Z=new Je({props:We}),Fe.push(()=>ye(Z,"value",se)),Me=new Oe({props:{for:"mac-"+l[14],$$slots:{default:[Ls]},$$scope:{ctx:l}}});function st($){l[24]($)}let ut={id:"mac-"+l[14],placeholder:"00:11:22:33:44:55",class:"font-mono uppercase"};l[0].mac_address!==void 0&&(ut.value=l[0].mac_address),le=new Je({props:ut}),Fe.push(()=>ye(le,"value",st)),Ce=new Oe({props:{for:"number-"+l[14],$$slots:{default:[qs]},$$scope:{ctx:l}}});function vt($){l[25]($)}let qt={id:"number-"+l[14],placeholder:"101"};l[0].phone_number!==void 0&&(qt.value=l[0].phone_number),De=new Je({props:qt}),Fe.push(()=>ye(De,"value",vt)),De.$on("blur",l[19]),fe=new Oe({props:{for:"ip_address-"+l[14],$$slots:{default:[js]},$$scope:{ctx:l}}});function yt($){l[26]($)}let xt={id:"ip_address-"+l[14],placeholder:"192.168.1.100"};l[0].ip_address!==void 0&&(xt.value=l[0].ip_address),pe=new Je({props:xt}),Fe.push(()=>ye(pe,"value",yt)),C=new Oe({props:{for:"description-"+l[14],$$slots:{default:[Ms]},$$scope:{ctx:l}}});function Yn($){l[27]($)}let en={id:"description-"+l[14]};l[0].description!==void 0&&(en.value=l[0].description),ie=new Je({props:en}),Fe.push(()=>ye(ie,"value",Yn)),ke=new at({props:{variant:"outline",class:"flex-1",disabled:l[7],$$slots:{default:[As]},$$scope:{ctx:l}}}),ke.$on("click",l[28]),ve=new at({props:{class:"flex-1",disabled:l[7],$$slots:{default:[Ks]},$$scope:{ctx:l}}}),ve.$on("click",l[17]);let Ge=l[11]&&Jn(l);return{c(){e=S("div"),t=S("div"),I(n.$$.fragment),s=V(),o=S("select");for(let $=0;$<Ee.length;$+=1)Ee[$].c();a=V(),i=S("div"),I(_.$$.fragment),r=V(),f=S("select");for(let $=0;$<Ne.length;$+=1)Ne[$].c();u=V(),p=S("div"),b=S("div"),I(O.$$.fragment),j=V(),ee=S("select"),je&&je.c(),W=Ze();for(let $=0;$<Pe.length;$+=1)Pe[$].c();oe=V(),U=S("div"),I(te.$$.fragment),ae=V(),ne=S("select"),R=S("option"),R.textContent=H;for(let $=0;$<h.length;$+=1)h[$].c();z=V(),N=S("div"),I(G.$$.fragment),Ie=V(),I(Z.$$.fragment),Be=V(),re=S("div"),we=S("div"),I(Me.$$.fragment),q=V(),I(le.$$.fragment),de=V(),ge=S("div"),I(Ce.$$.fragment),ce=V(),I(De.$$.fragment),Te=V(),Ve=S("div"),I(fe.$$.fragment),Qe=V(),I(pe.$$.fragment),rt=V(),Re=S("div"),I(C.$$.fragment),J=V(),I(ie.$$.fragment),X=V(),he=S("div"),I(ke.$$.fragment),qe=V(),I(ve.$$.fragment),Le=V(),Ge&&Ge.c(),this.h()},l($){e=P($,"DIV",{class:!0});var F=K(e);t=P(F,"DIV",{class:!0});var Se=K(t);E(n.$$.fragment,Se),s=D(Se),o=P(Se,"SELECT",{id:!0,class:!0});var jt=K(o);for(let Xe=0;Xe<Ee.length;Xe+=1)Ee[Xe].l(jt);jt.forEach(c),Se.forEach(c),a=D(F),i=P(F,"DIV",{class:!0});var bt=K(i);E(_.$$.fragment,bt),r=D(bt),f=P(bt,"SELECT",{id:!0,class:!0});var Mt=K(f);for(let Xe=0;Xe<Ne.length;Xe+=1)Ne[Xe].l(Mt);Mt.forEach(c),bt.forEach(c),F.forEach(c),u=D($),p=P($,"DIV",{class:!0});var pt=K(p);b=P(pt,"DIV",{class:!0});var mt=K(b);E(O.$$.fragment,mt),j=D(mt),ee=P(mt,"SELECT",{id:!0,class:!0});var Pt=K(ee);je&&je.l(Pt),W=Ze();for(let Xe=0;Xe<Pe.length;Xe+=1)Pe[Xe].l(Pt);Pt.forEach(c),mt.forEach(c),oe=D(pt),U=P(pt,"DIV",{class:!0});var kt=K(U);E(te.$$.fragment,kt),ae=D(kt),ne=P(kt,"SELECT",{id:!0,class:!0});var St=K(ne);R=P(St,"OPTION",{"data-svelte-h":!0}),it(R)!=="svelte-1vbnolo"&&(R.textContent=H);for(let Xe=0;Xe<h.length;Xe+=1)h[Xe].l(St);St.forEach(c),kt.forEach(c),z=D(pt),N=P(pt,"DIV",{class:!0});var wt=K(N);E(G.$$.fragment,wt),Ie=D(wt),E(Z.$$.fragment,wt),wt.forEach(c),pt.forEach(c),Be=D($),re=P($,"DIV",{class:!0});var $t=K(re);we=P($t,"DIV",{class:!0});var Et=K(we);E(Me.$$.fragment,Et),q=D(Et),E(le.$$.fragment,Et),Et.forEach(c),de=D($t),ge=P($t,"DIV",{class:!0});var It=K(ge);E(Ce.$$.fragment,It),ce=D(It),E(De.$$.fragment,It),It.forEach(c),Te=D($t),Ve=P($t,"DIV",{class:!0});var Ct=K(Ve);E(fe.$$.fragment,Ct),Qe=D(Ct),E(pe.$$.fragment,Ct),Ct.forEach(c),$t.forEach(c),rt=D($),Re=P($,"DIV",{class:!0});var ht=K(Re);E(C.$$.fragment,ht),J=D(ht),E(ie.$$.fragment,ht),ht.forEach(c),X=D($),he=P($,"DIV",{class:!0});var ct=K(he);E(ke.$$.fragment,ct),qe=D(ct),E(ve.$$.fragment,ct),Le=D(ct),Ge&&Ge.l(ct),ct.forEach(c),this.h()},h(){var $,F;L(o,"id","domain-"+l[14]),L(o,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),l[0].domain===void 0&&Vt(()=>l[20].call(o)),L(t,"class","space-y-2"),L(f,"id","vendor-"+l[14]),L(f,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),l[0].vendor===void 0&&Vt(()=>l[21].call(f)),L(i,"class","space-y-2"),L(e,"class","grid grid-cols-2 gap-4"),L(ee,"id","model-"+l[14]),L(ee,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),ee.disabled=B=l[2].length===0,L(b,"class","space-y-2"),R.__value="",Ae(R,R.__value),L(ne,"id","exp_module-"+l[14]),L(ne,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),ne.disabled=Q=(((F=($=l[3])==null?void 0:$.supported_expansion_modules)==null?void 0:F.length)||0)===0,l[0].expansion_module_model===void 0&&Vt(()=>l[22].call(ne)),L(U,"class","space-y-2"),L(N,"class","space-y-2"),L(p,"class","grid grid-cols-3 gap-4"),L(we,"class","space-y-2"),L(ge,"class","space-y-2"),L(Ve,"class","space-y-2"),L(re,"class","grid grid-cols-3 gap-4"),L(Re,"class","space-y-2"),L(he,"class","flex gap-4")},m($,F){v($,e,F),m(e,t),w(n,t,null),m(t,s),m(t,o);for(let Se=0;Se<Ee.length;Se+=1)Ee[Se]&&Ee[Se].m(o,null);ot(o,l[0].domain,!0),m(e,a),m(e,i),w(_,i,null),m(i,r),m(i,f);for(let Se=0;Se<Ne.length;Se+=1)Ne[Se]&&Ne[Se].m(f,null);ot(f,l[0].vendor,!0),v($,u,F),v($,p,F),m(p,b),w(O,b,null),m(b,j),m(b,ee),je&&je.m(ee,null),m(ee,W);for(let Se=0;Se<Pe.length;Se+=1)Pe[Se]&&Pe[Se].m(ee,null);ot(ee,l[0].model_id),m(p,oe),m(p,U),w(te,U,null),m(U,ae),m(U,ne),m(ne,R);for(let Se=0;Se<h.length;Se+=1)h[Se]&&h[Se].m(ne,null);ot(ne,l[0].expansion_module_model,!0),m(p,z),m(p,N),w(G,N,null),m(N,Ie),w(Z,N,null),v($,Be,F),v($,re,F),m(re,we),w(Me,we,null),m(we,q),w(le,we,null),m(re,de),m(re,ge),w(Ce,ge,null),m(ge,ce),w(De,ge,null),m(re,Te),m(re,Ve),w(fe,Ve,null),m(Ve,Qe),w(pe,Ve,null),v($,rt,F),v($,Re,F),w(C,Re,null),m(Re,J),w(ie,Re,null),v($,X,F),v($,he,F),w(ke,he,null),m(he,qe),w(ve,he,null),m(he,Le),Ge&&Ge.m(he,null),Ke=!0,T||(Y=[_t(o,"change",l[20]),_t(f,"change",l[21]),_t(f,"change",l[15]),_t(ee,"change",l[16]),_t(ne,"change",l[22])],T=!0)},p($,F){var Xe,ln,sn,on;const Se={};if(F[0]&4096|F[1]&32768&&(Se.$$scope={dirty:F,ctx:$}),n.$set(Se),F[0]&32){He=Ye($[5]);let x;for(x=0;x<He.length;x+=1){const ft=jn($,He,x);Ee[x]?Ee[x].p(ft,F):(Ee[x]=Mn(ft),Ee[x].c(),Ee[x].m(o,null))}for(;x<Ee.length;x+=1)Ee[x].d(1);Ee.length=He.length}F[0]&33&&ot(o,$[0].domain);const jt={};if(F[0]&4096|F[1]&32768&&(jt.$$scope={dirty:F,ctx:$}),_.$set(jt),F[0]&64){Ue=Ye($[6]);let x;for(x=0;x<Ue.length;x+=1){const ft=qn($,Ue,x);Ne[x]?Ne[x].p(ft,F):(Ne[x]=An(ft),Ne[x].c(),Ne[x].m(f,null))}for(;x<Ne.length;x+=1)Ne[x].d(1);Ne.length=Ue.length}F[0]&33&&ot(f,$[0].vendor);const bt={};if(F[0]&4096|F[1]&32768&&(bt.$$scope={dirty:F,ctx:$}),O.$set(bt),$[2].length===0?je||(je=Kn(),je.c(),je.m(ee,W)):je&&(je.d(1),je=null),F[0]&4){et=Ye($[2]);let x;for(x=0;x<et.length;x+=1){const ft=Ln($,et,x);Pe[x]?Pe[x].p(ft,F):(Pe[x]=Hn(ft),Pe[x].c(),Pe[x].m(ee,null))}for(;x<Pe.length;x+=1)Pe[x].d(1);Pe.length=et.length}(!Ke||F[0]&33&&me!==(me=$[0].model_id))&&ot(ee,$[0].model_id),(!Ke||F[0]&4&&B!==(B=$[2].length===0))&&(ee.disabled=B);const Mt={};if(F[0]&4096|F[1]&32768&&(Mt.$$scope={dirty:F,ctx:$}),te.$set(Mt),F[0]&8){tt=Ye(((Xe=$[3])==null?void 0:Xe.supported_expansion_modules)||[]);let x;for(x=0;x<tt.length;x+=1){const ft=Tn($,tt,x);h[x]?h[x].p(ft,F):(h[x]=Fn(ft),h[x].c(),h[x].m(ne,null))}for(;x<h.length;x+=1)h[x].d(1);h.length=tt.length}(!Ke||F[0]&8&&Q!==(Q=(((sn=(ln=$[3])==null?void 0:ln.supported_expansion_modules)==null?void 0:sn.length)||0)===0))&&(ne.disabled=Q),F[0]&33&&ot(ne,$[0].expansion_module_model);const pt={};F[0]&4096|F[1]&32768&&(pt.$$scope={dirty:F,ctx:$}),G.$set(pt);const mt={};F[0]&8&&(mt.max=((on=$[3])==null?void 0:on.maximum_expansion_modules)||1),F[0]&1&&(mt.disabled=!$[0].expansion_module_model),!_e&&F[0]&1&&(_e=!0,mt.value=$[0].expansion_modules_count,ze(()=>_e=!1)),Z.$set(mt);const Pt={};F[0]&4104|F[1]&32768&&(Pt.$$scope={dirty:F,ctx:$}),Me.$set(Pt);const kt={};!$e&&F[0]&1&&($e=!0,kt.value=$[0].mac_address,ze(()=>$e=!1)),le.$set(kt);const St={};F[0]&4104|F[1]&32768&&(St.$$scope={dirty:F,ctx:$}),Ce.$set(St);const wt={};!xe&&F[0]&1&&(xe=!0,wt.value=$[0].phone_number,ze(()=>xe=!1)),De.$set(wt);const $t={};F[0]&4096|F[1]&32768&&($t.$$scope={dirty:F,ctx:$}),fe.$set($t);const Et={};!be&&F[0]&1&&(be=!0,Et.value=$[0].ip_address,ze(()=>be=!1)),pe.$set(Et);const It={};F[0]&4096|F[1]&32768&&(It.$$scope={dirty:F,ctx:$}),C.$set(It);const Ct={};!y&&F[0]&1&&(y=!0,Ct.value=$[0].description,ze(()=>y=!1)),ie.$set(Ct);const ht={};F[0]&128&&(ht.disabled=$[7]),F[0]&4096|F[1]&32768&&(ht.$$scope={dirty:F,ctx:$}),ke.$set(ht);const ct={};F[0]&128&&(ct.disabled=$[7]),F[0]&4224|F[1]&32768&&(ct.$$scope={dirty:F,ctx:$}),ve.$set(ct),$[11]?Ge?(Ge.p($,F),F[0]&2048&&d(Ge,1)):(Ge=Jn($),Ge.c(),d(Ge,1),Ge.m(he,null)):Ge&&(nt(),g(Ge,1,1,()=>{Ge=null}),lt())},i($){Ke||(d(n.$$.fragment,$),d(_.$$.fragment,$),d(O.$$.fragment,$),d(te.$$.fragment,$),d(G.$$.fragment,$),d(Z.$$.fragment,$),d(Me.$$.fragment,$),d(le.$$.fragment,$),d(Ce.$$.fragment,$),d(De.$$.fragment,$),d(fe.$$.fragment,$),d(pe.$$.fragment,$),d(C.$$.fragment,$),d(ie.$$.fragment,$),d(ke.$$.fragment,$),d(ve.$$.fragment,$),d(Ge),Ke=!0)},o($){g(n.$$.fragment,$),g(_.$$.fragment,$),g(O.$$.fragment,$),g(te.$$.fragment,$),g(G.$$.fragment,$),g(Z.$$.fragment,$),g(Me.$$.fragment,$),g(le.$$.fragment,$),g(Ce.$$.fragment,$),g(De.$$.fragment,$),g(fe.$$.fragment,$),g(pe.$$.fragment,$),g(C.$$.fragment,$),g(ie.$$.fragment,$),g(ke.$$.fragment,$),g(ve.$$.fragment,$),g(Ge),Ke=!1},d($){$&&(c(e),c(u),c(p),c(Be),c(re),c(rt),c(Re),c(X),c(he)),k(n),dt(Ee,$),k(_),dt(Ne,$),k(O),je&&je.d(),dt(Pe,$),k(te),dt(h,$),k(G),k(Z),k(Me),k(le),k(Ce),k(De),k(fe),k(pe),k(C),k(ie),k(ke),k(ve),Ge&&Ge.d(),T=!1,Gn(Y)}}}function zs(l){let e,t,n,s;return e=new tl({props:{$$slots:{default:[Vs]},$$scope:{ctx:l}}}),n=new el({props:{class:"space-y-4",$$slots:{default:[Fs]},$$scope:{ctx:l}}}),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment)},l(o){E(e.$$.fragment,o),t=D(o),E(n.$$.fragment,o)},m(o,a){w(e,o,a),v(o,t,a),w(n,o,a),s=!0},p(o,a){const i={};a[0]&4099|a[1]&32768&&(i.$$scope={dirty:a,ctx:o}),e.$set(i);const _={};a[0]&6637|a[1]&32768&&(_.$$scope={dirty:a,ctx:o}),n.$set(_)},i(o){s||(d(e.$$.fragment,o),d(n.$$.fragment,o),s=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),s=!1},d(o){o&&c(t),k(e,o),k(n,o)}}}function ys(l){var _;let e,t,n,s,o;e=new xn({props:{$$slots:{default:[zs]},$$scope:{ctx:l}}});function a(r){l[30](r)}let i={lines:l[0].lines||[],maxLines:l[4],maxSoftKeys:l[10],maxHardKeys:l[9],image:(_=l[3])==null?void 0:_.image,model:l[3],phone:l[0]};return l[8]!==void 0&&(i.open=l[8]),n=new Is({props:i}),Fe.push(()=>ye(n,"open",a)),n.$on("save",l[18]),n.$on("close",l[31]),{c(){I(e.$$.fragment),t=V(),I(n.$$.fragment)},l(r){E(e.$$.fragment,r),t=D(r),E(n.$$.fragment,r)},m(r,f){w(e,r,f),v(r,t,f),w(n,r,f),o=!0},p(r,f){var b;const u={};f[0]&6639|f[1]&32768&&(u.$$scope={dirty:f,ctx:r}),e.$set(u);const p={};f[0]&1&&(p.lines=r[0].lines||[]),f[0]&16&&(p.maxLines=r[4]),f[0]&1024&&(p.maxSoftKeys=r[10]),f[0]&512&&(p.maxHardKeys=r[9]),f[0]&8&&(p.image=(b=r[3])==null?void 0:b.image),f[0]&8&&(p.model=r[3]),f[0]&1&&(p.phone=r[0]),!s&&f[0]&256&&(s=!0,p.open=r[8],ze(()=>s=!1)),n.$set(p)},i(r){o||(d(e.$$.fragment,r),d(n.$$.fragment,r),o=!0)},o(r){g(e.$$.fragment,r),g(n.$$.fragment,r),o=!1},d(r){r&&c(t),k(e,r),k(n,r)}}}function Js(l,e,t){let n,s,o,a,i,_;Un(l,Rn,q=>t(12,_=q));let{phone:r={domain:"",vendor:"",model_id:"",mac_address:"",phone_number:"",ip_address:"",description:"",lines:[],expansion_module_model:"",type:"phone"}}=e,{mode:f="create"}=e;const u=Qn();let p=[],b=[],O=[],j=!1;const ee=Math.random().toString(36).slice(2);let W=!1;Wn(async()=>{await Promise.all([me(),B()]),r.vendor&&await oe(r.vendor)});async function me(){try{const q=await fetch("/api/domains");if(q.ok){const le=await q.json();t(5,p=le.domains||[]),f==="create"&&p.length>0&&!r.domain&&t(0,r.domain=p[0],r)}}catch(q){console.error("Failed to load domains",q)}}async function B(){try{const q=await fetch("/api/vendors");if(q.ok){const le=await q.json();if(t(6,b=le.vendors||[]),r.vendor){const $e=r.vendor;b.find(de=>de.id===$e)&&t(0,r.vendor=$e,r)}f==="create"&&b.length>0&&!r.vendor&&(t(0,r.vendor=b[0].id,r),await oe(r.vendor))}}catch(q){console.error("Failed to load vendors",q)}}async function oe(q){try{const le=await fetch(`/api/models?vendor=${q}`);if(le.ok){const $e=await le.json();if(t(2,O=($e.models||[]).filter(de=>de.type!=="expansion-module").sort((de,ge)=>de.name.localeCompare(ge.name))),console.log("Loaded models:",O),r.model_id)if(!O.find(ge=>ge.id===r.model_id))console.warn(`Model ${r.model_id} not found in list. Resetting.`),t(0,r.model_id="",r);else{const ge=r.model_id;t(0,r.model_id="",r),setTimeout(()=>{t(0,r.model_id=ge,r)},0)}O.length>0&&!r.model_id&&(t(0,r.model_id=O[0].id,r),console.log("loadModels - Defaulting to first model",r.model_id))}}catch(le){console.error("Failed to load models",le),t(2,O=[])}}function U(){t(0,r.model_id="",r),r.vendor?oe(r.vendor):t(2,O=[])}function te(q){const le=q.target;console.log("Model changed to:",le.value),t(0,r.model_id=le.value,r)}async function ae(){if(r.expansion_module_model&&n){const q=parseInt(String(r.expansion_modules_count),10),le=n.maximum_expansion_modules||0;if(q>le){Dt.error(_("phone.error_max_exp_modules",{values:{max:le}})||`Maximum expansion modules allowed: ${le}`);return}}r.expansion_modules_count&&t(0,r.expansion_modules_count=parseInt(String(r.expansion_modules_count),10),r),console.log("Saving phone:",JSON.parse(JSON.stringify(r))),t(7,j=!0);try{const q=f==="create"?"/api/phones":`/api/phones/${r.id}`,$e=await fetch(q,{method:f==="create"?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if($e.ok){const de=await $e.json();Dt.success(f==="create"?_("phone.create_success")||"Phone created successfully":_("phone.update_success")||"Phone updated successfully"),u("save",de),f==="create"&&t(0,r={...r,mac_address:"",phone_number:"",ip_address:"",description:"",lines:[]})}else{const de=await $e.text();Dt.error(de||"Failed to save phone")}}catch(q){Dt.error("Error: "+q.message)}finally{t(7,j=!1)}}function ne(q){t(0,r.lines=q.detail,r),t(8,W=!1)}function R(){f==="create"&&r.phone_number&&(!r.lines||r.lines.length===0)&&(t(0,r.lines=[{type:"Line",account_number:1,panel_number:0,key_number:1,additional_info:JSON.stringify({line_number:"1",display_name:r.phone_number,user_name:r.phone_number,auth_name:r.phone_number,password:"",screen_name:r.phone_number})}],r),Dt.info("Line 1 automatically created"))}function H(){r.domain=Tt(this),t(0,r),t(5,p)}function Q(){r.vendor=Tt(this),t(0,r),t(5,p)}function z(){r.expansion_module_model=Tt(this),t(0,r),t(5,p)}function N(q){l.$$.not_equal(r.expansion_modules_count,q)&&(r.expansion_modules_count=q,t(0,r))}function G(q){l.$$.not_equal(r.mac_address,q)&&(r.mac_address=q,t(0,r))}function Ie(q){l.$$.not_equal(r.phone_number,q)&&(r.phone_number=q,t(0,r))}function Z(q){l.$$.not_equal(r.ip_address,q)&&(r.ip_address=q,t(0,r))}function _e(q){l.$$.not_equal(r.description,q)&&(r.description=q,t(0,r))}const Be=()=>u("cancel"),re=()=>t(8,W=!0);function we(q){W=q,t(8,W)}const Me=()=>t(8,W=!1);return l.$$set=q=>{"phone"in q&&t(0,r=q.phone),"mode"in q&&t(1,f=q.mode)},l.$$.update=()=>{if(l.$$.dirty[0]&1&&r.mac_address){const q=Zn(r.mac_address);q!==r.mac_address&&t(0,r.mac_address=q,r)}l.$$.dirty[0]&5&&t(3,n=O.find(q=>q.id===r.model_id)),l.$$.dirty[0]&8&&t(4,s=(n==null?void 0:n.max_account_lines)||0),l.$$.dirty[0]&16&&t(11,o=s>0),l.$$.dirty[0]&8&&t(10,a=(n==null?void 0:n.own_soft_keys)||0),l.$$.dirty[0]&8&&t(9,i=(n==null?void 0:n.own_hard_keys)||0)},[r,f,O,n,s,p,b,j,W,i,a,o,_,u,ee,U,te,ae,ne,R,H,Q,z,N,G,Ie,Z,_e,Be,re,we,Me]}class so extends Ft{constructor(e){super(),zt(this,e,Js,ys,Ht,{phone:0,mode:1},null,[-1,-1])}}export{so as P,gl as a};
