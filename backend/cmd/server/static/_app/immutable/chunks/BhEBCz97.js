import{s as kt,l as ut,m as gt,o as Dt,u as Nt,p as Vt,q as Pt,d as c,i as v,F as Xe,k as gn,a0 as hn,H as vn,D as Oe,a as _e,E as Te,b as d,C as M,c as L,e as J,f as F,g as P,h as O,t as H,j as S,O as dt,n as ht,a1 as Kt,x as ft,P as et,w as je,Q as vt,L as at,K as bt,M as pt,r as kn}from"./CUkxpT2c.js";import{S as Et,i as It,d as I,t as h,a as g,m as C,c as D,b as N,g as Ye,f as Ze,e as qe}from"./DqPwdKnZ.js";import{I as St,t as $t,e as Ge}from"./BtYH2GXc.js";import{g as Lt,a as Ot,$ as bn,B as ot}from"./wjMZg2eG.js";import{I as Ae}from"./Clvdv4ji.js";import{L as De}from"./CE9t1zSW.js";import{C as En,a as In}from"./YhqYbtJb.js";import{C as Cn,a as Dn,b as Nn}from"./HaCMjAII.js";import{T as Vn,a as Pn,b as Sn,c as Tt,d as wt,e as mt}from"./DQYf1rRt.js";import{S as Ln,T as On}from"./Cg1vJB5H.js";import{X as wn}from"./BqBe62oF.js";import{C as Tn}from"./d27t083e.js";import{S as qn}from"./BGRfd66a.js";function Kn(l){let e;const t=l[2].default,n=Dt(t,l,l[3],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,s){n&&n.m(a,s),e=!0},p(a,s){n&&n.p&&(!e||s&8)&&Nt(n,t,a,a[3],e?Pt(t,a[3],s,null):Vt(a[3]),null)},i(a){e||(g(n,a),e=!0)},o(a){h(n,a),e=!1},d(a){n&&n.d(a)}}}function An(l){let e,t;const n=[{name:"pencil"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[Kn]},$$scope:{ctx:l}};for(let s=0;s<n.length;s+=1)a=ut(a,n[s]);return e=new St({props:a}),{c(){N(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,[o]){const i=o&3?Lt(n,[n[0],o&2&&Ot(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){h(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function jn(l,e,t){let{$$slots:n={},$$scope:a}=e;const s=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];return l.$$set=o=>{t(1,e=ut(ut({},e),gt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=gt(e),[s,e,n,a]}class Mn extends Et{constructor(e){super(),It(this,e,jn,An,kt,{})}}function Fn(l){let e;const t=l[2].default,n=Dt(t,l,l[3],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,s){n&&n.m(a,s),e=!0},p(a,s){n&&n.p&&(!e||s&8)&&Nt(n,t,a,a[3],e?Pt(t,a[3],s,null):Vt(a[3]),null)},i(a){e||(g(n,a),e=!0)},o(a){h(n,a),e=!1},d(a){n&&n.d(a)}}}function Hn(l){let e,t;const n=[{name:"plus"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[Fn]},$$scope:{ctx:l}};for(let s=0;s<n.length;s+=1)a=ut(a,n[s]);return e=new St({props:a}),{c(){N(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,[o]){const i=o&3?Lt(n,[n[0],o&2&&Ot(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){h(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function zn(l,e,t){let{$$slots:n={},$$scope:a}=e;const s=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return l.$$set=o=>{t(1,e=ut(ut({},e),gt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=gt(e),[s,e,n,a]}class Jn extends Et{constructor(e){super(),It(this,e,zn,Hn,kt,{})}}function yn(l){let e;const t=l[2].default,n=Dt(t,l,l[3],null);return{c(){n&&n.c()},l(a){n&&n.l(a)},m(a,s){n&&n.m(a,s),e=!0},p(a,s){n&&n.p&&(!e||s&8)&&Nt(n,t,a,a[3],e?Pt(t,a[3],s,null):Vt(a[3]),null)},i(a){e||(g(n,a),e=!0)},o(a){h(n,a),e=!1},d(a){n&&n.d(a)}}}function Un(l){let e,t;const n=[{name:"target"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[yn]},$$scope:{ctx:l}};for(let s=0;s<n.length;s+=1)a=ut(a,n[s]);return e=new St({props:a}),{c(){N(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,o){C(e,s,o),t=!0},p(s,[o]){const i=o&3?Lt(n,[n[0],o&2&&Ot(s[1]),o&1&&{iconNode:s[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){h(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Bn(l,e,t){let{$$slots:n={},$$scope:a}=e;const s=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"6"}],["circle",{cx:"12",cy:"12",r:"2"}]];return l.$$set=o=>{t(1,e=ut(ut({},e),gt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=gt(e),[s,e,n,a]}class Rn extends Et{constructor(e){super(),It(this,e,Bn,Un,kt,{})}}function At(l,e,t){const n=l.slice();return n[65]=e[t],n}function jt(l,e,t){const n=l.slice();return n[68]=e[t],n[69]=e,n[70]=t,n}function Mt(l,e,t){const n=l.slice();return n[65]=e[t],n}function Ft(l,e,t){const n=l.slice();return n[73]=e[t],n}function Ht(l){let e,t,n,a,s,o=(l[18]("lines.title")||"Line Configuration")+"",i,_,r=l[18]("phone.number")+"",u,f,m=l[4].phone_number+"",k,V,E,R=(l[18]("lines.description")||"Manage additional lines for this phone.")+"",K,Z,A=l[0].length+"",B,G,Q=(l[2]||"∞")+"",X,be,U,b,Y,te,ne,ie,re,he,$e,we,ae,Fe,q,le,ve,se,ee,Ne,Ee,Ce,Ie,ce,ke,Ve,de;b=new ot({props:{variant:"ghost",size:"icon",$$slots:{default:[Qn]},$$scope:{ctx:l}}}),b.$on("click",l[25]);let fe=l[9]&&zt(l);$e=new Ln({props:{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}});function tt(z){l[36](z)}let Pe={placeholder:l[18]("common.search")||"Search...",class:"pl-8"};l[7]!==void 0&&(Pe.value=l[7]),ae=new Ae({props:Pe}),Oe.push(()=>qe(ae,"value",tt)),le=new ot({props:{disabled:!!l[10],$$slots:{default:[Gn]},$$scope:{ctx:l}}}),le.$on("click",l[21]);let x=l[10]&&Ut(l);Ne=new Vn({props:{$$slots:{default:[Fl]},$$scope:{ctx:l}}});let me=l[17]>1&&Zt(l);return ce=new ot({props:{variant:"outline",$$slots:{default:[Jl]},$$scope:{ctx:l}}}),ce.$on("click",l[25]),Ve=new ot({props:{$$slots:{default:[yl]},$$scope:{ctx:l}}}),Ve.$on("click",l[26]),{c(){e=O("div"),t=O("div"),n=O("div"),a=O("div"),s=O("h2"),i=H(o),_=H(". "),u=H(r),f=H(": "),k=H(m),V=S(),E=O("p"),K=H(R),Z=H(`
                        (`),B=H(A),G=H(" / "),X=H(Q),be=H(")"),U=S(),N(b.$$.fragment),Y=S(),te=O("div"),fe&&fe.c(),ne=S(),ie=O("div"),re=O("div"),he=O("div"),N($e.$$.fragment),we=S(),N(ae.$$.fragment),q=S(),N(le.$$.fragment),ve=S(),x&&x.c(),se=S(),ee=O("div"),N(Ne.$$.fragment),Ee=S(),me&&me.c(),Ce=S(),Ie=O("div"),N(ce.$$.fragment),ke=S(),N(Ve.$$.fragment),this.h()},l(z){e=L(z,"DIV",{class:!0});var y=J(e);t=L(y,"DIV",{class:!0});var Se=J(t);n=L(Se,"DIV",{class:!0});var ge=J(n);a=L(ge,"DIV",{});var pe=J(a);s=L(pe,"H2",{class:!0});var ye=J(s);i=F(ye,o),_=F(ye,". "),u=F(ye,r),f=F(ye,": "),k=F(ye,m),ye.forEach(c),V=P(pe),E=L(pe,"P",{class:!0});var Me=J(E);K=F(Me,R),Z=F(Me,`
                        (`),B=F(Me,A),G=F(Me," / "),X=F(Me,Q),be=F(Me,")"),Me.forEach(c),pe.forEach(c),U=P(ge),D(b.$$.fragment,ge),ge.forEach(c),Y=P(Se),te=L(Se,"DIV",{class:!0});var Re=J(te);fe&&fe.l(Re),ne=P(Re),ie=L(Re,"DIV",{class:!0});var He=J(ie);re=L(He,"DIV",{class:!0});var ze=J(re);he=L(ze,"DIV",{class:!0});var We=J(he);D($e.$$.fragment,We),we=P(We),D(ae.$$.fragment,We),We.forEach(c),q=P(ze),D(le.$$.fragment,ze),ze.forEach(c),ve=P(He),x&&x.l(He),se=P(He),ee=L(He,"DIV",{class:!0});var T=J(ee);D(Ne.$$.fragment,T),T.forEach(c),Ee=P(He),me&&me.l(He),He.forEach(c),Re.forEach(c),Ce=P(Se),Ie=L(Se,"DIV",{class:!0});var p=J(Ie);D(ce.$$.fragment,p),ke=P(p),D(Ve.$$.fragment,p),p.forEach(c),Se.forEach(c),y.forEach(c),this.h()},h(){M(s,"class","text-lg font-semibold"),M(E,"class","text-sm text-muted-foreground"),M(n,"class","flex justify-between items-center mb-4 shrink-0"),M(he,"class","relative flex-1"),M(re,"class","flex justify-between items-center gap-4"),M(ee,"class","border rounded-md overflow-hidden"),M(ie,"class","flex-1 overflow-y-auto pr-2 space-y-4"),M(te,"class","flex gap-6 flex-1 min-h-0"),M(Ie,"class","flex justify-end gap-2 mt-4 shrink-0"),M(t,"class","bg-background dark:bg-slate-900 p-6 rounded-lg shadow-lg max-w-7xl w-full max-h-[90vh] flex flex-col border dark:border-slate-700"),M(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/50")},m(z,y){v(z,e,y),d(e,t),d(t,n),d(n,a),d(a,s),d(s,i),d(s,_),d(s,u),d(s,f),d(s,k),d(a,V),d(a,E),d(E,K),d(E,Z),d(E,B),d(E,G),d(E,X),d(E,be),d(n,U),C(b,n,null),d(t,Y),d(t,te),fe&&fe.m(te,null),d(te,ne),d(te,ie),d(ie,re),d(re,he),C($e,he,null),d(he,we),C(ae,he,null),d(re,q),C(le,re,null),d(ie,ve),x&&x.m(ie,null),d(ie,se),d(ie,ee),C(Ne,ee,null),d(ie,Ee),me&&me.m(ie,null),d(t,Ce),d(t,Ie),C(ce,Ie,null),d(Ie,ke),C(Ve,Ie,null),de=!0},p(z,y){(!de||y[0]&262144)&&o!==(o=(z[18]("lines.title")||"Line Configuration")+"")&&_e(i,o),(!de||y[0]&262144)&&r!==(r=z[18]("phone.number")+"")&&_e(u,r),(!de||y[0]&16)&&m!==(m=z[4].phone_number+"")&&_e(k,m),(!de||y[0]&262144)&&R!==(R=(z[18]("lines.description")||"Manage additional lines for this phone.")+"")&&_e(K,R),(!de||y[0]&1)&&A!==(A=z[0].length+"")&&_e(B,A),(!de||y[0]&4)&&Q!==(Q=(z[2]||"∞")+"")&&_e(X,Q);const Se={};y[2]&16384&&(Se.$$scope={dirty:y,ctx:z}),b.$set(Se),z[9]?fe?(fe.p(z,y),y[0]&512&&g(fe,1)):(fe=zt(z),fe.c(),g(fe,1),fe.m(te,ne)):fe&&(Ye(),h(fe,1,1,()=>{fe=null}),Ze());const ge={};y[0]&262144&&(ge.placeholder=z[18]("common.search")||"Search..."),!Fe&&y[0]&128&&(Fe=!0,ge.value=z[7],Te(()=>Fe=!1)),ae.$set(ge);const pe={};y[0]&1024&&(pe.disabled=!!z[10]),y[0]&262144|y[2]&16384&&(pe.$$scope={dirty:y,ctx:z}),le.$set(pe),z[10]?x?(x.p(z,y),y[0]&1024&&g(x,1)):(x=Ut(z),x.c(),g(x,1),x.m(ie,se)):x&&(Ye(),h(x,1,1,()=>{x=null}),Ze());const ye={};y[0]&328768|y[2]&16384&&(ye.$$scope={dirty:y,ctx:z}),Ne.$set(ye),z[17]>1?me?(me.p(z,y),y[0]&131072&&g(me,1)):(me=Zt(z),me.c(),g(me,1),me.m(ie,null)):me&&(Ye(),h(me,1,1,()=>{me=null}),Ze());const Me={};y[0]&262144|y[2]&16384&&(Me.$$scope={dirty:y,ctx:z}),ce.$set(Me);const Re={};y[2]&16384&&(Re.$$scope={dirty:y,ctx:z}),Ve.$set(Re)},i(z){de||(g(b.$$.fragment,z),g(fe),g($e.$$.fragment,z),g(ae.$$.fragment,z),g(le.$$.fragment,z),g(x),g(Ne.$$.fragment,z),g(me),g(ce.$$.fragment,z),g(Ve.$$.fragment,z),de=!0)},o(z){h(b.$$.fragment,z),h(fe),h($e.$$.fragment,z),h(ae.$$.fragment,z),h(le.$$.fragment,z),h(x),h(Ne.$$.fragment,z),h(me),h(ce.$$.fragment,z),h(Ve.$$.fragment,z),de=!1},d(z){z&&c(e),I(b),fe&&fe.d(),I($e),I(ae),I(le),x&&x.d(),I(Ne),me&&me.d(),I(ce),I(Ve)}}}function Qn(l){let e,t;return e=new wn({props:{class:"h-4 w-4"}}),{c(){N(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,a){C(e,n,a),t=!0},p:ht,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zt(l){let e,t,n,a,s,o,i,_,r,u=l[15]&&Jt(l),f=l[13]&&yt();return{c(){e=O("div"),t=O("div"),n=O("img"),s=S(),u&&u.c(),o=S(),f&&f.c(),this.h()},l(m){e=L(m,"DIV",{class:!0});var k=J(e);t=L(k,"DIV",{class:!0});var V=J(t);n=L(V,"IMG",{src:!0,alt:!0,class:!0}),s=P(V),u&&u.l(V),V.forEach(c),o=P(k),f&&f.l(k),k.forEach(c),this.h()},h(){Kt(n.src,a=l[9])||M(n,"src",a),M(n,"alt","Phone"),M(n,"class","max-w-full max-h-full object-contain"),M(t,"class","relative w-full h-full flex items-center justify-center"),M(e,"class","w-1/3 bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4 border dark:border-slate-700 relative overflow-hidden")},m(m,k){v(m,e,k),d(e,t),d(t,n),d(t,s),u&&u.m(t,null),d(e,o),f&&f.m(e,null),i=!0,_||(r=ft(n,"error",l[35]),_=!0)},p(m,k){(!i||k[0]&512&&!Kt(n.src,a=m[9]))&&M(n,"src",a),m[15]?u?(u.p(m,k),k[0]&32768&&g(u,1)):(u=Jt(m),u.c(),g(u,1),u.m(t,null)):u&&(Ye(),h(u,1,1,()=>{u=null}),Ze()),m[13]?f||(f=yt(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(m){i||(g(u),i=!0)},o(m){h(u),i=!1},d(m){m&&c(e),u&&u.d(),f&&f.d(),_=!1,r()}}}function Jt(l){let e,t,n,a,s,o;return s=new Rn({props:{class:"h-8 w-8 text-red-600 drop-shadow-[0_0_5px_rgba(255,255,255,0.8)]"}}),{c(){e=O("div"),t=O("div"),n=O("div"),a=S(),N(s.$$.fragment),this.h()},l(i){e=L(i,"DIV",{class:!0,style:!0});var _=J(e);t=L(_,"DIV",{class:!0});var r=J(t);n=L(r,"DIV",{class:!0}),J(n).forEach(c),a=P(r),D(s.$$.fragment,r),r.forEach(c),_.forEach(c),this.h()},h(){M(n,"class","absolute inset-0 rounded-full border-4 border-red-500 animate-ping opacity-75"),M(t,"class","relative"),M(e,"class","absolute pointer-events-none flex items-center justify-center"),bt(e,"left",l[15].x+"px"),bt(e,"top",l[15].y+"px"),bt(e,"transform","translate(-50%, -50%)")},m(i,_){v(i,e,_),d(e,t),d(t,n),d(t,a),C(s,t,null),o=!0},p(i,_){(!o||_[0]&32768)&&bt(e,"left",i[15].x+"px"),(!o||_[0]&32768)&&bt(e,"top",i[15].y+"px")},i(i){o||(g(s.$$.fragment,i),o=!0)},o(i){h(s.$$.fragment,i),o=!1},d(i){i&&c(e),I(s)}}}function yt(l){let e,t='<span class="text-sm text-muted-foreground">Image not found</span>';return{c(){e=O("div"),e.innerHTML=t,this.h()},l(n){e=L(n,"DIV",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1ryl1u5"&&(e.innerHTML=t),this.h()},h(){M(e,"class","absolute inset-0 flex items-center justify-center bg-muted/50")},m(n,a){v(n,e,a)},d(n){n&&c(e)}}}function Gn(l){let e,t,n=(l[18]("common.add")||"Add Line")+"",a,s;return e=new Jn({props:{class:"mr-2 h-4 w-4"}}),{c(){N(e.$$.fragment),t=S(),a=H(n)},l(o){D(e.$$.fragment,o),t=P(o),a=F(o,n)},m(o,i){C(e,o,i),v(o,t,i),v(o,a,i),s=!0},p(o,i){(!s||i[0]&262144)&&n!==(n=(o[18]("common.add")||"Add Line")+"")&&_e(a,n)},i(o){s||(g(e.$$.fragment,o),s=!0)},o(o){h(e.$$.fragment,o),s=!1},d(o){o&&(c(t),c(a)),I(e,o)}}}function Ut(l){let e,t,n=(l[12]?l[18]("lines.edit_item")||"Edit Item":l[18]("lines.new_item")||"New Item")+"",a,s,o,i,_,r,u,f,m="Line",k,V="Free",E,R="Top Softkey",K,Z="Softkey",A,B="Bottom Key",G,Q,X,be,U,b,Y,te,ne,ie,re,he,$e,we,ae,Fe,q,le,ve,se,ee,Ne,Ee,Ce,Ie,ce,ke,Ve,de,fe,tt,Pe,x,me,z;_=new De({props:{$$slots:{default:[Xn]},$$scope:{ctx:l}}});let y=l[1]>0&&Bt();X=new De({props:{$$slots:{default:[Wn]},$$scope:{ctx:l}}});function Se(w){l[38](w)}let ge={type:"number"};l[10].account_number!==void 0&&(ge.value=l[10].account_number),U=new Ae({props:ge}),Oe.push(()=>qe(U,"value",Se)),ne=new De({props:{$$slots:{default:[Yn]},$$scope:{ctx:l}}});function pe(w){l[39](w)}let ye={type:"number",min:"0",max:l[4].expansion_modules_count||0};l[10].panel_number!==void 0&&(ye.value=l[10].panel_number),re=new Ae({props:ye}),Oe.push(()=>qe(re,"value",pe)),ae=new De({props:{$$slots:{default:[Zn]},$$scope:{ctx:l}}});function Me(w){l[40](w)}let Re={type:"number",min:"1"};l[10].key_number!==void 0&&(Re.value=l[10].key_number),q=new Ae({props:Re}),Oe.push(()=>qe(q,"value",Me));const He=[el,xn],ze=[];function We(w,W){return w[10].type==="Line"?0:1}se=We(l),ee=ze[se]=He[se](l),Ce=new De({props:{$$slots:{default:[hl]},$$scope:{ctx:l}}});function T(w){l[56](w)}let p={};return l[11].description!==void 0&&(p.value=l[11].description),ce=new Ae({props:p}),Oe.push(()=>qe(ce,"value",T)),fe=new ot({props:{variant:"outline",size:"sm",$$slots:{default:[vl]},$$scope:{ctx:l}}}),fe.$on("click",l[24]),Pe=new ot({props:{size:"sm",$$slots:{default:[bl]},$$scope:{ctx:l}}}),Pe.$on("click",l[22]),{c(){e=O("div"),t=O("h3"),a=H(n),s=S(),o=O("div"),i=O("div"),N(_.$$.fragment),r=S(),u=O("select"),f=O("option"),f.textContent=m,k=O("option"),k.textContent=V,E=O("option"),E.textContent=R,K=O("option"),K.textContent=Z,A=O("option"),A.textContent=B,y&&y.c(),G=S(),Q=O("div"),N(X.$$.fragment),be=S(),N(U.$$.fragment),Y=S(),te=O("div"),N(ne.$$.fragment),ie=S(),N(re.$$.fragment),$e=S(),we=O("div"),N(ae.$$.fragment),Fe=S(),N(q.$$.fragment),ve=S(),ee.c(),Ne=S(),Ee=O("div"),N(Ce.$$.fragment),Ie=S(),N(ce.$$.fragment),Ve=S(),de=O("div"),N(fe.$$.fragment),tt=S(),N(Pe.$$.fragment),this.h()},l(w){e=L(w,"DIV",{class:!0});var W=J(e);t=L(W,"H3",{class:!0});var Ue=J(t);a=F(Ue,n),Ue.forEach(c),s=P(W),o=L(W,"DIV",{class:!0});var $=J(o);i=L($,"DIV",{class:!0});var j=J(i);D(_.$$.fragment,j),r=P(j),u=L(j,"SELECT",{class:!0});var oe=J(u);f=L(oe,"OPTION",{"data-svelte-h":!0}),at(f)!=="svelte-2o17mu"&&(f.textContent=m),k=L(oe,"OPTION",{"data-svelte-h":!0}),at(k)!=="svelte-11jave"&&(k.textContent=V),E=L(oe,"OPTION",{"data-svelte-h":!0}),at(E)!=="svelte-l7w35u"&&(E.textContent=R),K=L(oe,"OPTION",{"data-svelte-h":!0}),at(K)!=="svelte-7aud1k"&&(K.textContent=Z),A=L(oe,"OPTION",{"data-svelte-h":!0}),at(A)!=="svelte-1yy47b6"&&(A.textContent=B),y&&y.l(oe),oe.forEach(c),j.forEach(c),G=P($),Q=L($,"DIV",{class:!0});var Ke=J(Q);D(X.$$.fragment,Ke),be=P(Ke),D(U.$$.fragment,Ke),Ke.forEach(c),Y=P($),te=L($,"DIV",{class:!0});var Le=J(te);D(ne.$$.fragment,Le),ie=P(Le),D(re.$$.fragment,Le),Le.forEach(c),$e=P($),we=L($,"DIV",{class:!0});var Qe=J(we);D(ae.$$.fragment,Qe),Fe=P(Qe),D(q.$$.fragment,Qe),Qe.forEach(c),$.forEach(c),ve=P(W),ee.l(W),Ne=P(W),Ee=L(W,"DIV",{class:!0});var Je=J(Ee);D(Ce.$$.fragment,Je),Ie=P(Je),D(ce.$$.fragment,Je),Je.forEach(c),Ve=P(W),de=L(W,"DIV",{class:!0});var Be=J(de);D(fe.$$.fragment,Be),tt=P(Be),D(Pe.$$.fragment,Be),Be.forEach(c),W.forEach(c),this.h()},h(){M(t,"class","font-semibold text-lg border-b pb-2 mb-4"),f.__value="Line",je(f,f.__value),k.__value="Free",je(k,k.__value),E.__value="topsoftkey",je(E,E.__value),K.__value="softkey",je(K,K.__value),A.__value="bottomkey",je(A,A.__value),M(u,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"),l[10].type===void 0&&vt(()=>l[37].call(u)),M(i,"class","space-y-2"),M(Q,"class","space-y-2"),M(te,"class","space-y-2"),M(we,"class","space-y-2"),M(o,"class","grid grid-cols-3 gap-4"),M(Ee,"class","space-y-2"),M(de,"class","flex justify-end gap-2"),M(e,"class","border-2 rounded-lg p-6 bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 shadow-md space-y-4")},m(w,W){v(w,e,W),d(e,t),d(t,a),d(e,s),d(e,o),d(o,i),C(_,i,null),d(i,r),d(i,u),d(u,f),d(u,k),d(u,E),d(u,K),d(u,A),y&&y.m(u,null),et(u,l[10].type,!0),d(o,G),d(o,Q),C(X,Q,null),d(Q,be),C(U,Q,null),d(o,Y),d(o,te),C(ne,te,null),d(te,ie),C(re,te,null),d(o,$e),d(o,we),C(ae,we,null),d(we,Fe),C(q,we,null),d(e,ve),ze[se].m(e,null),d(e,Ne),d(e,Ee),C(Ce,Ee,null),d(Ee,Ie),C(ce,Ee,null),d(e,Ve),d(e,de),C(fe,de,null),d(de,tt),C(Pe,de,null),x=!0,me||(z=ft(u,"change",l[37]),me=!0)},p(w,W){(!x||W[0]&266240)&&n!==(n=(w[12]?w[18]("lines.edit_item")||"Edit Item":w[18]("lines.new_item")||"New Item")+"")&&_e(a,n);const Ue={};W[2]&16384&&(Ue.$$scope={dirty:W,ctx:w}),_.$set(Ue),w[1]>0?y||(y=Bt(),y.c(),y.m(u,null)):y&&(y.d(1),y=null),W[0]&1024&&et(u,w[10].type);const $={};W[2]&16384&&($.$$scope={dirty:W,ctx:w}),X.$set($);const j={};!b&&W[0]&1024&&(b=!0,j.value=w[10].account_number,Te(()=>b=!1)),U.$set(j);const oe={};W[2]&16384&&(oe.$$scope={dirty:W,ctx:w}),ne.$set(oe);const Ke={};W[0]&16&&(Ke.max=w[4].expansion_modules_count||0),!he&&W[0]&1024&&(he=!0,Ke.value=w[10].panel_number,Te(()=>he=!1)),re.$set(Ke);const Le={};W[2]&16384&&(Le.$$scope={dirty:W,ctx:w}),ae.$set(Le);const Qe={};!le&&W[0]&1024&&(le=!0,Qe.value=w[10].key_number,Te(()=>le=!1)),q.$set(Qe);let Je=se;se=We(w),se===Je?ze[se].p(w,W):(Ye(),h(ze[Je],1,1,()=>{ze[Je]=null}),Ze(),ee=ze[se],ee?ee.p(w,W):(ee=ze[se]=He[se](w),ee.c()),g(ee,1),ee.m(e,Ne));const Be={};W[2]&16384&&(Be.$$scope={dirty:W,ctx:w}),Ce.$set(Be);const nt={};!ke&&W[0]&2048&&(ke=!0,nt.value=w[11].description,Te(()=>ke=!1)),ce.$set(nt);const lt={};W[0]&262144|W[2]&16384&&(lt.$$scope={dirty:W,ctx:w}),fe.$set(lt);const st={};W[2]&16384&&(st.$$scope={dirty:W,ctx:w}),Pe.$set(st)},i(w){x||(g(_.$$.fragment,w),g(X.$$.fragment,w),g(U.$$.fragment,w),g(ne.$$.fragment,w),g(re.$$.fragment,w),g(ae.$$.fragment,w),g(q.$$.fragment,w),g(ee),g(Ce.$$.fragment,w),g(ce.$$.fragment,w),g(fe.$$.fragment,w),g(Pe.$$.fragment,w),x=!0)},o(w){h(_.$$.fragment,w),h(X.$$.fragment,w),h(U.$$.fragment,w),h(ne.$$.fragment,w),h(re.$$.fragment,w),h(ae.$$.fragment,w),h(q.$$.fragment,w),h(ee),h(Ce.$$.fragment,w),h(ce.$$.fragment,w),h(fe.$$.fragment,w),h(Pe.$$.fragment,w),x=!1},d(w){w&&c(e),I(_),y&&y.d(),I(X),I(U),I(ne),I(re),I(ae),I(q),ze[se].d(),I(Ce),I(ce),I(fe),I(Pe),me=!1,z()}}}function Xn(l){let e;return{c(){e=H("Type")},l(t){e=F(t,"Type")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Bt(l){let e,t="Hard Key";return{c(){e=O("option"),e.textContent=t,this.h()},l(n){e=L(n,"OPTION",{"data-svelte-h":!0}),at(e)!=="svelte-117502b"&&(e.textContent=t),this.h()},h(){e.__value="hard_key",je(e,e.__value)},m(n,a){v(n,e,a)},d(n){n&&c(e)}}}function Wn(l){let e;return{c(){e=H("Account #")},l(t){e=F(t,"Account #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Yn(l){let e;return{c(){e=H("Panel #")},l(t){e=F(t,"Panel #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Zn(l){let e;return{c(){e=H("Key #")},l(t){e=F(t,"Key #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function xn(l){let e,t,n,a,s,o,i="Custom",_,r,u,f,m,k;n=new De({props:{$$slots:{default:[tl]},$$scope:{ctx:l}}});let V=Ge(l[14]),E=[];for(let A=0;A<V.length;A+=1)E[A]=Rt(Ft(l,V,A));const R=[ll,nl],K=[];function Z(A,B){return A[11].type&&A[11].type!=="custom"?0:A[11].type==="custom"?1:-1}return~(r=Z(l))&&(u=K[r]=R[r](l)),{c(){e=O("div"),t=O("div"),N(n.$$.fragment),a=S(),s=O("select");for(let A=0;A<E.length;A+=1)E[A].c();o=O("option"),o.textContent=i,_=S(),u&&u.c(),this.h()},l(A){e=L(A,"DIV",{class:!0});var B=J(e);t=L(B,"DIV",{class:!0});var G=J(t);D(n.$$.fragment,G),a=P(G),s=L(G,"SELECT",{class:!0});var Q=J(s);for(let X=0;X<E.length;X+=1)E[X].l(Q);o=L(Q,"OPTION",{"data-svelte-h":!0}),at(o)!=="svelte-1k1i290"&&(o.textContent=i),Q.forEach(c),G.forEach(c),_=P(B),u&&u.l(B),B.forEach(c),this.h()},h(){o.__value="custom",je(o,o.__value),M(s,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"),l[11].type===void 0&&vt(()=>l[49].call(s)),M(t,"class","space-y-2"),M(e,"class","col-span-3 space-y-4")},m(A,B){v(A,e,B),d(e,t),C(n,t,null),d(t,a),d(t,s);for(let G=0;G<E.length;G+=1)E[G]&&E[G].m(s,null);d(s,o),et(s,l[11].type,!0),d(e,_),~r&&K[r].m(e,null),f=!0,m||(k=ft(s,"change",l[49]),m=!0)},p(A,B){const G={};if(B[2]&16384&&(G.$$scope={dirty:B,ctx:A}),n.$set(G),B[0]&16384){V=Ge(A[14]);let X;for(X=0;X<V.length;X+=1){const be=Ft(A,V,X);E[X]?E[X].p(be,B):(E[X]=Rt(be),E[X].c(),E[X].m(s,o))}for(;X<E.length;X+=1)E[X].d(1);E.length=V.length}B[0]&18432&&et(s,A[11].type);let Q=r;r=Z(A),r===Q?~r&&K[r].p(A,B):(u&&(Ye(),h(K[Q],1,1,()=>{K[Q]=null}),Ze()),~r?(u=K[r],u?u.p(A,B):(u=K[r]=R[r](A),u.c()),g(u,1),u.m(e,null)):u=null)},i(A){f||(g(n.$$.fragment,A),g(u),f=!0)},o(A){h(n.$$.fragment,A),h(u),f=!1},d(A){A&&c(e),I(n),pt(E,A),~r&&K[r].d(),m=!1,k()}}}function el(l){let e,t,n,a,s,o,i,_,r,u,f,m,k,V,E,R,K,Z,A,B,G,Q,X,be,U,b,Y,te,ne,ie,re,he,$e,we,ae,Fe,q,le,ve,se,ee,Ne,Ee,Ce,Ie,ce,ke,Ve,de;n=new De({props:{$$slots:{default:[ul]},$$scope:{ctx:l}}});function fe(T){l[41](T)}let tt={};l[11].line_number!==void 0&&(tt.value=l[11].line_number),s=new Ae({props:tt}),Oe.push(()=>qe(s,"value",fe)),r=new De({props:{$$slots:{default:[_l]},$$scope:{ctx:l}}});function Pe(T){l[42](T)}let x={};l[11].display_name!==void 0&&(x.value=l[11].display_name),f=new Ae({props:x}),Oe.push(()=>qe(f,"value",Pe)),E=new De({props:{$$slots:{default:[cl]},$$scope:{ctx:l}}});function me(T){l[43](T)}let z={};l[11].user_name!==void 0&&(z.value=l[11].user_name),K=new Ae({props:z}),Oe.push(()=>qe(K,"value",me)),G=new De({props:{$$slots:{default:[pl]},$$scope:{ctx:l}}});function y(T){l[44](T)}let Se={};l[11].auth_name!==void 0&&(Se.value=l[11].auth_name),X=new Ae({props:Se}),Oe.push(()=>qe(X,"value",y)),Y=new De({props:{$$slots:{default:[ml]},$$scope:{ctx:l}}});function ge(T){l[45](T)}let pe={type:"password"};l[11].password!==void 0&&(pe.value=l[11].password),ne=new Ae({props:pe}),Oe.push(()=>qe(ne,"value",ge)),$e=new De({props:{$$slots:{default:[$l]},$$scope:{ctx:l}}});function ye(T){l[46](T)}let Me={};l[11].screen_name!==void 0&&(Me.value=l[11].screen_name),ae=new Ae({props:Me}),Oe.push(()=>qe(ae,"value",ye)),ve=new De({props:{$$slots:{default:[dl]},$$scope:{ctx:l}}});function Re(T){l[47](T)}let He={};l[11].registrar1_ip!==void 0&&(He.value=l[11].registrar1_ip),ee=new Ae({props:He}),Oe.push(()=>qe(ee,"value",Re)),Ie=new De({props:{$$slots:{default:[gl]},$$scope:{ctx:l}}});function ze(T){l[48](T)}let We={};return l[11].registrar1_port!==void 0&&(We.value=l[11].registrar1_port),ke=new Ae({props:We}),Oe.push(()=>qe(ke,"value",ze)),{c(){e=O("div"),t=O("div"),N(n.$$.fragment),a=S(),N(s.$$.fragment),i=S(),_=O("div"),N(r.$$.fragment),u=S(),N(f.$$.fragment),k=S(),V=O("div"),N(E.$$.fragment),R=S(),N(K.$$.fragment),A=S(),B=O("div"),N(G.$$.fragment),Q=S(),N(X.$$.fragment),U=S(),b=O("div"),N(Y.$$.fragment),te=S(),N(ne.$$.fragment),re=S(),he=O("div"),N($e.$$.fragment),we=S(),N(ae.$$.fragment),q=S(),le=O("div"),N(ve.$$.fragment),se=S(),N(ee.$$.fragment),Ee=S(),Ce=O("div"),N(Ie.$$.fragment),ce=S(),N(ke.$$.fragment),this.h()},l(T){e=L(T,"DIV",{class:!0});var p=J(e);t=L(p,"DIV",{class:!0});var w=J(t);D(n.$$.fragment,w),a=P(w),D(s.$$.fragment,w),w.forEach(c),i=P(p),_=L(p,"DIV",{class:!0});var W=J(_);D(r.$$.fragment,W),u=P(W),D(f.$$.fragment,W),W.forEach(c),k=P(p),V=L(p,"DIV",{class:!0});var Ue=J(V);D(E.$$.fragment,Ue),R=P(Ue),D(K.$$.fragment,Ue),Ue.forEach(c),A=P(p),B=L(p,"DIV",{class:!0});var $=J(B);D(G.$$.fragment,$),Q=P($),D(X.$$.fragment,$),$.forEach(c),U=P(p),b=L(p,"DIV",{class:!0});var j=J(b);D(Y.$$.fragment,j),te=P(j),D(ne.$$.fragment,j),j.forEach(c),re=P(p),he=L(p,"DIV",{class:!0});var oe=J(he);D($e.$$.fragment,oe),we=P(oe),D(ae.$$.fragment,oe),oe.forEach(c),q=P(p),le=L(p,"DIV",{class:!0});var Ke=J(le);D(ve.$$.fragment,Ke),se=P(Ke),D(ee.$$.fragment,Ke),Ke.forEach(c),Ee=P(p),Ce=L(p,"DIV",{class:!0});var Le=J(Ce);D(Ie.$$.fragment,Le),ce=P(Le),D(ke.$$.fragment,Le),Le.forEach(c),p.forEach(c),this.h()},h(){M(t,"class","space-y-2"),M(_,"class","space-y-2"),M(V,"class","space-y-2"),M(B,"class","space-y-2"),M(b,"class","space-y-2"),M(he,"class","space-y-2"),M(le,"class","space-y-2"),M(Ce,"class","space-y-2"),M(e,"class","grid grid-cols-2 gap-4")},m(T,p){v(T,e,p),d(e,t),C(n,t,null),d(t,a),C(s,t,null),d(e,i),d(e,_),C(r,_,null),d(_,u),C(f,_,null),d(e,k),d(e,V),C(E,V,null),d(V,R),C(K,V,null),d(e,A),d(e,B),C(G,B,null),d(B,Q),C(X,B,null),d(e,U),d(e,b),C(Y,b,null),d(b,te),C(ne,b,null),d(e,re),d(e,he),C($e,he,null),d(he,we),C(ae,he,null),d(e,q),d(e,le),C(ve,le,null),d(le,se),C(ee,le,null),d(e,Ee),d(e,Ce),C(Ie,Ce,null),d(Ce,ce),C(ke,Ce,null),de=!0},p(T,p){const w={};p[2]&16384&&(w.$$scope={dirty:p,ctx:T}),n.$set(w);const W={};!o&&p[0]&2048&&(o=!0,W.value=T[11].line_number,Te(()=>o=!1)),s.$set(W);const Ue={};p[2]&16384&&(Ue.$$scope={dirty:p,ctx:T}),r.$set(Ue);const $={};!m&&p[0]&2048&&(m=!0,$.value=T[11].display_name,Te(()=>m=!1)),f.$set($);const j={};p[2]&16384&&(j.$$scope={dirty:p,ctx:T}),E.$set(j);const oe={};!Z&&p[0]&2048&&(Z=!0,oe.value=T[11].user_name,Te(()=>Z=!1)),K.$set(oe);const Ke={};p[2]&16384&&(Ke.$$scope={dirty:p,ctx:T}),G.$set(Ke);const Le={};!be&&p[0]&2048&&(be=!0,Le.value=T[11].auth_name,Te(()=>be=!1)),X.$set(Le);const Qe={};p[2]&16384&&(Qe.$$scope={dirty:p,ctx:T}),Y.$set(Qe);const Je={};!ie&&p[0]&2048&&(ie=!0,Je.value=T[11].password,Te(()=>ie=!1)),ne.$set(Je);const Be={};p[2]&16384&&(Be.$$scope={dirty:p,ctx:T}),$e.$set(Be);const nt={};!Fe&&p[0]&2048&&(Fe=!0,nt.value=T[11].screen_name,Te(()=>Fe=!1)),ae.$set(nt);const lt={};p[2]&16384&&(lt.$$scope={dirty:p,ctx:T}),ve.$set(lt);const st={};!Ne&&p[0]&2048&&(Ne=!0,st.value=T[11].registrar1_ip,Te(()=>Ne=!1)),ee.$set(st);const rt={};p[2]&16384&&(rt.$$scope={dirty:p,ctx:T}),Ie.$set(rt);const it={};!Ve&&p[0]&2048&&(Ve=!0,it.value=T[11].registrar1_port,Te(()=>Ve=!1)),ke.$set(it)},i(T){de||(g(n.$$.fragment,T),g(s.$$.fragment,T),g(r.$$.fragment,T),g(f.$$.fragment,T),g(E.$$.fragment,T),g(K.$$.fragment,T),g(G.$$.fragment,T),g(X.$$.fragment,T),g(Y.$$.fragment,T),g(ne.$$.fragment,T),g($e.$$.fragment,T),g(ae.$$.fragment,T),g(ve.$$.fragment,T),g(ee.$$.fragment,T),g(Ie.$$.fragment,T),g(ke.$$.fragment,T),de=!0)},o(T){h(n.$$.fragment,T),h(s.$$.fragment,T),h(r.$$.fragment,T),h(f.$$.fragment,T),h(E.$$.fragment,T),h(K.$$.fragment,T),h(G.$$.fragment,T),h(X.$$.fragment,T),h(Y.$$.fragment,T),h(ne.$$.fragment,T),h($e.$$.fragment,T),h(ae.$$.fragment,T),h(ve.$$.fragment,T),h(ee.$$.fragment,T),h(Ie.$$.fragment,T),h(ke.$$.fragment,T),de=!1},d(T){T&&c(e),I(n),I(s),I(r),I(f),I(E),I(K),I(G),I(X),I(Y),I(ne),I($e),I(ae),I(ve),I(ee),I(Ie),I(ke)}}}function tl(l){let e;return{c(){e=H("Function")},l(t){e=F(t,"Function")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Rt(l){let e,t=l[73].name+"",n,a;return{c(){e=O("option"),n=H(t),this.h()},l(s){e=L(s,"OPTION",{});var o=J(e);n=F(o,t),o.forEach(c),this.h()},h(){e.__value=a=l[73].id,je(e,e.__value)},m(s,o){v(s,e,o),d(e,n)},p(s,o){o[0]&16384&&t!==(t=s[73].name+"")&&_e(n,t),o[0]&16416&&a!==(a=s[73].id)&&(e.__value=a,je(e,e.__value))},d(s){s&&c(e)}}}function nl(l){let e,t,n,a,s,o,i,_,r,u,f,m,k,V,E,R,K,Z,A;n=new De({props:{$$slots:{default:[sl]},$$scope:{ctx:l}}});function B(b){l[53](b)}let G={};l[11].label!==void 0&&(G.value=l[11].label),s=new Ae({props:G}),Oe.push(()=>qe(s,"value",B)),r=new De({props:{$$slots:{default:[al]},$$scope:{ctx:l}}});function Q(b){l[54](b)}let X={};l[11].value!==void 0&&(X.value=l[11].value),f=new Ae({props:X}),Oe.push(()=>qe(f,"value",Q)),E=new De({props:{$$slots:{default:[ol]},$$scope:{ctx:l}}});function be(b){l[55](b)}let U={placeholder:"e.g. blf"};return l[11].custom_type!==void 0&&(U.value=l[11].custom_type),K=new Ae({props:U}),Oe.push(()=>qe(K,"value",be)),{c(){e=O("div"),t=O("div"),N(n.$$.fragment),a=S(),N(s.$$.fragment),i=S(),_=O("div"),N(r.$$.fragment),u=S(),N(f.$$.fragment),k=S(),V=O("div"),N(E.$$.fragment),R=S(),N(K.$$.fragment),this.h()},l(b){e=L(b,"DIV",{class:!0});var Y=J(e);t=L(Y,"DIV",{class:!0});var te=J(t);D(n.$$.fragment,te),a=P(te),D(s.$$.fragment,te),te.forEach(c),i=P(Y),_=L(Y,"DIV",{class:!0});var ne=J(_);D(r.$$.fragment,ne),u=P(ne),D(f.$$.fragment,ne),ne.forEach(c),k=P(Y),V=L(Y,"DIV",{class:!0});var ie=J(V);D(E.$$.fragment,ie),R=P(ie),D(K.$$.fragment,ie),ie.forEach(c),Y.forEach(c),this.h()},h(){M(t,"class","space-y-2"),M(_,"class","space-y-2"),M(V,"class","space-y-2"),M(e,"class","grid grid-cols-2 gap-4")},m(b,Y){v(b,e,Y),d(e,t),C(n,t,null),d(t,a),C(s,t,null),d(e,i),d(e,_),C(r,_,null),d(_,u),C(f,_,null),d(e,k),d(e,V),C(E,V,null),d(V,R),C(K,V,null),A=!0},p(b,Y){const te={};Y[2]&16384&&(te.$$scope={dirty:Y,ctx:b}),n.$set(te);const ne={};!o&&Y[0]&2048&&(o=!0,ne.value=b[11].label,Te(()=>o=!1)),s.$set(ne);const ie={};Y[2]&16384&&(ie.$$scope={dirty:Y,ctx:b}),r.$set(ie);const re={};!m&&Y[0]&2048&&(m=!0,re.value=b[11].value,Te(()=>m=!1)),f.$set(re);const he={};Y[2]&16384&&(he.$$scope={dirty:Y,ctx:b}),E.$set(he);const $e={};!Z&&Y[0]&2048&&(Z=!0,$e.value=b[11].custom_type,Te(()=>Z=!1)),K.$set($e)},i(b){A||(g(n.$$.fragment,b),g(s.$$.fragment,b),g(r.$$.fragment,b),g(f.$$.fragment,b),g(E.$$.fragment,b),g(K.$$.fragment,b),A=!0)},o(b){h(n.$$.fragment,b),h(s.$$.fragment,b),h(r.$$.fragment,b),h(f.$$.fragment,b),h(E.$$.fragment,b),h(K.$$.fragment,b),A=!1},d(b){b&&c(e),I(n),I(s),I(r),I(f),I(E),I(K)}}}function ll(l){var o;let e,t,n=Ge(((o=l[14].find(l[50]))==null?void 0:o.params)||[]),a=[];for(let i=0;i<n.length;i+=1)a[i]=Xt(jt(l,n,i));const s=i=>h(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Xe()},l(i){for(let _=0;_<a.length;_+=1)a[_].l(i);e=Xe()},m(i,_){for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(i,_);v(i,e,_),t=!0},p(i,_){var r;if(_[0]&18464){n=Ge(((r=i[14].find(i[50]))==null?void 0:r.params)||[]);let u;for(u=0;u<n.length;u+=1){const f=jt(i,n,u);a[u]?(a[u].p(f,_),g(a[u],1)):(a[u]=Xt(f),a[u].c(),g(a[u],1),a[u].m(e.parentNode,e))}for(Ye(),u=n.length;u<a.length;u+=1)s(u);Ze()}},i(i){if(!t){for(let _=0;_<n.length;_+=1)g(a[_]);t=!0}},o(i){a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)h(a[_]);t=!1},d(i){i&&c(e),pt(a,i)}}}function sl(l){let e;return{c(){e=H("Label")},l(t){e=F(t,"Label")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function al(l){let e;return{c(){e=H("Value")},l(t){e=F(t,"Value")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function ol(l){let e;return{c(){e=H("Type")},l(t){e=F(t,"Type")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Qt(l){let e,t,n,a,s,o,i;t=new De({props:{$$slots:{default:[rl]},$$scope:{ctx:l}}});const _=[fl,il],r=[];function u(f,m){return f[68].type==="select"&&f[68].source==="lines"?0:1}return a=u(l),s=r[a]=_[a](l),{c(){e=O("div"),N(t.$$.fragment),n=S(),s.c(),o=S(),this.h()},l(f){e=L(f,"DIV",{class:!0});var m=J(e);D(t.$$.fragment,m),n=P(m),s.l(m),o=P(m),m.forEach(c),this.h()},h(){M(e,"class","space-y-2")},m(f,m){v(f,e,m),C(t,e,null),d(e,n),r[a].m(e,null),d(e,o),i=!0},p(f,m){const k={};m[0]&18432|m[2]&16384&&(k.$$scope={dirty:m,ctx:f}),t.$set(k);let V=a;a=u(f),a===V?r[a].p(f,m):(Ye(),h(r[V],1,1,()=>{r[V]=null}),Ze(),s=r[a],s?s.p(f,m):(s=r[a]=_[a](f),s.c()),g(s,1),s.m(e,o))},i(f){i||(g(t.$$.fragment,f),g(s),i=!0)},o(f){h(t.$$.fragment,f),h(s),i=!1},d(f){f&&c(e),I(t),r[a].d()}}}function rl(l){let e=l[68].label+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&18432&&e!==(e=n[68].label+"")&&_e(t,e)},d(n){n&&c(t)}}}function il(l){let e,t,n;function a(o){l[52](o,l[68])}let s={};return l[11][l[68].id]!==void 0&&(s.value=l[11][l[68].id]),e=new Ae({props:s}),Oe.push(()=>qe(e,"value",a)),{c(){N(e.$$.fragment)},l(o){D(e.$$.fragment,o)},m(o,i){C(e,o,i),n=!0},p(o,i){l=o;const _={};!t&&i[0]&18432&&(t=!0,_.value=l[11][l[68].id],Te(()=>t=!1)),e.$set(_)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){h(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function fl(l){let e,t,n="Select Line",a,s,o=Ge(l[5].filter(en)),i=[];for(let r=0;r<o.length;r+=1)i[r]=Gt(Mt(l,o,r));function _(){l[51].call(e,l[68])}return{c(){e=O("select"),t=O("option"),t.textContent=n;for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=L(r,"SELECT",{class:!0});var u=J(e);t=L(u,"OPTION",{"data-svelte-h":!0}),at(t)!=="svelte-1nnrcsq"&&(t.textContent=n);for(let f=0;f<i.length;f+=1)i[f].l(u);u.forEach(c),this.h()},h(){t.__value="",je(t,t.__value),M(e,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"),l[11][l[68].id]===void 0&&vt(_)},m(r,u){v(r,e,u),d(e,t);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);et(e,l[11][l[68].id],!0),a||(s=ft(e,"change",_),a=!0)},p(r,u){if(l=r,u[0]&32){o=Ge(l[5].filter(en));let f;for(f=0;f<o.length;f+=1){const m=Mt(l,o,f);i[f]?i[f].p(m,u):(i[f]=Gt(m),i[f].c(),i[f].m(e,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=o.length}u[0]&18464&&et(e,l[11][l[68].id])},i:ht,o:ht,d(r){r&&c(e),pt(i,r),a=!1,s()}}}function Gt(l){let e,t,n=l[65].account_number+"",a,s;return{c(){e=O("option"),t=H("Line "),a=H(n),this.h()},l(o){e=L(o,"OPTION",{});var i=J(e);t=F(i,"Line "),a=F(i,n),i.forEach(c),this.h()},h(){e.__value=s=l[65].account_number,je(e,e.__value)},m(o,i){v(o,e,i),d(e,t),d(e,a)},p(o,i){i[0]&32&&n!==(n=o[65].account_number+"")&&_e(a,n),i[0]&32&&s!==(s=o[65].account_number)&&(e.__value=s,je(e,e.__value))},d(o){o&&c(e)}}}function Xt(l){let e,t,n=l[68].type!=="hidden"&&Qt(l);return{c(){n&&n.c(),e=Xe()},l(a){n&&n.l(a),e=Xe()},m(a,s){n&&n.m(a,s),v(a,e,s),t=!0},p(a,s){a[68].type!=="hidden"?n?(n.p(a,s),s[0]&18432&&g(n,1)):(n=Qt(a),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Ye(),h(n,1,1,()=>{n=null}),Ze())},i(a){t||(g(n),t=!0)},o(a){h(n),t=!1},d(a){a&&c(e),n&&n.d(a)}}}function ul(l){let e;return{c(){e=H("Line Number")},l(t){e=F(t,"Line Number")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function _l(l){let e;return{c(){e=H("Display Name")},l(t){e=F(t,"Display Name")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function cl(l){let e;return{c(){e=H("User Name")},l(t){e=F(t,"User Name")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function pl(l){let e;return{c(){e=H("Auth Name")},l(t){e=F(t,"Auth Name")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function ml(l){let e;return{c(){e=H("Password")},l(t){e=F(t,"Password")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function $l(l){let e;return{c(){e=H("Screen Name")},l(t){e=F(t,"Screen Name")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function dl(l){let e;return{c(){e=H("Registrar 1 IP")},l(t){e=F(t,"Registrar 1 IP")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function gl(l){let e;return{c(){e=H("Registrar 1 Port")},l(t){e=F(t,"Registrar 1 Port")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function hl(l){let e;return{c(){e=H("Description")},l(t){e=F(t,"Description")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function vl(l){let e,t,n=(l[18]("common.cancel")||"Cancel")+"",a,s;return e=new wn({props:{class:"mr-2 h-4 w-4"}}),{c(){N(e.$$.fragment),t=S(),a=H(n)},l(o){D(e.$$.fragment,o),t=P(o),a=F(o,n)},m(o,i){C(e,o,i),v(o,t,i),v(o,a,i),s=!0},p(o,i){(!s||i[0]&262144)&&n!==(n=(o[18]("common.cancel")||"Cancel")+"")&&_e(a,n)},i(o){s||(g(e.$$.fragment,o),s=!0)},o(o){h(e.$$.fragment,o),s=!1},d(o){o&&(c(t),c(a)),I(e,o)}}}function bl(l){let e,t,n;return e=new Tn({props:{class:"mr-2 h-4 w-4"}}),{c(){N(e.$$.fragment),t=H(`
                                    OK`)},l(a){D(e.$$.fragment,a),t=F(a,`
                                    OK`)},m(a,s){C(e,a,s),v(a,t,s),n=!0},p:ht,i(a){n||(g(e.$$.fragment,a),n=!0)},o(a){h(e.$$.fragment,a),n=!1},d(a){a&&c(t),I(e,a)}}}function wl(l){let e;return{c(){e=H("Acc #")},l(t){e=F(t,"Acc #")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function kl(l){let e;return{c(){e=H("Panel / Key")},l(t){e=F(t,"Panel / Key")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function El(l){let e;return{c(){e=H("Type")},l(t){e=F(t,"Type")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Il(l){let e;return{c(){e=H("Description")},l(t){e=F(t,"Description")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Cl(l){let e;return{c(){e=H("Actions")},l(t){e=F(t,"Actions")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Dl(l){let e,t,n,a,s,o,i,_,r,u;return e=new wt({props:{class:"w-[80px]",$$slots:{default:[wl]},$$scope:{ctx:l}}}),n=new wt({props:{class:"w-[120px]",$$slots:{default:[kl]},$$scope:{ctx:l}}}),s=new wt({props:{class:"w-[100px]",$$slots:{default:[El]},$$scope:{ctx:l}}}),i=new wt({props:{$$slots:{default:[Il]},$$scope:{ctx:l}}}),r=new wt({props:{class:"text-right",$$slots:{default:[Cl]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment),t=S(),N(n.$$.fragment),a=S(),N(s.$$.fragment),o=S(),N(i.$$.fragment),_=S(),N(r.$$.fragment)},l(f){D(e.$$.fragment,f),t=P(f),D(n.$$.fragment,f),a=P(f),D(s.$$.fragment,f),o=P(f),D(i.$$.fragment,f),_=P(f),D(r.$$.fragment,f)},m(f,m){C(e,f,m),v(f,t,m),C(n,f,m),v(f,a,m),C(s,f,m),v(f,o,m),C(i,f,m),v(f,_,m),C(r,f,m),u=!0},p(f,m){const k={};m[2]&16384&&(k.$$scope={dirty:m,ctx:f}),e.$set(k);const V={};m[2]&16384&&(V.$$scope={dirty:m,ctx:f}),n.$set(V);const E={};m[2]&16384&&(E.$$scope={dirty:m,ctx:f}),s.$set(E);const R={};m[2]&16384&&(R.$$scope={dirty:m,ctx:f}),i.$set(R);const K={};m[2]&16384&&(K.$$scope={dirty:m,ctx:f}),r.$set(K)},i(f){u||(g(e.$$.fragment,f),g(n.$$.fragment,f),g(s.$$.fragment,f),g(i.$$.fragment,f),g(r.$$.fragment,f),u=!0)},o(f){h(e.$$.fragment,f),h(n.$$.fragment,f),h(s.$$.fragment,f),h(i.$$.fragment,f),h(r.$$.fragment,f),u=!1},d(f){f&&(c(t),c(a),c(o),c(_)),I(e,f),I(n,f),I(s,f),I(i,f),I(r,f)}}}function Nl(l){let e,t;return e=new Tt({props:{$$slots:{default:[Dl]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,a){C(e,n,a),t=!0},p(n,a){const s={};a[2]&16384&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vl(l){let e=l[65].account_number+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&65536&&e!==(e=n[65].account_number+"")&&_e(t,e)},d(n){n&&c(t)}}}function Pl(l){let e=l[65].panel_number===0?"Main":`Exp ${l[65].panel_number}`,t,n,a=l[65].key_number+"",s;return{c(){t=H(e),n=H(" / "),s=H(a)},l(o){t=F(o,e),n=F(o," / "),s=F(o,a)},m(o,i){v(o,t,i),v(o,n,i),v(o,s,i)},p(o,i){i[0]&65536&&e!==(e=o[65].panel_number===0?"Main":`Exp ${o[65].panel_number}`)&&_e(t,e),i[0]&65536&&a!==(a=o[65].key_number+"")&&_e(s,a)},d(o){o&&(c(t),c(n),c(s))}}}function Sl(l){let e,t=l[65].type.replace("_"," ")+"",n;return{c(){e=O("span"),n=H(t),this.h()},l(a){e=L(a,"SPAN",{class:!0});var s=J(e);n=F(s,t),s.forEach(c),this.h()},h(){M(e,"class","capitalize text-xs font-semibold px-2 py-1 rounded bg-muted")},m(a,s){v(a,e,s),d(e,n)},p(a,s){s[0]&65536&&t!==(t=a[65].type.replace("_"," ")+"")&&_e(n,t)},d(a){a&&c(e)}}}function Ll(l){let e=xt(l[65])+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&65536&&e!==(e=xt(n[65])+"")&&_e(t,e)},d(n){n&&c(t)}}}function Ol(l){let e,t;return e=new Mn({props:{class:"h-4 w-4"}}),{c(){N(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,a){C(e,n,a),t=!0},p:ht,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tl(l){let e,t;return e=new On({props:{class:"h-4 w-4"}}),{c(){N(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,a){C(e,n,a),t=!0},p:ht,i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ql(l){let e,t,n,a,s;function o(..._){return l[57](l[65],..._)}t=new ot({props:{variant:"ghost",size:"icon",disabled:!!l[10],$$slots:{default:[Ol]},$$scope:{ctx:l}}}),t.$on("click",o);function i(..._){return l[58](l[65],..._)}return a=new ot({props:{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive hover:bg-destructive/10",disabled:!!l[10],$$slots:{default:[Tl]},$$scope:{ctx:l}}}),a.$on("click",i),{c(){e=O("div"),N(t.$$.fragment),n=S(),N(a.$$.fragment),this.h()},l(_){e=L(_,"DIV",{class:!0});var r=J(e);D(t.$$.fragment,r),n=P(r),D(a.$$.fragment,r),r.forEach(c),this.h()},h(){M(e,"class","flex justify-end gap-1")},m(_,r){v(_,e,r),C(t,e,null),d(e,n),C(a,e,null),s=!0},p(_,r){l=_;const u={};r[0]&1024&&(u.disabled=!!l[10]),r[2]&16384&&(u.$$scope={dirty:r,ctx:l}),t.$set(u);const f={};r[0]&1024&&(f.disabled=!!l[10]),r[2]&16384&&(f.$$scope={dirty:r,ctx:l}),a.$set(f)},i(_){s||(g(t.$$.fragment,_),g(a.$$.fragment,_),s=!0)},o(_){h(t.$$.fragment,_),h(a.$$.fragment,_),s=!1},d(_){_&&c(e),I(t),I(a)}}}function Kl(l){let e,t,n,a,s,o,i,_,r,u;return e=new mt({props:{class:"font-medium",$$slots:{default:[Vl]},$$scope:{ctx:l}}}),n=new mt({props:{$$slots:{default:[Pl]},$$scope:{ctx:l}}}),s=new mt({props:{$$slots:{default:[Sl]},$$scope:{ctx:l}}}),i=new mt({props:{$$slots:{default:[Ll]},$$scope:{ctx:l}}}),r=new mt({props:{class:"text-right",$$slots:{default:[ql]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment),t=S(),N(n.$$.fragment),a=S(),N(s.$$.fragment),o=S(),N(i.$$.fragment),_=S(),N(r.$$.fragment)},l(f){D(e.$$.fragment,f),t=P(f),D(n.$$.fragment,f),a=P(f),D(s.$$.fragment,f),o=P(f),D(i.$$.fragment,f),_=P(f),D(r.$$.fragment,f)},m(f,m){C(e,f,m),v(f,t,m),C(n,f,m),v(f,a,m),C(s,f,m),v(f,o,m),C(i,f,m),v(f,_,m),C(r,f,m),u=!0},p(f,m){const k={};m[0]&65536|m[2]&16384&&(k.$$scope={dirty:m,ctx:f}),e.$set(k);const V={};m[0]&65536|m[2]&16384&&(V.$$scope={dirty:m,ctx:f}),n.$set(V);const E={};m[0]&65536|m[2]&16384&&(E.$$scope={dirty:m,ctx:f}),s.$set(E);const R={};m[0]&65536|m[2]&16384&&(R.$$scope={dirty:m,ctx:f}),i.$set(R);const K={};m[0]&66560|m[2]&16384&&(K.$$scope={dirty:m,ctx:f}),r.$set(K)},i(f){u||(g(e.$$.fragment,f),g(n.$$.fragment,f),g(s.$$.fragment,f),g(i.$$.fragment,f),g(r.$$.fragment,f),u=!0)},o(f){h(e.$$.fragment,f),h(n.$$.fragment,f),h(s.$$.fragment,f),h(i.$$.fragment,f),h(r.$$.fragment,f),u=!1},d(f){f&&(c(t),c(a),c(o),c(_)),I(e,f),I(n,f),I(s,f),I(i,f),I(r,f)}}}function Wt(l){let e,t;function n(){return l[59](l[65])}return e=new Tt({props:{class:"cursor-pointer transition-colors "+(l[6]===l[65]?"bg-blue-50 dark:bg-blue-900/20":""),$$slots:{default:[Kl]},$$scope:{ctx:l}}}),e.$on("click",n),{c(){N(e.$$.fragment)},l(a){D(e.$$.fragment,a)},m(a,s){C(e,a,s),t=!0},p(a,s){l=a;const o={};s[0]&65600&&(o.class="cursor-pointer transition-colors "+(l[6]===l[65]?"bg-blue-50 dark:bg-blue-900/20":"")),s[0]&66560|s[2]&16384&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(a){t||(g(e.$$.fragment,a),t=!0)},o(a){h(e.$$.fragment,a),t=!1},d(a){I(e,a)}}}function Yt(l){let e,t;return e=new Tt({props:{$$slots:{default:[jl]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,a){C(e,n,a),t=!0},p(n,a){const s={};a[0]&262144|a[2]&16384&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Al(l){let e=(l[18]("common.no_results")||"No lines configured.")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&262144&&e!==(e=(n[18]("common.no_results")||"No lines configured.")+"")&&_e(t,e)},d(n){n&&c(t)}}}function jl(l){let e,t;return e=new mt({props:{colspan:5,class:"text-center py-8 text-muted-foreground",$$slots:{default:[Al]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,a){C(e,n,a),t=!0},p(n,a){const s={};a[0]&262144|a[2]&16384&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ml(l){let e,t,n,a=Ge(l[16]),s=[];for(let _=0;_<a.length;_+=1)s[_]=Wt(At(l,a,_));const o=_=>h(s[_],1,1,()=>{s[_]=null});let i=l[16].length===0&&Yt(l);return{c(){for(let _=0;_<s.length;_+=1)s[_].c();e=S(),i&&i.c(),t=Xe()},l(_){for(let r=0;r<s.length;r+=1)s[r].l(_);e=P(_),i&&i.l(_),t=Xe()},m(_,r){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(_,r);v(_,e,r),i&&i.m(_,r),v(_,t,r),n=!0},p(_,r){if(r[0]&10028096){a=Ge(_[16]);let u;for(u=0;u<a.length;u+=1){const f=At(_,a,u);s[u]?(s[u].p(f,r),g(s[u],1)):(s[u]=Wt(f),s[u].c(),g(s[u],1),s[u].m(e.parentNode,e))}for(Ye(),u=a.length;u<s.length;u+=1)o(u);Ze()}_[16].length===0?i?(i.p(_,r),r[0]&65536&&g(i,1)):(i=Yt(_),i.c(),g(i,1),i.m(t.parentNode,t)):i&&(Ye(),h(i,1,1,()=>{i=null}),Ze())},i(_){if(!n){for(let r=0;r<a.length;r+=1)g(s[r]);g(i),n=!0}},o(_){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)h(s[r]);h(i),n=!1},d(_){_&&(c(e),c(t)),pt(s,_),i&&i.d(_)}}}function Fl(l){let e,t,n,a;return e=new Pn({props:{$$slots:{default:[Nl]},$$scope:{ctx:l}}}),n=new Sn({props:{$$slots:{default:[Ml]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment),t=S(),N(n.$$.fragment)},l(s){D(e.$$.fragment,s),t=P(s),D(n.$$.fragment,s)},m(s,o){C(e,s,o),v(s,t,o),C(n,s,o),a=!0},p(s,o){const i={};o[2]&16384&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const _={};o[0]&328768|o[2]&16384&&(_.$$scope={dirty:o,ctx:s}),n.$set(_)},i(s){a||(g(e.$$.fragment,s),g(n.$$.fragment,s),a=!0)},o(s){h(e.$$.fragment,s),h(n.$$.fragment,s),a=!1},d(s){s&&c(t),I(e,s),I(n,s)}}}function Zt(l){let e,t,n,a,s,o,i,_,r,u,f;return t=new ot({props:{variant:"outline",size:"sm",disabled:l[8]===1,$$slots:{default:[Hl]},$$scope:{ctx:l}}}),t.$on("click",l[60]),u=new ot({props:{variant:"outline",size:"sm",disabled:l[8]===l[17],$$slots:{default:[zl]},$$scope:{ctx:l}}}),u.$on("click",l[61]),{c(){e=O("div"),N(t.$$.fragment),n=S(),a=O("span"),s=H("Page "),o=H(l[8]),i=H(" of "),_=H(l[17]),r=S(),N(u.$$.fragment),this.h()},l(m){e=L(m,"DIV",{class:!0});var k=J(e);D(t.$$.fragment,k),n=P(k),a=L(k,"SPAN",{class:!0});var V=J(a);s=F(V,"Page "),o=F(V,l[8]),i=F(V," of "),_=F(V,l[17]),V.forEach(c),r=P(k),D(u.$$.fragment,k),k.forEach(c),this.h()},h(){M(a,"class","py-2 text-sm"),M(e,"class","flex justify-center gap-2")},m(m,k){v(m,e,k),C(t,e,null),d(e,n),d(e,a),d(a,s),d(a,o),d(a,i),d(a,_),d(e,r),C(u,e,null),f=!0},p(m,k){const V={};k[0]&256&&(V.disabled=m[8]===1),k[2]&16384&&(V.$$scope={dirty:k,ctx:m}),t.$set(V),(!f||k[0]&256)&&_e(o,m[8]),(!f||k[0]&131072)&&_e(_,m[17]);const E={};k[0]&131328&&(E.disabled=m[8]===m[17]),k[2]&16384&&(E.$$scope={dirty:k,ctx:m}),u.$set(E)},i(m){f||(g(t.$$.fragment,m),g(u.$$.fragment,m),f=!0)},o(m){h(t.$$.fragment,m),h(u.$$.fragment,m),f=!1},d(m){m&&c(e),I(t),I(u)}}}function Hl(l){let e;return{c(){e=H("Previous")},l(t){e=F(t,"Previous")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function zl(l){let e;return{c(){e=H("Next")},l(t){e=F(t,"Next")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Jl(l){let e=(l[18]("common.cancel")||"Cancel")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&262144&&e!==(e=(n[18]("common.cancel")||"Cancel")+"")&&_e(t,e)},d(n){n&&c(t)}}}function yl(l){let e;return{c(){e=H("OK")},l(t){e=F(t,"OK")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function Ul(l){let e,t,n=l[3]&&Ht(l);return{c(){n&&n.c(),e=Xe()},l(a){n&&n.l(a),e=Xe()},m(a,s){n&&n.m(a,s),v(a,e,s),t=!0},p(a,s){a[3]?n?(n.p(a,s),s[0]&8&&g(n,1)):(n=Ht(a),n.c(),g(n,1),n.m(e.parentNode,e)):n&&(Ye(),h(n,1,1,()=>{n=null}),Ze())},i(a){t||(g(n),t=!0)},o(a){h(n),t=!1},d(a){a&&c(e),n&&n.d(a)}}}let Ct=16;function xt(l){let e={};try{e=JSON.parse(l.additional_info||"{}")}catch{}return l.type==="Line"?e.display_name||e.label||"":e.label||e.value||""}const en=l=>l.type==="Line";function Bl(l,e,t){let n,a,s,o,i,_,r,u,f;gn(l,bn,p=>t(18,f=p));let{lines:m=[]}=e,{maxSoftKeys:k=0}=e,{maxHardKeys:V=0}=e,{image:E=""}=e,{maxLines:R=0}=e,{open:K=!1}=e,{phone:Z={}}=e,{model:A=null}=e;const B=hn();let G=[],Q=null,X="",be=1,U=null,b={},Y=null,te=!1;function ne(p){t(6,Q=p)}function ie(p){t(12,Y=p),t(6,Q=p),t(10,U={...p});try{t(11,b=JSON.parse(p.additional_info||"{}"))}catch{t(11,b={})}}function re(){t(12,Y=null),t(6,Q=null),t(10,U={type:"Line",account_number:1,panel_number:0,key_number:1,additional_info:"{}"}),t(11,b={})}function he(){if(!U||!U.account_number){$t.error("Account Number is required");return}t(10,U.account_number=parseInt(String(U.account_number),10),U),t(10,U.panel_number=parseInt(String(U.panel_number),10),U),t(10,U.key_number=parseInt(String(U.key_number),10),U);for(const p of G)if(!(Y&&p===Y)&&p.panel_number===U.panel_number&&p.key_number===U.key_number){$t.error(`Panel ${U.panel_number} / Key ${U.key_number} is already assigned.`);return}if(t(10,U.additional_info=JSON.stringify(b),U),Y){const p=G.indexOf(Y);p!==-1&&t(5,G[p]={...U},G)}else t(5,G=[...G,{...U}]);t(12,Y=null),t(10,U=null),t(11,b={})}function $e(p){t(5,G=G.filter(w=>w!==p)),Q===p&&t(6,Q=null)}function we(){t(12,Y=null),t(10,U=null),t(11,b={})}function ae(){B("close")}function Fe(){B("save",G),ae()}let q=[],le=[];vn(async()=>{await ve()});async function ve(){try{const p=await fetch("/api/vendors");if(p.ok){const w=await p.json();t(30,q=w.vendors||[])}}catch(p){console.error("Failed to load vendors",p)}}const se=()=>t(13,te=!0);function ee(p){X=p,t(7,X)}function Ne(){U.type=dt(this),t(10,U)}function Ee(p){l.$$.not_equal(U.account_number,p)&&(U.account_number=p,t(10,U))}function Ce(p){l.$$.not_equal(U.panel_number,p)&&(U.panel_number=p,t(10,U))}function Ie(p){l.$$.not_equal(U.key_number,p)&&(U.key_number=p,t(10,U))}function ce(p){l.$$.not_equal(b.line_number,p)&&(b.line_number=p,t(11,b))}function ke(p){l.$$.not_equal(b.display_name,p)&&(b.display_name=p,t(11,b))}function Ve(p){l.$$.not_equal(b.user_name,p)&&(b.user_name=p,t(11,b))}function de(p){l.$$.not_equal(b.auth_name,p)&&(b.auth_name=p,t(11,b))}function fe(p){l.$$.not_equal(b.password,p)&&(b.password=p,t(11,b))}function tt(p){l.$$.not_equal(b.screen_name,p)&&(b.screen_name=p,t(11,b))}function Pe(p){l.$$.not_equal(b.registrar1_ip,p)&&(b.registrar1_ip=p,t(11,b))}function x(p){l.$$.not_equal(b.registrar1_port,p)&&(b.registrar1_port=p,t(11,b))}function me(){b.type=dt(this),t(11,b),t(14,le),t(4,Z),t(30,q)}const z=p=>p.id===b.type;function y(p){b[p.id]=dt(this),t(11,b),t(14,le),t(4,Z),t(30,q)}function Se(p,w){l.$$.not_equal(b[w.id],p)&&(b[w.id]=p,t(11,b))}function ge(p){l.$$.not_equal(b.label,p)&&(b.label=p,t(11,b))}function pe(p){l.$$.not_equal(b.value,p)&&(b.value=p,t(11,b))}function ye(p){l.$$.not_equal(b.custom_type,p)&&(b.custom_type=p,t(11,b))}function Me(p){l.$$.not_equal(b.description,p)&&(b.description=p,t(11,b))}const Re=(p,w)=>{w.stopPropagation(),ie(p)},He=(p,w)=>{w.stopPropagation(),$e(p)},ze=p=>ne(p),We=()=>t(8,be--,be),T=()=>t(8,be++,be);return l.$$set=p=>{"lines"in p&&t(0,m=p.lines),"maxSoftKeys"in p&&t(27,k=p.maxSoftKeys),"maxHardKeys"in p&&t(1,V=p.maxHardKeys),"image"in p&&t(28,E=p.image),"maxLines"in p&&t(2,R=p.maxLines),"open"in p&&t(3,K=p.open),"phone"in p&&t(4,Z=p.phone),"model"in p&&t(29,A=p.model)},l.$$.update=()=>{if(l.$$.dirty[0]&9&&K&&m&&(t(5,G=JSON.parse(JSON.stringify(m)).map(p=>({...p,account_number:p.account_number||p.number||1,panel_number:p.panel_number||p.expansion_module_number||0,key_number:p.key_number||0,type:p.type||"Line"}))),t(6,Q=null)),l.$$.dirty[0]&160&&t(34,n=G.filter(p=>{const w=X.toLowerCase();let W={};try{W=JSON.parse(p.additional_info||"{}")}catch{}return[p.account_number,p.panel_number,p.key_number,p.type,W.display_name,W.user_name,W.label].join(" ").toLowerCase().includes(w)})),l.$$.dirty[1]&8&&t(17,a=Math.ceil(n.length/Ct)),l.$$.dirty[0]&256|l.$$.dirty[1]&8&&t(16,s=n.slice((be-1)*Ct,be*Ct)),l.$$.dirty[0]&16&&(Z.expansion_modules_count||0)>0,l.$$.dirty[0]&268435472&&t(31,o=E&&Z.vendor?`/api/vendors-static/${Z.vendor}/static/${E}`:""),l.$$.dirty[0]&536870976&&t(33,i=A&&Q?A.keys.find(p=>p.index===(Q==null?void 0:Q.key_number)&&((Q==null?void 0:Q.panel_number)||0)===0):null),l.$$.dirty[0]&16|l.$$.dirty[1]&4&&t(32,_=i!=null&&i.my_image&&Z.vendor?`/api/vendors-static/${Z.vendor}/static/${i.my_image}`:""),l.$$.dirty[1]&3&&t(9,r=_||o),l.$$.dirty[0]&512&&r&&t(13,te=!1),l.$$.dirty[0]&536870976&&t(15,u=(()=>{if(!Q||!A)return null;const p=A.keys.find(w=>w.index===(Q==null?void 0:Q.key_number)&&((Q==null?void 0:Q.panel_number)||0)===0);return p&&p.x>0&&p.y>0?{x:p.x,y:p.y}:null})()),l.$$.dirty[0]&1073741840&&Z&&q.length>0){const p=q.find(w=>w.id===Z.vendor);t(14,le=p?p.features||[]:[])}},[m,V,R,K,Z,G,Q,X,be,r,U,b,Y,te,le,u,s,a,f,ne,ie,re,he,$e,we,ae,Fe,k,E,A,q,o,_,i,n,se,ee,Ne,Ee,Ce,Ie,ce,ke,Ve,de,fe,tt,Pe,x,me,z,y,Se,ge,pe,ye,Me,Re,He,ze,We,T]}class Rl extends Et{constructor(e){super(),It(this,e,Bl,Ul,kt,{lines:0,maxSoftKeys:27,maxHardKeys:1,image:28,maxLines:2,open:3,phone:4,model:29},null,[-1,-1,-1])}}function tn(l,e,t){const n=l.slice();return n[34]=e[t],n}function nn(l,e,t){const n=l.slice();return n[34]=e[t],n}function ln(l,e,t){const n=l.slice();return n[39]=e[t],n}function sn(l,e,t){const n=l.slice();return n[42]=e[t],n}function Ql(l){let e=(l[1]==="create"?l[12]("phone.add_title")||"Add Phone Configuration":l[12]("phone.edit_title")||"Edit Phone Configuration")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4098&&e!==(e=(n[1]==="create"?n[12]("phone.add_title")||"Add Phone Configuration":n[12]("phone.edit_title")||"Edit Phone Configuration")+"")&&_e(t,e)},d(n){n&&c(t)}}}function Gl(l){let e=(l[1]==="create"?l[12]("phone.add_desc")||"Manually add a new phone configuration":l[12]("phone.edit_desc")||"Edit existing phone configuration")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4098&&e!==(e=(n[1]==="create"?n[12]("phone.add_desc")||"Manually add a new phone configuration":n[12]("phone.edit_desc")||"Edit existing phone configuration")+"")&&_e(t,e)},d(n){n&&c(t)}}}function Xl(l){let e,t,n,a;return e=new Dn({props:{$$slots:{default:[Ql]},$$scope:{ctx:l}}}),n=new Nn({props:{$$slots:{default:[Gl]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment),t=S(),N(n.$$.fragment)},l(s){D(e.$$.fragment,s),t=P(s),D(n.$$.fragment,s)},m(s,o){C(e,s,o),v(s,t,o),C(n,s,o),a=!0},p(s,o){const i={};o[0]&4098|o[1]&16384&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const _={};o[0]&4098|o[1]&16384&&(_.$$scope={dirty:o,ctx:s}),n.$set(_)},i(s){a||(g(e.$$.fragment,s),g(n.$$.fragment,s),a=!0)},o(s){h(e.$$.fragment,s),h(n.$$.fragment,s),a=!1},d(s){s&&c(t),I(e,s),I(n,s)}}}function Wl(l){let e=(l[12]("phone.domain")||"Domain")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4096&&e!==(e=(n[12]("phone.domain")||"Domain")+"")&&_e(t,e)},d(n){n&&c(t)}}}function an(l){let e,t=l[42]+"",n,a;return{c(){e=O("option"),n=H(t),this.h()},l(s){e=L(s,"OPTION",{});var o=J(e);n=F(o,t),o.forEach(c),this.h()},h(){e.__value=a=l[42],je(e,e.__value)},m(s,o){v(s,e,o),d(e,n)},p(s,o){o[0]&32&&t!==(t=s[42]+"")&&_e(n,t),o[0]&32&&a!==(a=s[42])&&(e.__value=a,je(e,e.__value))},d(s){s&&c(e)}}}function Yl(l){let e=(l[12]("phone.vendor")||"Vendor")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4096&&e!==(e=(n[12]("phone.vendor")||"Vendor")+"")&&_e(t,e)},d(n){n&&c(t)}}}function on(l){let e,t=l[39].name+"",n,a;return{c(){e=O("option"),n=H(t),this.h()},l(s){e=L(s,"OPTION",{});var o=J(e);n=F(o,t),o.forEach(c),this.h()},h(){e.__value=a=l[39].id,je(e,e.__value)},m(s,o){v(s,e,o),d(e,n)},p(s,o){o[0]&64&&t!==(t=s[39].name+"")&&_e(n,t),o[0]&64&&a!==(a=s[39].id)&&(e.__value=a,je(e,e.__value))},d(s){s&&c(e)}}}function Zl(l){let e=(l[12]("phone.model")||"Model")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4096&&e!==(e=(n[12]("phone.model")||"Model")+"")&&_e(t,e)},d(n){n&&c(t)}}}function rn(l){let e,t="No models available";return{c(){e=O("option"),e.textContent=t,this.h()},l(n){e=L(n,"OPTION",{"data-svelte-h":!0}),at(e)!=="svelte-1x77qog"&&(e.textContent=t),this.h()},h(){e.__value="",je(e,e.__value)},m(n,a){v(n,e,a)},d(n){n&&c(e)}}}function fn(l){let e,t=l[34].name+"",n,a;return{c(){e=O("option"),n=H(t),this.h()},l(s){e=L(s,"OPTION",{});var o=J(e);n=F(o,t),o.forEach(c),this.h()},h(){e.__value=a=l[34].id,je(e,e.__value)},m(s,o){v(s,e,o),d(e,n)},p(s,o){o[0]&4&&t!==(t=s[34].name+"")&&_e(n,t),o[0]&4&&a!==(a=s[34].id)&&(e.__value=a,je(e,e.__value))},d(s){s&&c(e)}}}function un(l){var E;let e,t,n,a,s,o,i="None",_,r,u,f;n=new De({props:{for:"exp_module-"+l[13],$$slots:{default:[xl]},$$scope:{ctx:l}}});let m=Ge(((E=l[3])==null?void 0:E.supported_expansion_modules)||[]),k=[];for(let R=0;R<m.length;R+=1)k[R]=_n(tn(l,m,R));let V=l[0].expansion_module_model&&cn(l);return{c(){e=O("div"),t=O("div"),N(n.$$.fragment),a=S(),s=O("select"),o=O("option"),o.textContent=i;for(let R=0;R<k.length;R+=1)k[R].c();_=S(),V&&V.c(),this.h()},l(R){e=L(R,"DIV",{class:!0});var K=J(e);t=L(K,"DIV",{class:!0});var Z=J(t);D(n.$$.fragment,Z),a=P(Z),s=L(Z,"SELECT",{id:!0,class:!0});var A=J(s);o=L(A,"OPTION",{"data-svelte-h":!0}),at(o)!=="svelte-1vbnolo"&&(o.textContent=i);for(let B=0;B<k.length;B+=1)k[B].l(A);A.forEach(c),Z.forEach(c),_=P(K),V&&V.l(K),K.forEach(c),this.h()},h(){o.__value="",je(o,o.__value),M(s,"id","exp_module-"+l[13]),M(s,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),l[0].expansion_module_model===void 0&&vt(()=>l[21].call(s)),M(t,"class","space-y-2"),M(e,"class","grid grid-cols-2 gap-4")},m(R,K){v(R,e,K),d(e,t),C(n,t,null),d(t,a),d(t,s),d(s,o);for(let Z=0;Z<k.length;Z+=1)k[Z]&&k[Z].m(s,null);et(s,l[0].expansion_module_model,!0),d(e,_),V&&V.m(e,null),r=!0,u||(f=ft(s,"change",l[21]),u=!0)},p(R,K){var A;const Z={};if(K[0]&4096|K[1]&16384&&(Z.$$scope={dirty:K,ctx:R}),n.$set(Z),K[0]&8){m=Ge(((A=R[3])==null?void 0:A.supported_expansion_modules)||[]);let B;for(B=0;B<m.length;B+=1){const G=tn(R,m,B);k[B]?k[B].p(G,K):(k[B]=_n(G),k[B].c(),k[B].m(s,null))}for(;B<k.length;B+=1)k[B].d(1);k.length=m.length}K[0]&33&&et(s,R[0].expansion_module_model),R[0].expansion_module_model?V?(V.p(R,K),K[0]&1&&g(V,1)):(V=cn(R),V.c(),g(V,1),V.m(e,null)):V&&(Ye(),h(V,1,1,()=>{V=null}),Ze())},i(R){r||(g(n.$$.fragment,R),g(V),r=!0)},o(R){h(n.$$.fragment,R),h(V),r=!1},d(R){R&&c(e),I(n),pt(k,R),V&&V.d(),u=!1,f()}}}function xl(l){let e=(l[12]("phone.expansion_module")||"Expansion Module")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4096&&e!==(e=(n[12]("phone.expansion_module")||"Expansion Module")+"")&&_e(t,e)},d(n){n&&c(t)}}}function _n(l){let e,t=l[34]+"",n,a;return{c(){e=O("option"),n=H(t),this.h()},l(s){e=L(s,"OPTION",{});var o=J(e);n=F(o,t),o.forEach(c),this.h()},h(){e.__value=a=l[34],je(e,e.__value)},m(s,o){v(s,e,o),d(e,n)},p(s,o){o[0]&8&&t!==(t=s[34]+"")&&_e(n,t),o[0]&8&&a!==(a=s[34])&&(e.__value=a,je(e,e.__value))},d(s){s&&c(e)}}}function cn(l){let e,t,n,a,s,o;t=new De({props:{for:"exp_count-"+l[13],$$slots:{default:[es]},$$scope:{ctx:l}}});function i(r){l[22](r)}let _={id:"exp_count-"+l[13],type:"number",min:"1",max:"6"};return l[0].expansion_modules_count!==void 0&&(_.value=l[0].expansion_modules_count),a=new Ae({props:_}),Oe.push(()=>qe(a,"value",i)),{c(){e=O("div"),N(t.$$.fragment),n=S(),N(a.$$.fragment),this.h()},l(r){e=L(r,"DIV",{class:!0});var u=J(e);D(t.$$.fragment,u),n=P(u),D(a.$$.fragment,u),u.forEach(c),this.h()},h(){M(e,"class","space-y-2")},m(r,u){v(r,e,u),C(t,e,null),d(e,n),C(a,e,null),o=!0},p(r,u){const f={};u[1]&16384&&(f.$$scope={dirty:u,ctx:r}),t.$set(f);const m={};!s&&u[0]&1&&(s=!0,m.value=r[0].expansion_modules_count,Te(()=>s=!1)),a.$set(m)},i(r){o||(g(t.$$.fragment,r),g(a.$$.fragment,r),o=!0)},o(r){h(t.$$.fragment,r),h(a.$$.fragment,r),o=!1},d(r){r&&c(e),I(t),I(a)}}}function es(l){let e;return{c(){e=H("Count")},l(t){e=F(t,"Count")},m(t,n){v(t,e,n)},d(t){t&&c(e)}}}function pn(l){let e,t="*";return{c(){e=O("span"),e.textContent=t,this.h()},l(n){e=L(n,"SPAN",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1n3raya"&&(e.textContent=t),this.h()},h(){M(e,"class","text-red-500")},m(n,a){v(n,e,a)},d(n){n&&c(e)}}}function ts(l){var o;let e=(l[12]("phone.mac")||"MAC Address")+"",t,n,a,s=((o=l[3])==null?void 0:o.type)!=="gateway"&&pn();return{c(){t=H(e),n=S(),s&&s.c(),a=Xe()},l(i){t=F(i,e),n=P(i),s&&s.l(i),a=Xe()},m(i,_){v(i,t,_),v(i,n,_),s&&s.m(i,_),v(i,a,_)},p(i,_){var r;_[0]&4096&&e!==(e=(i[12]("phone.mac")||"MAC Address")+"")&&_e(t,e),((r=i[3])==null?void 0:r.type)!=="gateway"?s||(s=pn(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(i){i&&(c(t),c(n),c(a)),s&&s.d(i)}}}function mn(l){let e,t="*";return{c(){e=O("span"),e.textContent=t,this.h()},l(n){e=L(n,"SPAN",{class:!0,"data-svelte-h":!0}),at(e)!=="svelte-1n3raya"&&(e.textContent=t),this.h()},h(){M(e,"class","text-red-500")},m(n,a){v(n,e,a)},d(n){n&&c(e)}}}function ns(l){var o;let e=(l[12]("phone.number")||"Phone Number")+"",t,n,a,s=((o=l[3])==null?void 0:o.type)!=="gateway"&&mn();return{c(){t=H(e),n=S(),s&&s.c(),a=Xe()},l(i){t=F(i,e),n=P(i),s&&s.l(i),a=Xe()},m(i,_){v(i,t,_),v(i,n,_),s&&s.m(i,_),v(i,a,_)},p(i,_){var r;_[0]&4096&&e!==(e=(i[12]("phone.number")||"Phone Number")+"")&&_e(t,e),((r=i[3])==null?void 0:r.type)!=="gateway"?s||(s=mn(),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(i){i&&(c(t),c(n),c(a)),s&&s.d(i)}}}function ls(l){let e=(l[12]("phone.ip_address")||"IP Address")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4096&&e!==(e=(n[12]("phone.ip_address")||"IP Address")+"")&&_e(t,e)},d(n){n&&c(t)}}}function ss(l){let e=(l[12]("common.description")||"Description")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4096&&e!==(e=(n[12]("common.description")||"Description")+"")&&_e(t,e)},d(n){n&&c(t)}}}function as(l){let e=(l[7]?l[12]("common.saving")||"Saving...":l[12]("common.save")||"Save")+"",t;return{c(){t=H(e)},l(n){t=F(n,e)},m(n,a){v(n,t,a)},p(n,a){a[0]&4224&&e!==(e=(n[7]?n[12]("common.saving")||"Saving...":n[12]("common.save")||"Save")+"")&&_e(t,e)},d(n){n&&c(t)}}}function $n(l){let e,t;return e=new ot({props:{variant:"outline",$$slots:{default:[os]},$$scope:{ctx:l}}}),e.$on("click",l[27]),{c(){N(e.$$.fragment)},l(n){D(e.$$.fragment,n)},m(n,a){C(e,n,a),t=!0},p(n,a){const s={};a[0]&4097|a[1]&16384&&(s.$$scope={dirty:a,ctx:n}),e.$set(s)},i(n){t||(g(e.$$.fragment,n),t=!0)},o(n){h(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dn(l){let e,t=l[0].lines.length+"",n,a;return{c(){e=H("("),n=H(t),a=H(")")},l(s){e=F(s,"("),n=F(s,t),a=F(s,")")},m(s,o){v(s,e,o),v(s,n,o),v(s,a,o)},p(s,o){o[0]&1&&t!==(t=s[0].lines.length+"")&&_e(n,t)},d(s){s&&(c(e),c(n),c(a))}}}function os(l){var r;let e,t,n=(l[12]("lines.configure")||"Configure Lines")+"",a,s,o,i;e=new qn({props:{class:"mr-2 h-4 w-4"}});let _=((r=l[0].lines)==null?void 0:r.length)>0&&dn(l);return{c(){N(e.$$.fragment),t=S(),a=H(n),s=S(),_&&_.c(),o=Xe()},l(u){D(e.$$.fragment,u),t=P(u),a=F(u,n),s=P(u),_&&_.l(u),o=Xe()},m(u,f){C(e,u,f),v(u,t,f),v(u,a,f),v(u,s,f),_&&_.m(u,f),v(u,o,f),i=!0},p(u,f){var m;(!i||f[0]&4096)&&n!==(n=(u[12]("lines.configure")||"Configure Lines")+"")&&_e(a,n),((m=u[0].lines)==null?void 0:m.length)>0?_?_.p(u,f):(_=dn(u),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},i(u){i||(g(e.$$.fragment,u),i=!0)},o(u){h(e.$$.fragment,u),i=!1},d(u){u&&(c(t),c(a),c(s),c(o)),I(e,u),_&&_.d(u)}}}function rs(l){var W,Ue;let e,t,n,a,s,o,i,_,r,u,f,m,k,V,E,R,K,Z,A,B,G,Q,X,be,U,b,Y,te,ne,ie,re,he,$e,we,ae,Fe,q,le,ve,se,ee,Ne,Ee,Ce,Ie,ce,ke,Ve,de,fe,tt;n=new De({props:{for:"domain-"+l[13],$$slots:{default:[Wl]},$$scope:{ctx:l}}});let Pe=Ge(l[5]),x=[];for(let $=0;$<Pe.length;$+=1)x[$]=an(sn(l,Pe,$));_=new De({props:{for:"vendor-"+l[13],$$slots:{default:[Yl]},$$scope:{ctx:l}}});let me=Ge(l[6]),z=[];for(let $=0;$<me.length;$+=1)z[$]=on(ln(l,me,$));k=new De({props:{for:"model-"+l[13],$$slots:{default:[Zl]},$$scope:{ctx:l}}});let y=l[2].length===0&&rn(),Se=Ge(l[2]),ge=[];for(let $=0;$<Se.length;$+=1)ge[$]=fn(nn(l,Se,$));let pe=(((Ue=(W=l[3])==null?void 0:W.supported_expansion_modules)==null?void 0:Ue.length)||0)>0&&un(l);X=new De({props:{for:"mac-"+l[13],$$slots:{default:[ts]},$$scope:{ctx:l}}});function ye($){l[23]($)}let Me={id:"mac-"+l[13],placeholder:"00:11:22:33:44:55"};l[0].mac_address!==void 0&&(Me.value=l[0].mac_address),U=new Ae({props:Me}),Oe.push(()=>qe(U,"value",ye)),ne=new De({props:{for:"number-"+l[13],$$slots:{default:[ns]},$$scope:{ctx:l}}});function Re($){l[24]($)}let He={id:"number-"+l[13],placeholder:"101"};l[0].phone_number!==void 0&&(He.value=l[0].phone_number),re=new Ae({props:He}),Oe.push(()=>qe(re,"value",Re)),re.$on("blur",l[18]),ae=new De({props:{for:"ip_address-"+l[13],$$slots:{default:[ls]},$$scope:{ctx:l}}});function ze($){l[25]($)}let We={id:"ip_address-"+l[13],placeholder:"192.168.1.100"};l[0].ip_address!==void 0&&(We.value=l[0].ip_address),q=new Ae({props:We}),Oe.push(()=>qe(q,"value",ze)),ee=new De({props:{for:"description-"+l[13],$$slots:{default:[ss]},$$scope:{ctx:l}}});function T($){l[26]($)}let p={id:"description-"+l[13]};l[0].description!==void 0&&(p.value=l[0].description),Ee=new Ae({props:p}),Oe.push(()=>qe(Ee,"value",T)),ke=new ot({props:{class:"flex-1",disabled:l[7],$$slots:{default:[as]},$$scope:{ctx:l}}}),ke.$on("click",l[16]);let w=l[11]&&$n(l);return{c(){e=O("div"),t=O("div"),N(n.$$.fragment),a=S(),s=O("select");for(let $=0;$<x.length;$+=1)x[$].c();o=S(),i=O("div"),N(_.$$.fragment),r=S(),u=O("select");for(let $=0;$<z.length;$+=1)z[$].c();f=S(),m=O("div"),N(k.$$.fragment),V=S(),E=O("select"),y&&y.c(),R=Xe();for(let $=0;$<ge.length;$+=1)ge[$].c();A=S(),pe&&pe.c(),B=S(),G=O("div"),Q=O("div"),N(X.$$.fragment),be=S(),N(U.$$.fragment),Y=S(),te=O("div"),N(ne.$$.fragment),ie=S(),N(re.$$.fragment),$e=S(),we=O("div"),N(ae.$$.fragment),Fe=S(),N(q.$$.fragment),ve=S(),se=O("div"),N(ee.$$.fragment),Ne=S(),N(Ee.$$.fragment),Ie=S(),ce=O("div"),N(ke.$$.fragment),Ve=S(),w&&w.c(),this.h()},l($){e=L($,"DIV",{class:!0});var j=J(e);t=L(j,"DIV",{class:!0});var oe=J(t);D(n.$$.fragment,oe),a=P(oe),s=L(oe,"SELECT",{id:!0,class:!0});var Ke=J(s);for(let xe=0;xe<x.length;xe+=1)x[xe].l(Ke);Ke.forEach(c),oe.forEach(c),o=P(j),i=L(j,"DIV",{class:!0});var Le=J(i);D(_.$$.fragment,Le),r=P(Le),u=L(Le,"SELECT",{id:!0,class:!0});var Qe=J(u);for(let xe=0;xe<z.length;xe+=1)z[xe].l(Qe);Qe.forEach(c),Le.forEach(c),j.forEach(c),f=P($),m=L($,"DIV",{class:!0});var Je=J(m);D(k.$$.fragment,Je),V=P(Je),E=L(Je,"SELECT",{id:!0,class:!0});var Be=J(E);y&&y.l(Be),R=Xe();for(let xe=0;xe<ge.length;xe+=1)ge[xe].l(Be);Be.forEach(c),Je.forEach(c),A=P($),pe&&pe.l($),B=P($),G=L($,"DIV",{class:!0});var nt=J(G);Q=L(nt,"DIV",{class:!0});var lt=J(Q);D(X.$$.fragment,lt),be=P(lt),D(U.$$.fragment,lt),lt.forEach(c),Y=P(nt),te=L(nt,"DIV",{class:!0});var st=J(te);D(ne.$$.fragment,st),ie=P(st),D(re.$$.fragment,st),st.forEach(c),nt.forEach(c),$e=P($),we=L($,"DIV",{class:!0});var rt=J(we);D(ae.$$.fragment,rt),Fe=P(rt),D(q.$$.fragment,rt),rt.forEach(c),ve=P($),se=L($,"DIV",{class:!0});var it=J(se);D(ee.$$.fragment,it),Ne=P(it),D(Ee.$$.fragment,it),it.forEach(c),Ie=P($),ce=L($,"DIV",{class:!0});var _t=J(ce);D(ke.$$.fragment,_t),Ve=P(_t),w&&w.l(_t),_t.forEach(c),this.h()},h(){M(s,"id","domain-"+l[13]),M(s,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),l[0].domain===void 0&&vt(()=>l[19].call(s)),M(t,"class","space-y-2"),M(u,"id","vendor-"+l[13]),M(u,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),l[0].vendor===void 0&&vt(()=>l[20].call(u)),M(i,"class","space-y-2"),M(e,"class","grid grid-cols-2 gap-4"),M(E,"id","model-"+l[13]),M(E,"class","flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),E.disabled=Z=l[2].length===0,M(m,"class","space-y-2"),M(Q,"class","space-y-2"),M(te,"class","space-y-2"),M(G,"class","grid grid-cols-2 gap-4"),M(we,"class","space-y-2"),M(se,"class","space-y-2"),M(ce,"class","flex gap-4")},m($,j){v($,e,j),d(e,t),C(n,t,null),d(t,a),d(t,s);for(let oe=0;oe<x.length;oe+=1)x[oe]&&x[oe].m(s,null);et(s,l[0].domain,!0),d(e,o),d(e,i),C(_,i,null),d(i,r),d(i,u);for(let oe=0;oe<z.length;oe+=1)z[oe]&&z[oe].m(u,null);et(u,l[0].vendor,!0),v($,f,j),v($,m,j),C(k,m,null),d(m,V),d(m,E),y&&y.m(E,null),d(E,R);for(let oe=0;oe<ge.length;oe+=1)ge[oe]&&ge[oe].m(E,null);et(E,l[0].model_id),v($,A,j),pe&&pe.m($,j),v($,B,j),v($,G,j),d(G,Q),C(X,Q,null),d(Q,be),C(U,Q,null),d(G,Y),d(G,te),C(ne,te,null),d(te,ie),C(re,te,null),v($,$e,j),v($,we,j),C(ae,we,null),d(we,Fe),C(q,we,null),v($,ve,j),v($,se,j),C(ee,se,null),d(se,Ne),C(Ee,se,null),v($,Ie,j),v($,ce,j),C(ke,ce,null),d(ce,Ve),w&&w.m(ce,null),de=!0,fe||(tt=[ft(s,"change",l[19]),ft(u,"change",l[20]),ft(u,"change",l[14]),ft(E,"change",l[15])],fe=!0)},p($,j){var xe,qt;const oe={};if(j[0]&4096|j[1]&16384&&(oe.$$scope={dirty:j,ctx:$}),n.$set(oe),j[0]&32){Pe=Ge($[5]);let ue;for(ue=0;ue<Pe.length;ue+=1){const ct=sn($,Pe,ue);x[ue]?x[ue].p(ct,j):(x[ue]=an(ct),x[ue].c(),x[ue].m(s,null))}for(;ue<x.length;ue+=1)x[ue].d(1);x.length=Pe.length}j[0]&33&&et(s,$[0].domain);const Ke={};if(j[0]&4096|j[1]&16384&&(Ke.$$scope={dirty:j,ctx:$}),_.$set(Ke),j[0]&64){me=Ge($[6]);let ue;for(ue=0;ue<me.length;ue+=1){const ct=ln($,me,ue);z[ue]?z[ue].p(ct,j):(z[ue]=on(ct),z[ue].c(),z[ue].m(u,null))}for(;ue<z.length;ue+=1)z[ue].d(1);z.length=me.length}j[0]&33&&et(u,$[0].vendor);const Le={};if(j[0]&4096|j[1]&16384&&(Le.$$scope={dirty:j,ctx:$}),k.$set(Le),$[2].length===0?y||(y=rn(),y.c(),y.m(E,R)):y&&(y.d(1),y=null),j[0]&4){Se=Ge($[2]);let ue;for(ue=0;ue<Se.length;ue+=1){const ct=nn($,Se,ue);ge[ue]?ge[ue].p(ct,j):(ge[ue]=fn(ct),ge[ue].c(),ge[ue].m(E,null))}for(;ue<ge.length;ue+=1)ge[ue].d(1);ge.length=Se.length}(!de||j[0]&33&&K!==(K=$[0].model_id))&&et(E,$[0].model_id),(!de||j[0]&4&&Z!==(Z=$[2].length===0))&&(E.disabled=Z),(((qt=(xe=$[3])==null?void 0:xe.supported_expansion_modules)==null?void 0:qt.length)||0)>0?pe?(pe.p($,j),j[0]&8&&g(pe,1)):(pe=un($),pe.c(),g(pe,1),pe.m(B.parentNode,B)):pe&&(Ye(),h(pe,1,1,()=>{pe=null}),Ze());const Qe={};j[0]&4104|j[1]&16384&&(Qe.$$scope={dirty:j,ctx:$}),X.$set(Qe);const Je={};!b&&j[0]&1&&(b=!0,Je.value=$[0].mac_address,Te(()=>b=!1)),U.$set(Je);const Be={};j[0]&4104|j[1]&16384&&(Be.$$scope={dirty:j,ctx:$}),ne.$set(Be);const nt={};!he&&j[0]&1&&(he=!0,nt.value=$[0].phone_number,Te(()=>he=!1)),re.$set(nt);const lt={};j[0]&4096|j[1]&16384&&(lt.$$scope={dirty:j,ctx:$}),ae.$set(lt);const st={};!le&&j[0]&1&&(le=!0,st.value=$[0].ip_address,Te(()=>le=!1)),q.$set(st);const rt={};j[0]&4096|j[1]&16384&&(rt.$$scope={dirty:j,ctx:$}),ee.$set(rt);const it={};!Ce&&j[0]&1&&(Ce=!0,it.value=$[0].description,Te(()=>Ce=!1)),Ee.$set(it);const _t={};j[0]&128&&(_t.disabled=$[7]),j[0]&4224|j[1]&16384&&(_t.$$scope={dirty:j,ctx:$}),ke.$set(_t),$[11]?w?(w.p($,j),j[0]&2048&&g(w,1)):(w=$n($),w.c(),g(w,1),w.m(ce,null)):w&&(Ye(),h(w,1,1,()=>{w=null}),Ze())},i($){de||(g(n.$$.fragment,$),g(_.$$.fragment,$),g(k.$$.fragment,$),g(pe),g(X.$$.fragment,$),g(U.$$.fragment,$),g(ne.$$.fragment,$),g(re.$$.fragment,$),g(ae.$$.fragment,$),g(q.$$.fragment,$),g(ee.$$.fragment,$),g(Ee.$$.fragment,$),g(ke.$$.fragment,$),g(w),de=!0)},o($){h(n.$$.fragment,$),h(_.$$.fragment,$),h(k.$$.fragment,$),h(pe),h(X.$$.fragment,$),h(U.$$.fragment,$),h(ne.$$.fragment,$),h(re.$$.fragment,$),h(ae.$$.fragment,$),h(q.$$.fragment,$),h(ee.$$.fragment,$),h(Ee.$$.fragment,$),h(ke.$$.fragment,$),h(w),de=!1},d($){$&&(c(e),c(f),c(m),c(A),c(B),c(G),c($e),c(we),c(ve),c(se),c(Ie),c(ce)),I(n),pt(x,$),I(_),pt(z,$),I(k),y&&y.d(),pt(ge,$),pe&&pe.d($),I(X),I(U),I(ne),I(re),I(ae),I(q),I(ee),I(Ee),I(ke),w&&w.d(),fe=!1,kn(tt)}}}function is(l){let e,t,n,a;return e=new Cn({props:{$$slots:{default:[Xl]},$$scope:{ctx:l}}}),n=new In({props:{class:"space-y-4",$$slots:{default:[rs]},$$scope:{ctx:l}}}),{c(){N(e.$$.fragment),t=S(),N(n.$$.fragment)},l(s){D(e.$$.fragment,s),t=P(s),D(n.$$.fragment,s)},m(s,o){C(e,s,o),v(s,t,o),C(n,s,o),a=!0},p(s,o){const i={};o[0]&4098|o[1]&16384&&(i.$$scope={dirty:o,ctx:s}),e.$set(i);const _={};o[0]&6637|o[1]&16384&&(_.$$scope={dirty:o,ctx:s}),n.$set(_)},i(s){a||(g(e.$$.fragment,s),g(n.$$.fragment,s),a=!0)},o(s){h(e.$$.fragment,s),h(n.$$.fragment,s),a=!1},d(s){s&&c(t),I(e,s),I(n,s)}}}function fs(l){var _;let e,t,n,a,s;e=new En({props:{$$slots:{default:[is]},$$scope:{ctx:l}}});function o(r){l[28](r)}let i={lines:l[0].lines||[],maxLines:l[4],maxSoftKeys:l[10],maxHardKeys:l[9],image:(_=l[3])==null?void 0:_.image,model:l[3],phone:l[0]};return l[8]!==void 0&&(i.open=l[8]),n=new Rl({props:i}),Oe.push(()=>qe(n,"open",o)),n.$on("save",l[17]),n.$on("close",l[29]),{c(){N(e.$$.fragment),t=S(),N(n.$$.fragment)},l(r){D(e.$$.fragment,r),t=P(r),D(n.$$.fragment,r)},m(r,u){C(e,r,u),v(r,t,u),C(n,r,u),s=!0},p(r,u){var k;const f={};u[0]&6639|u[1]&16384&&(f.$$scope={dirty:u,ctx:r}),e.$set(f);const m={};u[0]&1&&(m.lines=r[0].lines||[]),u[0]&16&&(m.maxLines=r[4]),u[0]&1024&&(m.maxSoftKeys=r[10]),u[0]&512&&(m.maxHardKeys=r[9]),u[0]&8&&(m.image=(k=r[3])==null?void 0:k.image),u[0]&8&&(m.model=r[3]),u[0]&1&&(m.phone=r[0]),!a&&u[0]&256&&(a=!0,m.open=r[8],Te(()=>a=!1)),n.$set(m)},i(r){s||(g(e.$$.fragment,r),g(n.$$.fragment,r),s=!0)},o(r){h(e.$$.fragment,r),h(n.$$.fragment,r),s=!1},d(r){r&&c(t),I(e,r),I(n,r)}}}function us(l,e,t){let n,a,s,o,i,_;gn(l,bn,q=>t(12,_=q));let{phone:r={domain:"",vendor:"",model_id:"",mac_address:"",phone_number:"",ip_address:"",description:"",lines:[],expansion_module_model:"",type:"phone"}}=e,{mode:u="create"}=e;const f=hn();let m=[],k=[],V=[],E=!1;const R=Math.random().toString(36).slice(2);let K=!1;vn(async()=>{await Promise.all([Z(),A()]),r.vendor&&await B(r.vendor)});async function Z(){try{const q=await fetch("/api/domains");if(q.ok){const le=await q.json();t(5,m=le.domains||[]),u==="create"&&m.length>0&&!r.domain&&t(0,r.domain=m[0],r)}}catch(q){console.error("Failed to load domains",q)}}async function A(){try{const q=await fetch("/api/vendors");if(q.ok){const le=await q.json();if(t(6,k=le.vendors||[]),r.vendor){const ve=r.vendor;k.find(se=>se.id===ve)&&t(0,r.vendor=ve,r)}u==="create"&&k.length>0&&!r.vendor&&(t(0,r.vendor=k[0].id,r),await B(r.vendor))}}catch(q){console.error("Failed to load vendors",q)}}async function B(q){try{const le=await fetch(`/api/models?vendor=${q}`);if(le.ok){const ve=await le.json();if(t(2,V=(ve.models||[]).filter(se=>se.type!=="expansion-module").sort((se,ee)=>se.name.localeCompare(ee.name))),console.log("Loaded models:",V),r.model_id)if(!V.find(ee=>ee.id===r.model_id))console.warn(`Model ${r.model_id} not found in list. Resetting.`),t(0,r.model_id="",r);else{const ee=r.model_id;t(0,r.model_id="",r),setTimeout(()=>{t(0,r.model_id=ee,r)},0)}V.length>0&&!r.model_id&&(t(0,r.model_id=V[0].id,r),console.log("loadModels - Defaulting to first model",r.model_id))}}catch(le){console.error("Failed to load models",le),t(2,V=[])}}function G(){t(0,r.model_id="",r),r.vendor?B(r.vendor):t(2,V=[])}function Q(q){const le=q.target;console.log("Model changed to:",le.value),t(0,r.model_id=le.value,r)}async function X(){r.expansion_modules_count&&t(0,r.expansion_modules_count=parseInt(String(r.expansion_modules_count),10),r),console.log("Saving phone:",JSON.parse(JSON.stringify(r))),t(7,E=!0);try{const q=u==="create"?"/api/phones":`/api/phones/${r.id}`,ve=await fetch(q,{method:u==="create"?"POST":"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(ve.ok){const se=await ve.json();$t.success(u==="create"?_("phone.create_success")||"Phone created successfully":_("phone.update_success")||"Phone updated successfully"),f("save",se),u==="create"&&t(0,r={...r,mac_address:"",phone_number:"",ip_address:"",description:"",lines:[]})}else{const se=await ve.text();$t.error(se||"Failed to save phone")}}catch(q){$t.error("Error: "+q.message)}finally{t(7,E=!1)}}function be(q){t(0,r.lines=q.detail,r),t(8,K=!1)}function U(){u==="create"&&r.phone_number&&(!r.lines||r.lines.length===0)&&(t(0,r.lines=[{type:"Line",account_number:1,panel_number:0,key_number:1,additional_info:JSON.stringify({line_number:"1",display_name:r.phone_number,user_name:r.phone_number,auth_name:r.phone_number,password:"",screen_name:r.phone_number})}],r),$t.info("Line 1 automatically created"))}function b(){r.domain=dt(this),t(0,r),t(5,m)}function Y(){r.vendor=dt(this),t(0,r),t(5,m)}function te(){r.expansion_module_model=dt(this),t(0,r),t(5,m)}function ne(q){l.$$.not_equal(r.expansion_modules_count,q)&&(r.expansion_modules_count=q,t(0,r))}function ie(q){l.$$.not_equal(r.mac_address,q)&&(r.mac_address=q,t(0,r))}function re(q){l.$$.not_equal(r.phone_number,q)&&(r.phone_number=q,t(0,r))}function he(q){l.$$.not_equal(r.ip_address,q)&&(r.ip_address=q,t(0,r))}function $e(q){l.$$.not_equal(r.description,q)&&(r.description=q,t(0,r))}const we=()=>t(8,K=!0);function ae(q){K=q,t(8,K)}const Fe=()=>t(8,K=!1);return l.$$set=q=>{"phone"in q&&t(0,r=q.phone),"mode"in q&&t(1,u=q.mode)},l.$$.update=()=>{l.$$.dirty[0]&5&&t(3,n=V.find(q=>q.id===r.model_id)),l.$$.dirty[0]&8&&t(4,a=(n==null?void 0:n.max_account_lines)||0),l.$$.dirty[0]&16&&t(11,s=a>0),l.$$.dirty[0]&8&&t(10,o=(n==null?void 0:n.own_soft_keys)||0),l.$$.dirty[0]&8&&t(9,i=(n==null?void 0:n.own_hard_keys)||0)},[r,u,V,n,a,m,k,E,K,i,o,s,_,R,G,Q,X,be,U,b,Y,te,ne,ie,re,he,$e,we,ae,Fe]}class Is extends Et{constructor(e){super(),It(this,e,us,fs,kt,{phone:0,mode:1},null,[-1,-1])}}export{Is as P,Jn as a};
